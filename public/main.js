class S{skyWidth;skyHeight;stars;backgroundStars;time=0;constructor(s,i){this.skyWidth=s,this.skyHeight=i,this.stars=this.generateStars(800),this.backgroundStars=this.generateBackgroundStars(200)}generateStars(s){let i=[],r=12345,n=()=>{return r=r*1103515245+12345&2147483647,r/2147483647};for(let e=0;e<s;e++)i.push({x:n()*this.skyWidth,y:n()*this.skyHeight,size:n()*2+0.5,brightness:n()*0.5+0.5,twinkleOffset:n()*Math.PI*2});return i}generateBackgroundStars(s){let i=[],r=67890,n=()=>{return r=r*1103515245+12345&2147483647,r/2147483647};for(let e=0;e<s;e++)i.push({x:n()*this.skyWidth,y:n()*this.skyHeight,size:n()*1.5+0.3,brightness:n()*0.6+0.2,twinkleOffset:n()*Math.PI*2});return i}getBackgroundStars(){return this.backgroundStars}render(s,i,r,n,e,b){this.time+=0.016;for(let h of this.stars){let d=h.x-i+n/2,y=h.y-r+e/2;if(d<-50||d>n+50||y<-50||y>e+50)continue;let u=Math.sin(this.time*2+h.twinkleOffset)*0.2+0.8,o=h.brightness*u;this.drawStar(s,d,y,h.size,o)}}drawStar(s,i,r,n,e){let b=s.createRadialGradient(i,r,0,i,r,n*4);b.addColorStop(0,`rgba(200, 210, 255, ${e*0.3})`),b.addColorStop(0.5,`rgba(200, 210, 255, ${e*0.1})`),b.addColorStop(1,"rgba(200, 210, 255, 0)"),s.beginPath(),s.arc(i,r,n*4,0,Math.PI*2),s.fillStyle=b,s.fill(),s.beginPath(),s.arc(i,r,n,0,Math.PI*2),s.fillStyle=`rgba(255, 255, 255, ${e})`,s.fill()}}class G{element;radius;currentOffsetX=0;currentOffsetY=0;targetOffsetX=0;targetOffsetY=0;defaultLagFactor=0.06;currentLagFactor=0.06;radiusMultiplier=1;constructor(s){this.element=s,this.radius=this.calculateRadius(),window.addEventListener("resize",()=>{this.radius=this.calculateRadius(),this.updateElementPosition()}),this.updateElementPosition()}calculateRadius(){return Math.min(window.innerWidth,window.innerHeight)*0.36*this.radiusMultiplier}setDriftFactor(s){this.currentLagFactor=this.defaultLagFactor+s*0.14}setRadiusMultiplier(s){this.radiusMultiplier=s,this.radius=this.calculateRadius()}update(s,i,r){this.targetOffsetX=s-window.innerWidth/2,this.targetOffsetY=i-window.innerHeight/2;let n=1-Math.pow(1-this.currentLagFactor,r*60),e=this.targetOffsetX-this.currentOffsetX,b=this.targetOffsetY-this.currentOffsetY;this.currentOffsetX+=e*n,this.currentOffsetY+=b*n}updateElementPosition(){let s=window.innerWidth/2,i=window.innerHeight/2;this.element.style.left=`${s}px`,this.element.style.top=`${i}px`}getPosition(){return{x:window.innerWidth/2,y:window.innerHeight/2}}getViewOffset(){return{x:this.currentOffsetX,y:this.currentOffsetY}}getRadius(){return this.radius}magnification=1;setMagnification(s){this.magnification=s}getMagnification(){return this.magnification}getInWorldRadius(){return this.radius/this.magnification}}class z{get id(){return this.data.id}get name(){return this.data.name}get x(){return this.data.centerX}get y(){return this.data.centerY}get radius(){return this.data.radius}containsPoint(s,i){let r=s-this.x,n=i-this.y;return r*r+n*n<this.radius*this.radius}data;hoverTime=0;_discoveryProgress=0;isAnimating=!1;animationTime=0;revealedConnections=0;currentConnectionProgress=0;lastRevealedConnections=0;onAnimationComplete=null;onConnectionRevealed=null;starActivationTimes=new Map;cosmicFlashTime=0;colors={coreWhite:"rgba(255, 255, 245, ",innerGold:"rgba(255, 225, 130, ",midAmber:"rgba(255, 190, 80, ",outerGlow:"rgba(220, 160, 60, ",cosmicHaze:"rgba(180, 140, 100, "};hoverTimeRequired=2;animationDuration=3.5;starFlashDuration=0.6;cosmicFlashDuration=1.2;scale=0.85;constructor(s){this.data={...s}}getScaledStarPosition(s){let i=s.x-this.data.centerX,r=s.y-this.data.centerY;return{x:this.data.centerX+i*this.scale,y:this.data.centerY+r*this.scale}}getData(){return this.data}getAnimationDuration(){return this.animationDuration}setOnAnimationComplete(s){this.onAnimationComplete=s}setOnConnectionRevealed(s){this.onConnectionRevealed=s}get isDiscovered(){return this.data.discovered}get discoveryProgress(){return this._discoveryProgress}getDiscoveryProgress(){return this._discoveryProgress}addHoverTime(s){if(this.data.discovered||this.isAnimating)return!1;if(this.hoverTime+=s,this._discoveryProgress=Math.min(1,this.hoverTime/this.hoverTimeRequired),this.hoverTime>=this.hoverTimeRequired)return this.discover(),!0;return!1}resetHoverTime(){this.hoverTime=0,this._discoveryProgress=0}discover(){this.data.discovered=!0,this.isAnimating=!0,this.animationTime=0,this.revealedConnections=0,this.starActivationTimes.clear(),this.cosmicFlashTime=0}cancelDiscovery(){if(!this.isAnimating)return;this.data.discovered=!1,this.isAnimating=!1,this.animationTime=0,this.revealedConnections=0,this.currentConnectionProgress=0,this.starActivationTimes.clear(),this.cosmicFlashTime=0,this.hoverTime=0,this._discoveryProgress=0,this.onAnimationComplete=null,this.onConnectionRevealed=null}isAnimatingDiscovery(){return this.isAnimating}update(s,i=!0){if(!this.isAnimating)return;if(!i)return;let r=this.animationTime===0;if(this.animationTime+=s,r&&this.data.connections.length>0){let h=this.data.connections[0];if(h){let[d]=h;if(d!==void 0){if(this.starActivationTimes.set(d,this.animationTime),this.onConnectionRevealed)this.onConnectionRevealed(-1,this.data.connections.length)}}}let e=Math.min(1,this.animationTime/this.animationDuration)*this.data.connections.length,b=Math.floor(e);if(this.currentConnectionProgress=e-b,b>this.revealedConnections)for(let h=this.revealedConnections;h<b;h++){if(this.onConnectionRevealed)this.onConnectionRevealed(h,this.data.connections.length);let d=this.data.connections[h];if(d){let[,y]=d;if(y!==void 0&&!this.starActivationTimes.has(y))this.starActivationTimes.set(y,this.animationTime)}}if(this.revealedConnections=b,this.animationTime>=this.animationDuration){if(this.isAnimating=!1,this.revealedConnections=this.data.connections.length,this.currentConnectionProgress=0,this.onAnimationComplete)this.onAnimationComplete(),this.onAnimationComplete=null,this.onConnectionRevealed=null}}render(s,i,r,n,e,b=1){let h=i,d=this.data.centerX-i,y=6000;if(d<-y/2)h-=y;else if(d>y/2)h+=y;let u=this.data.centerX-h+n/2,o=this.data.centerY-r+e/2;if(Math.abs(u-n/2)>n||Math.abs(o-e/2)>e)return;if(this.data.discovered)this.renderDiscovered(s,h,r,n,e,b);else if(this._discoveryProgress>0)this.renderHint(s,h,r,n,e)}renderHint(s,i,r,n,e){let b=this._discoveryProgress*0.5;for(let h of this.data.stars){let d=this.getScaledStarPosition(h),y=d.x-i+n/2,u=d.y-r+e/2,o=Math.sin(Date.now()*0.005)*0.3+0.7,g=3+h.brightness*2;s.beginPath(),s.arc(y,u,g*3,0,Math.PI*2);let t=s.createRadialGradient(y,u,0,y,u,g*3);t.addColorStop(0,`rgba(255, 217, 61, ${b*o*0.5})`),t.addColorStop(1,"rgba(255, 217, 61, 0)"),s.fillStyle=t,s.fill()}}renderDiscovered(s,i,r,n,e,b=1){let h=this.data.centerX-i+n/2,d=this.data.centerY-r+e/2;if(this.isAnimating&&this.revealedConnections===this.data.connections.length&&this.cosmicFlashTime===0)this.cosmicFlashTime=this.animationTime;let u=0;if(this.cosmicFlashTime>0){let N=this.animationTime-this.cosmicFlashTime;if(N<this.cosmicFlashDuration){let A=N/this.cosmicFlashDuration;u=Math.sin(A*Math.PI)}}let o=(this.isAnimating?0.8:0.6)*b,g=o+u*0.4;if(u>0){let N=u*350,A=s.createRadialGradient(h,d,N*0.7,h,d,N);A.addColorStop(0,"rgba(255, 220, 100, 0)"),A.addColorStop(0.5,`rgba(255, 180, 50, ${u*0.4})`),A.addColorStop(1,"rgba(255, 140, 30, 0)"),s.beginPath(),s.arc(h,d,N,0,Math.PI*2),s.fillStyle=A,s.fill();let p=s.createRadialGradient(h,d,0,h,d,180);p.addColorStop(0,`rgba(255, 250, 220, ${u*0.5})`),p.addColorStop(0.4,`rgba(255, 200, 100, ${u*0.3})`),p.addColorStop(1,"rgba(255, 160, 50, 0)"),s.beginPath(),s.arc(h,d,180,0,Math.PI*2),s.fillStyle=p,s.fill()}s.lineCap="round";let t=this.isAnimating?this.revealedConnections:this.data.connections.length,T=(N,A)=>{return Math.abs(A-N)>3000},q=(N,A,p,m,Q,x,J)=>{let V=N-Q+x/2,U=A,P=p-Q+x/2,$=m;if(T(N,p)){let K=N<p?N:p,D=N<p?p:N,M=N<p?A:m,O=N<p?m:A,k=K-Q+x/2,E=D-Q+x/2,W=D-6000-Q+x/2,I=K+6000-Q+x/2,t1=200,g1=k>=-200&&k<=x+200,u1=E>=-200&&E<=x+200;if(g1||W>=-200&&W<=x+200)this.drawGlowingLine(s,k,M,W,O,J);if(u1||I>=-200&&I<=x+200)this.drawGlowingLine(s,I,M,E,O,J)}else this.drawGlowingLine(s,V,U,P,$,J)};for(let N=0;N<t;N++){let A=this.data.connections[N];if(!A)continue;let[p,m]=A,Q=this.data.stars[p],x=this.data.stars[m];if(!Q||!x)continue;let J=this.getScaledStarPosition(Q),Z=this.getScaledStarPosition(x),V=J.y-r+e/2,U=Z.y-r+e/2;q(J.x,V,Z.x,U,i,n,g)}if(this.isAnimating&&this.revealedConnections<this.data.connections.length){let N=this.data.connections[this.revealedConnections];if(N){let[A,p]=N,m=this.data.stars[A],Q=this.data.stars[p];if(m&&Q){let x=this.getScaledStarPosition(m),J=this.getScaledStarPosition(Q),Z=x.y-r+e/2,V=J.y-r+e/2,U=this.currentConnectionProgress,P=6000,$=x.x,K=Z;if(T(x.x,J.x)){let M=J.x-x.x;if(Math.abs(M)>3000){let O=M>0?J.x-6000:J.x+6000;if($=x.x+(O-x.x)*U,$<0)$+=6000;if($>=6000)$-=6000}}else $=x.x+(J.x-x.x)*U;K=Z+(V-Z)*U,q(x.x,Z,$,K,i,n,g);let D=$-i+n/2;this.drawSparkHead(s,D,K)}}}for(let N=0;N<this.data.stars.length;N++){let A=this.data.stars[N];if(!A)continue;let p=this.getScaledStarPosition(A),m=p.x-i+n/2,Q=p.y-r+e/2,x=this.starActivationTimes.get(N),J=x!==void 0,Z=3+A.brightness*3,V=o+u*0.3,U=0;if(this.isAnimating&&!J){let $=3+A.brightness*2,K=Math.sin(Date.now()*0.005)*0.3+0.7;s.beginPath(),s.arc(m,Q,$*3,0,Math.PI*2);let D=s.createRadialGradient(m,Q,0,m,Q,$*3);D.addColorStop(0,`rgba(255, 217, 61, ${0.35*K*0.5})`),D.addColorStop(1,"rgba(255, 217, 61, 0)"),s.fillStyle=D,s.fill();continue}if(this.isAnimating&&J){let P=this.animationTime-x;if(P<this.starFlashDuration)U=Math.sin(P/this.starFlashDuration*Math.PI),Z*=1+U*0.4,V=Math.min(1,V+U*0.3)}this.renderCosmicStar(s,m,Q,Z,V,J,U)}if(!this.isAnimating)s.font='16px "Cormorant Garamond", serif',s.fillStyle=`rgba(255, 220, 180, ${0.7*b})`,s.textAlign="center",s.shadowColor=`rgba(255, 180, 80, ${0.5*b})`,s.shadowBlur=10,s.fillText(this.data.name,h,d+this.data.radius+35),s.shadowBlur=0}drawGlowingLine(s,i,r,n,e,b){s.lineCap="round",s.beginPath(),s.moveTo(i,r),s.lineTo(n,e),s.strokeStyle=`${this.colors.outerGlow}${b*0.2})`,s.lineWidth=12,s.stroke(),s.beginPath(),s.moveTo(i,r),s.lineTo(n,e),s.strokeStyle=`${this.colors.midAmber}${b*0.4})`,s.lineWidth=6,s.stroke(),s.beginPath(),s.moveTo(i,r),s.lineTo(n,e),s.strokeStyle=`${this.colors.innerGold}${b*0.7})`,s.lineWidth=3,s.stroke(),s.beginPath(),s.moveTo(i,r),s.lineTo(n,e),s.strokeStyle=`${this.colors.coreWhite}${b*0.9})`,s.lineWidth=1.5,s.stroke()}drawSparkHead(s,i,r){let e=Date.now()*0.01,b=0.85+Math.sin(e)*0.15,h=s.createRadialGradient(i,r,0,i,r,25);h.addColorStop(0,`rgba(255, 160, 60, ${0.8*b})`),h.addColorStop(0.5,`rgba(220, 100, 40, ${0.4*b})`),h.addColorStop(1,"rgba(180, 80, 60, 0)"),s.beginPath(),s.arc(i,r,25,0,Math.PI*2),s.fillStyle=h,s.fill();let d=s.createRadialGradient(i,r,0,i,r,10);d.addColorStop(0,`rgba(255, 255, 250, ${b})`),d.addColorStop(0.4,`rgba(255, 230, 150, ${0.9*b})`),d.addColorStop(0.7,`rgba(255, 180, 80, ${0.5*b})`),d.addColorStop(1,"rgba(255, 140, 50, 0)"),s.beginPath(),s.arc(i,r,10,0,Math.PI*2),s.fillStyle=d,s.fill(),s.beginPath(),s.arc(i,r,2.5,0,Math.PI*2),s.fillStyle=`rgba(255, 255, 255, ${b})`,s.fill()}renderCosmicStar(s,i,r,n,e,b,h){let d=b?1+h*0.6:0.5;if(b){let t=n*6*d,T=s.createRadialGradient(i,r,n*2,i,r,t);T.addColorStop(0,`${this.colors.outerGlow}${e*0.15})`),T.addColorStop(0.6,`${this.colors.cosmicHaze}${e*0.08})`),T.addColorStop(1,"rgba(180, 140, 100, 0)"),s.beginPath(),s.arc(i,r,t,0,Math.PI*2),s.fillStyle=T,s.fill()}let y=n*4*d,u=s.createRadialGradient(i,r,n,i,r,y);u.addColorStop(0,`${this.colors.midAmber}${e*0.4})`),u.addColorStop(0.6,`${this.colors.outerGlow}${e*0.2})`),u.addColorStop(1,"rgba(220, 160, 60, 0)"),s.beginPath(),s.arc(i,r,y,0,Math.PI*2),s.fillStyle=u,s.fill();let o=n*2.5*d,g=s.createRadialGradient(i,r,0,i,r,o);g.addColorStop(0,`${this.colors.innerGold}${e*0.7})`),g.addColorStop(0.5,`${this.colors.midAmber}${e*0.4})`),g.addColorStop(1,"rgba(255, 190, 80, 0)"),s.beginPath(),s.arc(i,r,o,0,Math.PI*2),s.fillStyle=g,s.fill(),s.beginPath(),s.arc(i,r,n*0.8,0,Math.PI*2),s.fillStyle=`${this.colors.coreWhite}${Math.min(1,e*1.1)})`,s.fill()}}class _{id;name;x;y;radius;isDiscovered=!1;discoveryProgress=0;data;hoverTime=0;hoverTimeRequired=2;isAnimating=!1;animationTime=0;animationDuration=4;bloomProgress=0;onAnimationComplete=null;timeOffset;constructor(s){this.data=s,this.id=s.id,this.name=s.name,this.x=s.x,this.y=s.y,this.radius=Math.max(s.width,s.height)*1,this.timeOffset=Math.random()*1000}getData(){return this.data}containsPoint(s,i){let r=s-this.x,n=i-this.y;return r*r+n*n<this.radius*this.radius}update(s,i){if(this.isAnimating){if(this.animationTime+=s,this.bloomProgress=Math.min(1,this.animationTime/this.animationDuration),this.animationTime>=this.animationDuration){if(this.isAnimating=!1,this.bloomProgress=1,this.onAnimationComplete)this.onAnimationComplete(),this.onAnimationComplete=null}}else if(this.isDiscovered)this.bloomProgress=1}addHoverTime(s){if(this.isDiscovered||this.isAnimating)return!1;if(this.hoverTime+=s,this.discoveryProgress=Math.min(1,this.hoverTime/this.hoverTimeRequired),this.hoverTime>=this.hoverTimeRequired)return this.discover(),!0;return!1}resetHoverTime(){this.hoverTime=0,this.discoveryProgress=0}discover(){this.isDiscovered=!0,this.isAnimating=!0,this.animationTime=0,this.bloomProgress=0}setOnAnimationComplete(s){this.onAnimationComplete=s}render(s,i,r,n,e,b=1,h=1){if(this.x+this.radius<i||this.x-this.radius>i+n||this.y+this.radius<r||this.y-this.radius>r+e)return;let d=0;if(this.isDiscovered)d=this.bloomProgress;else d=0.1+this.discoveryProgress*0.3;if(d<=0.01)return;if(s.save(),s.translate(this.x-i+n/2,this.y-r+e/2),s.scale(b,b),this.data.rotation)s.rotate(this.data.rotation);let y=Date.now()/1000+this.timeOffset,u=1+Math.sin(y*0.5)*0.03;if(s.scale(u,u),this.data.layers)for(let o of this.data.layers)s.globalCompositeOperation=o.blendMode||"screen",this.drawLayer(s,o,d,y,h);if(this.isDiscovered&&!this.isAnimating){s.setTransform(1,0,0,1,0,0);let o=this.x-i+n/2,g=this.y-r+e/2;s.globalCompositeOperation="source-over",s.globalAlpha=1,s.font='16px "Cormorant Garamond", serif',s.fillStyle="rgba(220, 200, 255, 0.7)",s.textAlign="center",s.fillText(this.name,o,g+this.radius*0.8+20)}s.restore()}drawLayer(s,i,r,n,e=1){let b=i.opacity*r*e;if(b<=0)return;s.save();let h=i.offsetX*13+i.offsetY*17,d=Math.sin(n*0.3+h)*5,y=Math.cos(n*0.4+h)*5;if(s.translate(i.offsetX+d,i.offsetY+y),i.rotation)s.rotate(i.rotation);let u=s.createRadialGradient(0,0,0,0,0,Math.max(i.width,i.height)/2);if(u.addColorStop(0,i.color),u.addColorStop(1,"rgba(0,0,0,0)"),s.fillStyle=u,s.globalAlpha=b,s.beginPath(),i.shape==="ellipse")s.ellipse(0,0,i.width/2,i.height/2,0,0,Math.PI*2);else if(i.shape==="streak")s.ellipse(0,0,i.width/2,i.height/6,0,0,Math.PI*2);else s.ellipse(0,0,i.width/2,i.height/2,0,0,Math.PI*2);s.fill(),s.restore()}}class F{id;name;x;y;radius;isDiscovered=!1;discoveryProgress=0;data;stars=[];hoverTime=0;hoverTimeRequired=2;isAnimating=!1;animationTime=0;animationDuration=2.5;onAnimationComplete=null;constructor(s){this.data=s,this.id=s.id,this.name=s.name,this.x=s.x,this.y=s.y,this.radius=s.radius,this.generateStars()}getData(){return this.data}generateStars(){for(let s=0;s<this.data.starCount;s++){let i=Math.random()*Math.PI*2,r=Math.pow(Math.random(),0.5)*this.data.radius;this.stars.push({x:Math.cos(i)*r,y:Math.sin(i)*r,size:Math.random()*1.5+0.5,brightness:Math.random()*0.5+0.5})}}containsPoint(s,i){let r=s-this.x,n=i-this.y;return r*r+n*n<this.radius*this.radius}addHoverTime(s){if(this.isDiscovered||this.isAnimating)return!1;if(this.hoverTime+=s,this.discoveryProgress=Math.min(1,this.hoverTime/this.hoverTimeRequired),this.hoverTime>=this.hoverTimeRequired)return this.discover(),!0;return!1}resetHoverTime(){this.hoverTime=0,this.discoveryProgress=0}discover(){this.isDiscovered=!0,this.isAnimating=!0,this.animationTime=0;let s=this.animationDuration*0.7;for(let i of this.stars)i.activationTime=Math.random()*s}setOnAnimationComplete(s){this.onAnimationComplete=s}update(s,i){if(this.isAnimating){if(this.animationTime+=s,this.animationTime>=this.animationDuration){if(this.isAnimating=!1,this.onAnimationComplete)this.onAnimationComplete(),this.onAnimationComplete=null}}}render(s,i,r,n,e,b=1,h=1){let d=this.x-i+n/2,y=this.y-r+e/2;if(s.save(),s.translate(d,y),s.scale(b,b),s.translate(-d,-y),!this.isDiscovered&&this.discoveryProgress>0){s.save();let u=this.discoveryProgress*0.3,o=1+Math.sin(Date.now()*0.005)*0.1,g=s.createRadialGradient(d,y,0,d,y,this.radius*1.5);g.addColorStop(0,`rgba(200, 220, 255, ${u*o})`),g.addColorStop(1,"rgba(0,0,0,0)"),s.fillStyle=g,s.beginPath(),s.arc(d,y,this.radius*1.5,0,Math.PI*2),s.fill(),s.restore()}if(this.isDiscovered){let u=this.isAnimating?Math.min(1,this.animationTime/1):1;if(u>0){s.save(),s.globalAlpha=u*h,s.globalCompositeOperation="screen";for(let o of this.stars){if(o.brightness<0.6)continue;let g=d+o.x,t=y+o.y,T=this.data.color||"#A0C0FF",q=s.createRadialGradient(g,t,0,g,t,o.size*30);q.addColorStop(0,T+"22"),q.addColorStop(1,"#00000000"),s.fillStyle=q,s.beginPath(),s.arc(g,t,o.size*30,0,Math.PI*2),s.fill(),s.save(),s.translate(g,t),s.rotate(o.x*0.01+o.y*0.01);let N=s.createLinearGradient(-20,0,20,0);N.addColorStop(0,"#00000000"),N.addColorStop(0.5,T+"11"),N.addColorStop(1,"#00000000"),s.fillStyle=N,s.fillRect(-20,-10,40,20),s.restore()}s.restore()}for(let o of this.stars){let g=0,t=o.size;if(this.isAnimating&&o.activationTime!==void 0){if(this.animationTime<o.activationTime)continue;let N=this.animationTime-o.activationTime;if(N<0.3){let A=Math.sin(N/0.3*Math.PI);t=o.size*(1+A*2),g=1}else g=o.brightness}else g=o.brightness;let T=d+o.x,q=y+o.y;if(s.beginPath(),s.arc(T,q,t,0,Math.PI*2),s.fillStyle=`rgba(255, 255, 255, ${g})`,s.fill(),g>0.5)s.beginPath(),s.arc(T,q,t*3,0,Math.PI*2),s.fillStyle=`rgba(160, 200, 255, ${g*0.3})`,s.fill()}if(!this.isAnimating)s.font='14px "Cormorant Garamond", serif',s.fillStyle="rgba(200, 220, 255, 0.7)",s.textAlign="center",s.fillText(this.name,d,y+this.radius+25)}s.restore()}}class B{id;name;x;y;radius;isDiscovered=!1;discoveryProgress=0;data;hoverTime=0;hoverTimeRequired=2;isAnimating=!1;animationTime=0;animationDuration=5;bloomProgress=0;onAnimationComplete=null;timeOffset;rotationSpeed;constructor(s){this.data=s,this.id=s.id,this.name=s.name,this.x=s.x,this.y=s.y,this.radius=Math.max(s.width,s.height)*1,this.timeOffset=Math.random()*1000,this.rotationSpeed=s.galaxyType==="spiral"?0.00005:0}getData(){return this.data}containsPoint(s,i){let r=s-this.x,n=i-this.y;return r*r+n*n<this.radius*this.radius}update(s,i){if(this.isAnimating){if(this.animationTime+=s,this.bloomProgress=Math.min(1,this.animationTime/this.animationDuration),this.animationTime>=this.animationDuration){if(this.isAnimating=!1,this.bloomProgress=1,this.onAnimationComplete)this.onAnimationComplete(),this.onAnimationComplete=null}}else if(this.isDiscovered)this.bloomProgress=1}addHoverTime(s){if(this.isDiscovered||this.isAnimating)return!1;if(this.hoverTime+=s,this.discoveryProgress=Math.min(1,this.hoverTime/this.hoverTimeRequired),this.hoverTime>=this.hoverTimeRequired)return this.discover(),!0;return!1}resetHoverTime(){this.hoverTime=0,this.discoveryProgress=0}discover(){this.isDiscovered=!0,this.isAnimating=!0,this.animationTime=0,this.bloomProgress=0}setOnAnimationComplete(s){this.onAnimationComplete=s}render(s,i,r,n,e,b=1,h=1){if(this.x+this.radius<i||this.x-this.radius>i+n||this.y+this.radius<r||this.y-this.radius>r+e)return;let d=0;if(this.isDiscovered)d=this.bloomProgress;else d=0.05+this.discoveryProgress*0.25;if(d<=0.01)return;if(s.save(),s.translate(this.x-i+n/2,this.y-r+e/2),s.scale(b,b),this.data.rotation)s.rotate(this.data.rotation);if(this.rotationSpeed>0){let o=Date.now()/1000+this.timeOffset;s.rotate(o*this.rotationSpeed)}let y=Date.now()/1000+this.timeOffset,u=1+Math.sin(y*0.3)*0.02;if(s.scale(u,u),this.data.layers)for(let o of this.data.layers)s.globalCompositeOperation=o.blendMode||"screen",this.drawLayer(s,o,d,y,h);if(this.isDiscovered&&!this.isAnimating){s.setTransform(1,0,0,1,0,0);let o=this.x-i+n/2,g=this.y-r+e/2;s.globalCompositeOperation="source-over",s.globalAlpha=1,s.font='15px "Cormorant Garamond", serif',s.fillStyle="rgba(200, 210, 230, 0.75)",s.textAlign="center",s.fillText(this.name,o,g+this.radius*0.8+22)}s.restore()}drawLayer(s,i,r,n,e=1){let b=i.opacity*r*e;if(b<=0)return;s.save();let h=i.offsetX*13+i.offsetY*17,d=Math.sin(n*0.2+h)*3,y=Math.cos(n*0.25+h)*3;if(s.translate(i.offsetX+d,i.offsetY+y),i.rotation)s.rotate(i.rotation);let u=s.createRadialGradient(0,0,0,0,0,Math.max(i.width,i.height)/2);if(u.addColorStop(0,i.color),u.addColorStop(1,"rgba(0,0,0,0)"),s.fillStyle=u,s.globalAlpha=b,s.beginPath(),i.shape==="ellipse")s.ellipse(0,0,i.width/2,i.height/2,0,0,Math.PI*2);else if(i.shape==="streak")s.ellipse(0,0,i.width/2,i.height/6,0,0,Math.PI*2);else s.ellipse(0,0,i.width/2,i.height/2,0,0,Math.PI*2);s.fill(),s.restore()}}var L=6000,R=3000,v={northern:{id:"northern",name:"Alpine Observatory",location:"Swiss Alps, 46°N",description:"A historic mountain observatory with crisp, clear skies perfect for viewing northern constellations."},southern:{id:"southern",name:"Atacama Observatory",location:"Chile, 24°S",description:"One of the driest places on Earth, offering unparalleled views of the southern celestial hemisphere."}},h1=[{id:"and",name:"Andromeda",latinName:"Andromeda",description:"The Chained Princess - Home to the Andromeda Galaxy, our nearest major galaxy.",centerX:137,centerY:866,radius:100,discovered:!1,observatory:"northern",stars:[{id:"and-0",x:516,y:795,brightness:0.9620375792412359},{id:"and-1",x:291,y:906,brightness:0.9539600694919892},{id:"and-2",x:164,y:986,brightness:0.8442559488824752},{id:"and-3",x:35,y:1015,brightness:0.9066089978527462},{id:"and-4",x:238,y:1110,brightness:0.8190373602716711},{id:"and-5",x:197,y:1096,brightness:0.8078582302172482},{id:"and-6",x:161,y:1011,brightness:0.8617579805036171},{id:"and-7",x:154,y:938,brightness:0.8695561889308879},{id:"and-8",x:5909,y:779,brightness:0.9525175041596396},{id:"and-9",x:5758,y:795,brightness:0.8787642494797793},{id:"and-10",x:5918,y:761,brightness:0.9706663090860288},{id:"and-11",x:5907,y:726,brightness:0.9590802117976294},{id:"and-12",x:236,y:858,brightness:0.9147656992589484},{id:"and-13",x:208,y:815,brightness:0.8561203879625044},{id:"and-14",x:290,y:713,brightness:0.9794980302752021},{id:"and-15",x:408,y:690,brightness:0.8405811359544688},{id:"and-16",x:5942,y:726,brightness:0.8717961126497221}],connections:[[0,1],[1,2],[2,3],[4,5],[5,6],[6,2],[2,7],[7,8],[8,9],[8,10],[10,11],[1,12],[12,13],[13,14],[14,15],[10,16]],set:"royal"},{id:"aql",name:"Aquila",latinName:"Aquila",description:"The Eagle - Contains Altair, one of the Summer Triangle stars.",centerX:4913,centerY:1420,radius:100,discovered:!1,observatory:"northern",stars:[{id:"aql-0",x:4943,y:1323,brightness:0.8311662195289986},{id:"aql-1",x:4962,y:1352,brightness:0.8480625825820228},{id:"aql-2",x:4980,y:1393,brightness:0.8585178797244517},{id:"aql-3",x:5047,y:1514,brightness:0.916655561314364},{id:"aql-4",x:4969,y:1483,brightness:0.8056836865502524},{id:"aql-5",x:4856,y:1448,brightness:0.8652493358414441},{id:"aql-6",x:4773,y:1269,brightness:0.953390902994255},{id:"aql-7",x:4776,y:1581,brightness:0.9883859285284333}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,1],[1,5],[5,7]]},{id:"ari",name:"Aries",latinName:"Aries",description:"The Ram - A zodiac constellation marking the spring equinox.",centerX:547,centerY:1122,radius:100,discovered:!1,observatory:"northern",stars:[{id:"ari-0",x:708,y:1046,brightness:0.8922248274391695},{id:"ari-1",x:530,y:1109,brightness:0.8642925443124844},{id:"ari-2",x:478,y:1153,brightness:0.838519434208359},{id:"ari-3",x:473,y:1178,brightness:0.8157015636762219}],connections:[[0,1],[1,2],[2,3]],set:"zodiac"},{id:"aur",name:"Auriga",latinName:"Auriga",description:"The Charioteer - Contains bright Capella, the sixth-brightest star.",centerX:1356,centerY:814,radius:100,discovered:!1,observatory:"northern",stars:[{id:"aur-0",x:1498,y:751,brightness:0.8473921615656506},{id:"aur-1",x:1320,y:733,brightness:0.8609393411401669},{id:"aur-2",x:1277,y:813,brightness:0.9919329587739957},{id:"aur-3",x:1237,y:947,brightness:0.9918777025011927},{id:"aur-4",x:1360,y:1023,brightness:0.9702992811920857},{id:"aur-5",x:1499,y:880,brightness:0.8216339313128991},{id:"aur-6",x:1498,y:595,brightness:0.8801322635398034},{id:"aur-7",x:1258,y:770,brightness:0.9032729308386923},{id:"aur-8",x:1260,y:815,brightness:0.8936522084137619}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,0],[0,6],[6,1],[1,7],[7,8]]},{id:"boo",name:"Boötes",latinName:"Boötes",description:"The Herdsman - Contains Arcturus, the fourth-brightest star in the sky.",centerX:3618,centerY:961,radius:100,discovered:!1,observatory:"northern",stars:[{id:"boo-0",x:3447,y:1209,brightness:0.8539275462512984},{id:"boo-1",x:3478,y:1193,brightness:0.8640101501359819},{id:"boo-2",x:3565,y:1180,brightness:0.8668974812473763},{id:"boo-3",x:3633,y:994,brightness:0.9303742408547278},{id:"boo-4",x:3634,y:862,brightness:0.8587432341740229},{id:"boo-5",x:3758,y:827,brightness:0.9209741304861594},{id:"boo-6",x:3815,y:945,brightness:0.9956573969075023},{id:"boo-7",x:3687,y:1049,brightness:0.8399943938471383},{id:"boo-8",x:3671,y:1271,brightness:0.8183823621962341},{id:"boo-9",x:3568,y:732,brightness:0.8346791490284258},{id:"boo-10",x:3556,y:637,brightness:0.8921158501447553},{id:"boo-11",x:3605,y:636,brightness:0.8321847568868502}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,2],[2,8],[4,9],[9,10],[10,11],[11,9]],set:"ursa"},{id:"cam",name:"Camelopardalis",latinName:"Camelopardalis",description:"The Giraffe - A large but faint northern constellation.",centerX:1231,centerY:409,radius:100,discovered:!1,observatory:"northern",stars:[{id:"cam-0",x:1239,y:604,brightness:0.8763445322059121},{id:"cam-1",x:1264,y:493,brightness:0.9118687083815054},{id:"cam-2",x:1225,y:394,brightness:0.9828701862453584},{id:"cam-3",x:960,y:311,brightness:0.9513330805815039},{id:"cam-4",x:956,y:408,brightness:0.9779590463668599},{id:"cam-5",x:871,y:501,brightness:0.9246127428979205},{id:"cam-6",x:1579,y:345,brightness:0.8759038507193742},{id:"cam-7",x:1750,y:217,brightness:0.8208516462438068}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[2,6],[6,7]]},{id:"cnc",name:"Cancer",latinName:"Cancer",description:"The Crab - A zodiac constellation containing the Beehive Cluster.",centerX:2175,centerY:1202,radius:100,discovered:!1,observatory:"northern",stars:[{id:"cnc-0",x:2244,y:1302,brightness:0.9932500409496179},{id:"cnc-1",x:2186,y:1197,brightness:0.9072884567326159},{id:"cnc-2",x:2180,y:1142,brightness:0.953886799437287},{id:"cnc-3",x:2194,y:1021,brightness:0.8051888190114975},{id:"cnc-4",x:2069,y:1347,brightness:0.9892711666663944}],connections:[[0,1],[1,2],[2,3],[1,4]],set:"zodiac"},{id:"cvn",name:"Canes Venatici",latinName:"Canes Venatici",description:"The Hunting Dogs - Contains the beautiful Whirlpool Galaxy.",centerX:3187,centerY:836,radius:63,discovered:!1,observatory:"northern",stars:[{id:"cvn-0",x:3233,y:861,brightness:0.8037113796575756},{id:"cvn-1",x:3141,y:811,brightness:0.9860565806409667}],connections:[[0,1]],set:"ursa"},{id:"cmi",name:"Canis Minor",latinName:"Canis Minor",description:"The Little Dog - Contains Procyon, the eighth-brightest star.",centerX:1889,centerY:1388,radius:50,discovered:!1,observatory:"northern",stars:[{id:"cmi-0",x:1914,y:1413,brightness:0.8616559703101181},{id:"cmi-1",x:1863,y:1362,brightness:0.8961333321863543}],connections:[[0,1]],set:"orion"},{id:"cas",name:"Cassiopeia",latinName:"Cassiopeia",description:"The Queen - Famous W-shaped constellation circling the North Pole.",centerX:256,centerY:499,radius:100,discovered:!1,observatory:"northern",stars:[{id:"cas-0",x:477,y:439,brightness:0.9097474323387396},{id:"cas-1",x:358,y:496,brightness:0.8355579724612648},{id:"cas-2",x:236,y:488,brightness:0.9148980960650501},{id:"cas-3",x:169,y:558,brightness:0.9552904107154736},{id:"cas-4",x:38,y:514,brightness:0.9275716322542573}],connections:[[0,1],[1,2],[2,3],[3,4]],set:"royal"},{id:"cep",name:"Cepheus",latinName:"Cepheus",description:"The King - A circumpolar constellation, husband of Cassiopeia.",centerX:5479,centerY:443,radius:100,discovered:!1,observatory:"northern",stars:[{id:"cep-0",x:5123,y:450,brightness:0.8935790009328494},{id:"cep-1",x:5189,y:469,brightness:0.8173236410228053},{id:"cep-2",x:5327,y:457,brightness:0.97929040245382},{id:"cep-3",x:5431,y:520,brightness:0.8206677016687691},{id:"cep-4",x:5563,y:549,brightness:0.9131897110976548},{id:"cep-5",x:5545,y:530,brightness:0.8451883081814345},{id:"cep-6",x:5622,y:526,brightness:0.8233080849713088},{id:"cep-7",x:5707,y:397,brightness:0.9751814272928662},{id:"cep-8",x:5914,y:206,brightness:0.9034271135977292},{id:"cep-9",x:5369,y:324,brightness:0.85714794196135}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,2],[9,7]],set:"royal"},{id:"com",name:"Coma Berenices",latinName:"Coma Berenices",description:"Berenice's Hair - Named after an Egyptian queen's sacrifice.",centerX:3234,centerY:1091,radius:100,discovered:!1,observatory:"northern",stars:[{id:"com-0",x:3292,y:1208,brightness:0.9430047650157299},{id:"com-1",x:3299,y:1035,brightness:0.979152809837747},{id:"com-2",x:3112,y:1029,brightness:0.9223670805711096}],connections:[[0,1],[1,2]]},{id:"crb",name:"Corona Borealis",latinName:"Corona Borealis",description:"The Northern Crown - A distinctive semicircular constellation.",centerX:3933,centerY:1033,radius:95,discovered:!1,observatory:"northern",stars:[{id:"crb-0",x:3887,y:977,brightness:0.9073657127484523},{id:"crb-1",x:3866,y:1015,brightness:0.8908890948877349},{id:"crb-2",x:3895,y:1055,brightness:0.859485090931614},{id:"crb-3",x:3928,y:1062,brightness:0.9599141162523968},{id:"crb-4",x:3957,y:1066,brightness:0.9185153496858479},{id:"crb-5",x:3990,y:1052,brightness:0.9642170374423666},{id:"crb-6",x:4006,y:1002,brightness:0.9646267469784564}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6]]},{id:"cyg",name:"Cygnus",latinName:"Cygnus",description:"The Swan - Contains Deneb and the Northern Cross asterism.",centerX:5029,centerY:828,radius:100,discovered:!1,observatory:"northern",stars:[{id:"cyg-0",x:5304,y:996,brightness:0.8504890200842548},{id:"cyg-1",x:5193,y:934,brightness:0.8180230529393824},{id:"cyg-2",x:5093,y:829,brightness:0.9034269731492583},{id:"cyg-3",x:4937,y:748,brightness:0.9599865688424805},{id:"cyg-4",x:4874,y:638,brightness:0.8410474676071025},{id:"cyg-5",x:4821,y:611,brightness:0.8935455968638081},{id:"cyg-6",x:5173,y:745,brightness:0.9621251010320908},{id:"cyg-7",x:4985,y:915,brightness:0.9749130073582575},{id:"cyg-8",x:4878,y:1034,brightness:0.931618008797589}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[6,2],[2,7],[7,8]]},{id:"del",name:"Delphinus",latinName:"Delphinus",description:"The Dolphin - A small but distinctive constellation.",centerX:5167,centerY:1257,radius:75,discovered:!1,observatory:"northern",stars:[{id:"del-0",x:5138,y:1312,brightness:0.8425755544025968},{id:"del-1",x:5156,y:1257,brightness:0.9917086963853232},{id:"del-2",x:5165,y:1235,brightness:0.960863781644409},{id:"del-3",x:5194,y:1231,brightness:0.8103362155052373},{id:"del-4",x:5181,y:1249,brightness:0.8664538031023676}],connections:[[0,1],[1,2],[2,3],[3,4],[4,1]],set:"waters"},{id:"dra",name:"Draco",latinName:"Draco",description:"The Dragon - Winds around the north celestial pole.",centerX:4162,centerY:449,radius:100,discovered:!1,observatory:"northern",stars:[{id:"dra-0",x:4473,y:552,brightness:0.8969924348010511},{id:"dra-1",x:4486,y:642,brightness:0.9346478965003903},{id:"dra-2",x:4377,y:628,brightness:0.9288886792177382},{id:"dra-3",x:4384,y:580,brightness:0.8294873582921167},{id:"dra-4",x:4802,y:372,brightness:0.9054574268024973},{id:"dra-5",x:4586,y:311,brightness:0.8214009925054847},{id:"dra-6",x:4287,y:405,brightness:0.9015847493308244},{id:"dra-7",x:4100,y:475,brightness:0.9531668946055786},{id:"dra-8",x:4008,y:524,brightness:0.9170498695699878},{id:"dra-9",x:3854,y:517,brightness:0.9978249956415447},{id:"dra-10",x:3518,y:427,brightness:0.8089228515801359},{id:"dra-11",x:3140,y:337,brightness:0.9716582475566861},{id:"dra-12",x:2881,y:344,brightness:0.9604556637661621},{id:"dra-13",x:4588,y:288,brightness:0.83770613304065},{id:"dra-14",x:4951,y:329,brightness:0.9180188522058751}],connections:[[0,1],[1,2],[2,3],[3,0],[0,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[5,13],[4,14]],set:"ursa"},{id:"equ",name:"Equuleus",latinName:"Equuleus",description:"The Little Horse - The second-smallest constellation.",centerX:5306,centerY:1359,radius:66,discovered:!1,observatory:"northern",stars:[{id:"equ-0",x:5316,y:1413,brightness:0.9132170640475785},{id:"equ-1",x:5310,y:1333,brightness:0.8585041549047774},{id:"equ-2",x:5293,y:1331,brightness:0.9004940416559882}],connections:[[0,1],[1,2]],set:"waters"},{id:"gem",name:"Gemini",latinName:"Gemini",description:"The Twins - A zodiac constellation with bright Castor and Pollux.",centerX:1762,centerY:1117,radius:100,discovered:!1,observatory:"northern",stars:[{id:"gem-0",x:1562,y:1125,brightness:0.8304466187228083},{id:"gem-1",x:1596,y:1125,brightness:0.9664063368039836},{id:"gem-2",x:1683,y:1081,brightness:0.9861864867849189},{id:"gem-3",x:1796,y:996,brightness:0.8586036120265661},{id:"gem-4",x:1894,y:969,brightness:0.9349379520634513},{id:"gem-5",x:1939,y:1033,brightness:0.8409463094073719},{id:"gem-6",x:1900,y:1052,brightness:0.9145754820793083},{id:"gem-7",x:1834,y:1134,brightness:0.915759044781348},{id:"gem-8",x:1767,y:1157,brightness:0.8320694409382909},{id:"gem-9",x:1657,y:1227,brightness:0.8660299472115498},{id:"gem-10",x:1689,y:1285,brightness:0.9906871455969046},{id:"gem-11",x:1825,y:1224,brightness:0.8681793323095665}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[7,11]],set:"zodiac"},{id:"her",name:"Hercules",latinName:"Hercules",description:"The Hero - The fifth-largest constellation, containing M13.",centerX:4252,centerY:957,radius:100,discovered:!1,observatory:"northern",stars:[{id:"her-0",x:4091,y:1181,brightness:0.8112535537833772},{id:"her-1",x:4126,y:1142,brightness:0.9029838319087654},{id:"her-2",x:4172,y:973,brightness:0.8433737457929767},{id:"her-3",x:4179,y:851,brightness:0.8624579135720006},{id:"her-4",x:4142,y:793,brightness:0.8683687390699499},{id:"her-5",x:4082,y:728,brightness:0.8327481652703501},{id:"her-6",x:4037,y:751,brightness:0.9540888064613119},{id:"her-7",x:3969,y:792,brightness:0.9173139476235086},{id:"her-8",x:4251,y:985,brightness:0.9563907889372049},{id:"her-9",x:4313,y:887,brightness:0.932812713470027},{id:"her-10",x:4484,y:879,brightness:0.946748617914126},{id:"her-11",x:4349,y:881,brightness:0.9250629815782804},{id:"her-12",x:4313,y:1086,brightness:0.8469611398305601},{id:"her-13",x:4444,y:1038,brightness:0.9999811020856749},{id:"her-14",x:4491,y:1013,brightness:0.8493890421180262},{id:"her-15",x:4531,y:1021,brightness:0.8254798308529275},{id:"her-16",x:4311,y:1260,brightness:0.8401395796134106}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[2,8],[3,9],[10,11],[11,9],[9,8],[8,12],[12,13],[13,14],[14,15],[16,1]]},{id:"lac",name:"Lacerta",latinName:"Lacerta",description:"The Lizard - A small constellation between Cygnus and Andromeda.",centerX:5607,centerY:739,radius:100,discovered:!1,observatory:"northern",stars:[{id:"lac-0",x:5598,y:630,brightness:0.9879142386017152},{id:"lac-1",x:5630,y:662,brightness:0.9563045930057037},{id:"lac-2",x:5623,y:705,brightness:0.8775776503541179},{id:"lac-3",x:5588,y:724,brightness:0.961696137860468},{id:"lac-4",x:5627,y:781,brightness:0.9117217305559226},{id:"lac-5",x:5669,y:762,brightness:0.8594198554325935},{id:"lac-6",x:5602,y:675,brightness:0.8395854546799887},{id:"lac-7",x:5558,y:838,brightness:0.8839460618876146},{id:"lac-8",x:5567,y:871,brightness:0.971198161523315}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,2],[2,6],[6,0],[4,7],[7,8]]},{id:"leo",name:"Leo",latinName:"Leo",description:"The Lion - A zodiac constellation with bright Regulus.",centerX:2634,centerY:1181,radius:100,discovered:!1,observatory:"northern",stars:[{id:"leo-0",x:2535,y:1301,brightness:0.8931815982655413},{id:"leo-1",x:2531,y:1221,brightness:0.9219666669719105},{id:"leo-2",x:2583,y:1169,brightness:0.9940274468834429},{id:"leo-3",x:2809,y:1158,brightness:0.818326729787653},{id:"leo-4",x:2954,y:1257,brightness:0.8309429765784608},{id:"leo-5",x:2809,y:1243,brightness:0.964352856708887},{id:"leo-6",x:2570,y:1110,brightness:0.8039701160564002},{id:"leo-7",x:2470,y:1067,brightness:0.8269286677065875},{id:"leo-8",x:2441,y:1104,brightness:0.9073488539461136}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,0],[2,6],[6,7],[7,8]],set:"zodiac"},{id:"lmi",name:"Leo Minor",latinName:"Leo Minor",description:"The Little Lion - A small constellation between Leo and Ursa Major.",centerX:2574,centerY:912,radius:100,discovered:!1,observatory:"northern",stars:[{id:"lmi-0",x:2531,y:913,brightness:0.8182847549414738},{id:"lmi-1",x:2608,y:937,brightness:0.9945456275475546},{id:"lmi-2",x:2722,y:930,brightness:0.9633690125399934},{id:"lmi-3",x:2616,y:888,brightness:0.8905582865237518},{id:"lmi-4",x:2393,y:893,brightness:0.9299422528727559}],connections:[[0,1],[1,2],[2,3],[3,0],[0,4]]},{id:"lyn",name:"Lynx",latinName:"Lynx",description:"The Lynx - A faint constellation requiring keen eyes to see.",centerX:2028,centerY:731,radius:100,discovered:!1,observatory:"northern",stars:[{id:"lyn-0",x:1582,y:516,brightness:0.9294196128833819},{id:"lyn-1",x:1739,y:526,brightness:0.9541779560870935},{id:"lyn-2",x:1861,y:680,brightness:0.8247173967549387},{id:"lyn-3",x:2095,y:780,brightness:0.8060426167968207},{id:"lyn-4",x:2253,y:804,brightness:0.9444591881799592},{id:"lyn-5",x:2329,y:887,brightness:0.83226266357659},{id:"lyn-6",x:2338,y:927,brightness:0.989520398771585}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6]]},{id:"lyr",name:"Lyra",latinName:"Lyra",description:"The Lyre - Contains Vega, the fifth-brightest star.",centerX:4701,centerY:892,radius:93,discovered:!1,observatory:"northern",stars:[{id:"lyr-0",x:4687,y:873,brightness:0.8426054298807932},{id:"lyr-1",x:4685,y:840,brightness:0.9328597477303181},{id:"lyr-2",x:4654,y:854,brightness:0.8405077290743308},{id:"lyr-3",x:4727,y:885,brightness:0.9940896155027497},{id:"lyr-4",x:4746,y:955,brightness:0.8880265318680564},{id:"lyr-5",x:4709,y:944,brightness:0.9555006604630225}],connections:[[0,1],[1,2],[2,0],[0,3],[3,4],[4,5],[5,0]]},{id:"ori",name:"Orion",latinName:"Orion",description:"The Hunter - The most recognizable constellation in the sky.",centerX:1359,centerY:1385,radius:100,discovered:!1,observatory:"northern",stars:[{id:"ori-0",x:1532,y:1254,brightness:0.9351255173859502},{id:"ori-1",x:1477,y:1162,brightness:0.9187980348543612},{id:"ori-2",x:1516,y:1164,brightness:0.9869022567080086},{id:"ori-3",x:1550,y:1263,brightness:0.9379482974637042},{id:"ori-4",x:1510,y:1339,brightness:0.8240934272873859},{id:"ori-5",x:1480,y:1377,brightness:0.8464623066192472},{id:"ori-6",x:1355,y:1394,brightness:0.9115640390340807},{id:"ori-7",x:1229,y:1331,brightness:0.9382822024070834},{id:"ori-8",x:1244,y:1471,brightness:0.8980058604553982},{id:"ori-9",x:1226,y:1459,brightness:0.9374418459868579},{id:"ori-10",x:1213,y:1407,brightness:0.8992285494106026},{id:"ori-11",x:1208,y:1384,brightness:0.8751891563129345},{id:"ori-12",x:1211,y:1352,brightness:0.9723306623265647},{id:"ori-13",x:1235,y:1275,brightness:0.8573028772822519},{id:"ori-14",x:1269,y:1243,brightness:0.8128038276958169},{id:"ori-15",x:1290,y:1240,brightness:0.977529303035633},{id:"ori-16",x:1311,y:1637,brightness:0.9944540944434281},{id:"ori-17",x:1352,y:1540,brightness:0.8972995067069359},{id:"ori-18",x:1383,y:1505,brightness:0.8309118403426806},{id:"ori-19",x:1396,y:1334,brightness:0.9504803382829407},{id:"ori-20",x:1420,y:1532,brightness:0.8583589503544667},{id:"ori-21",x:1449,y:1661,brightness:0.8125942959354845},{id:"ori-22",x:1401,y:1520,brightness:0.9365794093154627}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[8,9],[9,10],[10,11],[11,12],[12,7],[7,13],[13,14],[14,15],[16,17],[17,18],[18,6],[6,19],[19,5],[5,20],[20,21],[20,22],[22,18]],set:"orion"},{id:"peg",name:"Pegasus",latinName:"Pegasus",description:"The Winged Horse - Famous for its Great Square asterism.",centerX:5683,centerY:1156,radius:100,discovered:!1,observatory:"northern",stars:[{id:"peg-0",x:5542,y:947,brightness:0.8835335609949713},{id:"peg-1",x:5679,y:996,brightness:0.8190408793347292},{id:"peg-2",x:5766,y:1032,brightness:0.8316632108549545},{id:"peg-3",x:35,y:1015,brightness:0.8225792441624378},{id:"peg-4",x:55,y:1247,brightness:0.801832426569973},{id:"peg-5",x:5770,y:1247,brightness:0.8004561292980259},{id:"peg-6",x:5695,y:1297,brightness:0.9064878214235199},{id:"peg-7",x:5673,y:1319,brightness:0.8184438159103771},{id:"peg-8",x:5542,y:1397,brightness:0.9092618961014118},{id:"peg-9",x:5434,y:1335,brightness:0.8298793414704017},{id:"peg-10",x:5708,y:1090,brightness:0.8926369237871324},{id:"peg-11",x:5694,y:1107,brightness:0.957443502111361},{id:"peg-12",x:5529,y:1078,brightness:0.8660290380379684},{id:"peg-13",x:5436,y:1073,brightness:0.8858815954634358}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[5,2],[2,10],[10,11],[11,12],[12,13]],set:"royal"},{id:"per",name:"Perseus",latinName:"Perseus",description:"The Hero - Contains the famous variable star Algol.",centerX:843,centerY:753,radius:100,discovered:!1,observatory:"northern",stars:[{id:"per-0",x:935,y:962,brightness:0.935607443764085},{id:"per-1",x:976,y:969,brightness:0.9886888517465966},{id:"per-2",x:996,y:903,brightness:0.961264663631022},{id:"per-3",x:991,y:833,brightness:0.8407442332501802},{id:"per-4",x:938,y:790,brightness:0.8258713546155526},{id:"per-5",x:929,y:704,brightness:0.8309483775339764},{id:"per-6",x:902,y:697,brightness:0.9068368038567509},{id:"per-7",x:851,y:669,brightness:0.8228903900838722},{id:"per-8",x:770,y:608,brightness:0.9217391852448856},{id:"per-9",x:711,y:568,brightness:0.8026104545091072},{id:"per-10",x:726,y:621,brightness:0.910941726377986},{id:"per-11",x:788,y:673,brightness:0.8313267637074506},{id:"per-12",x:790,y:752,brightness:0.9635413168895842},{id:"per-13",x:784,y:817,brightness:0.9973638186662381},{id:"per-14",x:797,y:840,brightness:0.8362924502465099},{id:"per-15",x:772,y:853,brightness:0.9189418072709058},{id:"per-16",x:745,y:839,brightness:0.9435483779510198},{id:"per-17",x:749,y:816,brightness:0.8910708219838843},{id:"per-18",x:1027,y:661,brightness:0.9898760887215818},{id:"per-19",x:1062,y:693,brightness:0.9869365019672474},{id:"per-20",x:1036,y:705,brightness:0.9193285419835195},{id:"per-21",x:684,y:680,brightness:0.846467042034},{id:"per-22",x:432,y:655,brightness:0.8465581829925324}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[12,13],[13,14],[14,15],[15,16],[16,17],[17,13],[18,19],[19,20],[20,5],[11,21],[21,22]],set:"royal"},{id:"psc",name:"Pisces",latinName:"Pisces",description:"The Fishes - A zodiac constellation with the spring equinox point.",centerX:161,centerY:1344,radius:100,discovered:!1,observatory:"northern",stars:[{id:"psc-0",x:307,y:1090,brightness:0.8488490678284615},{id:"psc-1",x:299,y:999,brightness:0.9000923163000987},{id:"psc-2",x:331,y:1046,brightness:0.9689813690986285},{id:"psc-3",x:298,y:1149,brightness:0.8279642177070338},{id:"psc-4",x:381,y:1244,brightness:0.8094183058464102},{id:"psc-5",x:439,y:1347,brightness:0.8219260478975469},{id:"psc-6",x:509,y:1454,brightness:0.8434546277482943},{id:"psc-7",x:473,y:1447,brightness:0.8965285186542542},{id:"psc-8",x:423,y:1409,brightness:0.9927136827608278},{id:"psc-9",x:376,y:1398,brightness:0.9205618739186843},{id:"psc-10",x:307,y:1374,brightness:0.9658592656132996},{id:"psc-11",x:262,y:1368,brightness:0.9462988069081301},{id:"psc-12",x:203,y:1374,brightness:0.8569194459321154},{id:"psc-13",x:5997,y:1386,brightness:0.8489659925592911},{id:"psc-14",x:5916,y:1406,brightness:0.9732554921983124},{id:"psc-15",x:5867,y:1394,brightness:0.8093569644465921},{id:"psc-16",x:5835,y:1410,brightness:0.9258004488396467},{id:"psc-17",x:5822,y:1445,brightness:0.8226469518643472},{id:"psc-18",x:5862,y:1479,brightness:0.9492861317901701},{id:"psc-19",x:5925,y:1470,brightness:0.8229627007042823},{id:"psc-20",x:5943,y:1442,brightness:0.8627039158584605},{id:"psc-21",x:5766,y:1436,brightness:0.9477433005240579}],connections:[[0,1],[1,2],[2,0],[0,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[12,13],[13,14],[14,15],[15,16],[16,17],[17,18],[18,19],[19,20],[20,14],[17,21]],set:"zodiac"},{id:"sge",name:"Sagitta",latinName:"Sagitta",description:"The Arrow - The third-smallest constellation.",centerX:4945,centerY:1194,radius:64,discovered:!1,observatory:"northern",stars:[{id:"sge-0",x:4917,y:1200,brightness:0.9309261853340401},{id:"sge-1",x:4947,y:1191,brightness:0.9853234948698721},{id:"sge-2",x:4995,y:1175,brightness:0.9873434043809407},{id:"sge-3",x:4921,y:1209,brightness:0.8500324216730624}],connections:[[0,1],[1,2],[3,1]]},{id:"ser",name:"Serpens",latinName:"Serpens",description:"The Serpent - The only constellation split into two parts.",centerX:3957,centerY:1320,radius:100,discovered:!1,observatory:"northern",stars:[{id:"ser-0",x:3942,y:1243,brightness:0.945574715989758},{id:"ser-1",x:3923,y:1172,brightness:0.8331895297617224},{id:"ser-2",x:3953,y:1198,brightness:0.8034481745203672},{id:"ser-3",x:3985,y:1239,brightness:0.9970659325620159},{id:"ser-4",x:3895,y:1324,brightness:0.8024538854572003},{id:"ser-5",x:3934,y:1393,brightness:0.9362442406142499},{id:"ser-6",x:3962,y:1425,brightness:0.9911919575964092},{id:"ser-7",x:4060,y:1562,brightness:0.9713826765799404}],connections:[[0,1],[1,2],[2,3],[3,0],[0,4],[4,5],[5,6],[6,7]]},{id:"tau",name:"Taurus",latinName:"Taurus",description:"The Bull - A zodiac constellation with the Pleiades and Hyades.",centerX:1081,centerY:1261,radius:100,discovered:!1,observatory:"northern",stars:[{id:"tau-0",x:1407,y:1148,brightness:0.9166301178709708},{id:"tau-1",x:1150,y:1225,brightness:0.9271416872843014},{id:"tau-2",x:1119,y:1235,brightness:0.9018602238467668},{id:"tau-3",x:1082,y:1240,brightness:0.9012852655142605},{id:"tau-4",x:1096,y:1208,brightness:0.8120370055884689},{id:"tau-5",x:1119,y:1180,brightness:0.900202938077062},{id:"tau-6",x:1360,y:1023,brightness:0.8090248566641557},{id:"tau-7",x:1003,y:1292,brightness:0.8888539522707257},{id:"tau-8",x:863,y:1338,brightness:0.8708831365617674},{id:"tau-9",x:1013,y:1400,brightness:0.9989063282916439},{id:"tau-10",x:853,y:1350,brightness:0.8047369760244173},{id:"tau-11",x:904,y:1493,brightness:0.8136335248798285}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[3,7],[7,8],[8,9],[8,10],[10,11]],set:"zodiac"},{id:"tri",name:"Triangulum",latinName:"Triangulum",description:"The Triangle - A small northern constellation.",centerX:528,centerY:953,radius:94,discovered:!1,observatory:"northern",stars:[{id:"tri-0",x:471,y:1007,brightness:0.982801993230823},{id:"tri-1",x:540,y:917,brightness:0.8443816791461185},{id:"tri-2",x:572,y:936,brightness:0.9004850979396967}],connections:[[0,1],[1,2],[2,0]]},{id:"uma",name:"Ursa Major",latinName:"Ursa Major",description:"The Great Bear - Contains the famous Big Dipper asterism.",centerX:2723,centerY:655,radius:100,discovered:!1,observatory:"northern",stars:[{id:"uma-0",x:3064,y:549,brightness:0.8653241704738037},{id:"uma-1",x:2766,y:471,brightness:0.9740983339682325},{id:"uma-2",x:2758,y:560,brightness:0.9204937493610102},{id:"uma-3",x:2974,y:605,brightness:0.9233593058807944},{id:"uma-4",x:3225,y:567,brightness:0.9702581302685798},{id:"uma-5",x:3350,y:585,brightness:0.9879485075385853},{id:"uma-6",x:3448,y:678,brightness:0.8059975631539597},{id:"uma-7",x:2942,y:704,brightness:0.9711406516915476},{id:"uma-8",x:2827,y:948,brightness:0.9635307029685225},{id:"uma-9",x:2826,y:974,brightness:0.8136651317493345},{id:"uma-10",x:2790,y:758,brightness:0.9489454806225273},{id:"uma-11",x:2593,y:808,brightness:0.9603959231294068},{id:"uma-12",x:2571,y:785,brightness:0.8606301892551979},{id:"uma-13",x:2381,y:449,brightness:0.8577832162180582},{id:"uma-14",x:2126,y:488,brightness:0.9830086640716263},{id:"uma-15",x:2462,y:516,brightness:0.8742054144193275},{id:"uma-16",x:2467,y:599,brightness:0.8117914272566937},{id:"uma-17",x:2387,y:639,brightness:0.8667914598400583},{id:"uma-18",x:2247,y:699,brightness:0.9170163497496474},{id:"uma-19",x:2265,y:714,brightness:0.92497442063598}],connections:[[0,1],[1,2],[2,3],[3,0],[0,4],[4,5],[5,6],[3,7],[7,8],[8,9],[7,10],[10,11],[10,12],[1,13],[13,14],[14,15],[15,2],[2,16],[16,17],[17,18],[19,17]],set:"ursa"},{id:"umi",name:"Ursa Minor",latinName:"Ursa Minor",description:"The Little Bear - Contains Polaris, the North Star.",centerX:4395,centerY:173,radius:100,discovered:!1,observatory:"northern",stars:[{id:"umi-0",x:3934,y:203,brightness:0.9710140009477469},{id:"umi-1",x:4073,y:237,brightness:0.87053857252777},{id:"umi-2",x:3836,y:303,brightness:0.8619717873637909},{id:"umi-3",x:3711,y:264,brightness:0.8012415047921821},{id:"umi-4",x:4192,y:133,brightness:0.9054600163367061},{id:"umi-5",x:4384,y:57,brightness:0.9278684498101558},{id:"umi-6",x:633,y:12,brightness:0.8586528099392969}],connections:[[0,1],[1,2],[2,3],[3,0],[0,4],[4,5],[5,6]],set:"ursa"},{id:"vul",name:"Vulpecula",latinName:"Vulpecula",description:"The Fox - A faint northern constellation.",centerX:4946,centerY:1081,radius:100,discovered:!1,observatory:"northern",stars:[{id:"vul-0",x:4818,y:1143,brightness:0.976546341686433},{id:"vul-1",x:4870,y:1089,brightness:0.8280468145463321},{id:"vul-2",x:4973,y:1099,brightness:0.8843109659406093},{id:"vul-3",x:5005,y:1037,brightness:0.9913072431312593},{id:"vul-4",x:5066,y:1036,brightness:0.9393923424811543}],connections:[[0,1],[1,2],[2,3],[3,4]]},{id:"ant",name:"Antlia",latinName:"Antlia",description:"The Air Pump - A faint southern constellation representing a vacuum pump.",centerX:2574,centerY:2079,radius:100,discovered:!1,observatory:"southern",stars:[{id:"ant-0",x:2372,y:2099,brightness:0.845831966484029},{id:"ant-1",x:2613,y:2018,brightness:0.8187096030136275},{id:"ant-2",x:2736,y:2119,brightness:0.9710483317156622}],connections:[[0,1],[1,2]],set:"instruments"},{id:"aps",name:"Apus",latinName:"Apus",description:"The Bird of Paradise - A southern constellation near the celestial pole.",centerX:4026,centerY:2809,radius:100,discovered:!1,observatory:"southern",stars:[{id:"aps-0",x:3699,y:2817,brightness:0.9372280729349638},{id:"aps-1",x:4085,y:2812,brightness:0.8657903662276147},{id:"aps-2",x:4179,y:2792,brightness:0.8363147644391001},{id:"aps-3",x:4139,y:2815,brightness:0.9567026435908458}],connections:[[0,1],[1,2],[2,3]],set:"birds"},{id:"aqr",name:"Aquarius",latinName:"Aquarius",description:"The Water Bearer - A zodiac constellation associated with water.",centerX:5599,centerY:1636,radius:100,discovered:!1,observatory:"southern",stars:[{id:"aqr-0",x:5199,y:1658,brightness:0.9642047059941696},{id:"aqr-1",x:5219,y:1650,brightness:0.8574391825060989},{id:"aqr-2",x:5381,y:1593,brightness:0.8893515280410847},{id:"aqr-3",x:5524,y:1505,brightness:0.8215286259255767},{id:"aqr-4",x:5590,y:1523,brightness:0.859633627924532},{id:"aqr-5",x:5620,y:1500,brightness:0.8236805198576599},{id:"aqr-6",x:5647,y:1502,brightness:0.8866732450959816},{id:"aqr-7",x:5719,y:1626,brightness:0.9227841607353544},{id:"aqr-8",x:5825,y:1653,brightness:0.9053226545855143},{id:"aqr-9",x:5789,y:1853,brightness:0.9869083479062707},{id:"aqr-10",x:5527,y:1731,brightness:0.981058821887797},{id:"aqr-11",x:5570,y:1630,brightness:0.9057066478346965},{id:"aqr-12",x:5605,y:1477,brightness:0.8314035242067523},{id:"aqr-13",x:5846,y:1835,brightness:0.8930870776397314},{id:"aqr-14",x:5924,y:1797,brightness:0.9204191984022962}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[2,10],[3,11],[5,12],[13,8],[8,14]],set:"zodiac"},{id:"ara",name:"Ara",latinName:"Ara",description:"The Altar - A southern constellation representing a ceremonial altar.",centerX:4310,centerY:2430,radius:100,discovered:!1,observatory:"southern",stars:[{id:"ara-0",x:4356,y:2440,brightness:0.8673535670126534},{id:"ara-1",x:4380,y:2511,brightness:0.9561024128569521},{id:"ara-2",x:4207,y:2484,brightness:0.9662701115892076},{id:"ara-3",x:4244,y:2433,brightness:0.812025578921402},{id:"ara-4",x:4248,y:2386,brightness:0.9939734492092588},{id:"ara-5",x:4383,y:2331,brightness:0.8103504088277539},{id:"ara-6",x:4355,y:2425,brightness:0.8374446719153008}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6]],set:"centaur"},{id:"cae",name:"Caelum",latinName:"Caelum",description:"The Chisel - One of the faintest constellations in the sky.",centerX:1185,centerY:2164,radius:100,discovered:!1,observatory:"southern",stars:[{id:"cae-0",x:1128,y:2249,brightness:0.8585296734412864},{id:"cae-1",x:1169,y:2198,brightness:0.9401258868344379},{id:"cae-2",x:1175,y:2119,brightness:0.9654107858922422},{id:"cae-3",x:1268,y:2091,brightness:0.8013305525589031}],connections:[[0,1],[1,2],[2,3]],set:"instruments"},{id:"cma",name:"Canis Major",latinName:"Canis Major",description:"The Great Dog - Contains Sirius, the brightest star in the night sky.",centerX:1727,centerY:1873,radius:100,discovered:!1,observatory:"southern",stars:[{id:"cma-0",x:1595,y:1799,brightness:0.9006762551280664},{id:"cma-1",x:1688,y:1779,brightness:0.8383275456260921},{id:"cma-2",x:1763,y:1897,brightness:0.9622292587214318},{id:"cma-3",x:1785,y:1940,brightness:0.990994643045068},{id:"cma-4",x:1757,y:1966,brightness:0.8860605536025133},{id:"cma-5",x:1744,y:1983,brightness:0.8802572071927617},{id:"cma-6",x:1585,y:2001,brightness:0.8461978991906298},{id:"cma-7",x:1850,y:1988,brightness:0.9160960431529019},{id:"cma-8",x:1734,y:1784,brightness:0.9705864442316882},{id:"cma-9",x:1766,y:1761,brightness:0.8510127118492339},{id:"cma-10",x:1726,y:1701,brightness:0.8666477189320421}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[7,3],[1,8],[8,9],[9,10],[10,8]],set:"orion"},{id:"cap",name:"Capricornus",latinName:"Capricornus",description:"The Sea Goat - An ancient zodiac constellation.",centerX:5253,centerY:1811,radius:100,discovered:!1,observatory:"southern",stars:[{id:"cap-0",x:5074,y:1708,brightness:0.8745710168496246},{id:"cap-1",x:5088,y:1746,brightness:0.9878764707994143},{id:"cap-2",x:5120,y:1797,brightness:0.9311023858372902},{id:"cap-3",x:5192,y:1921,brightness:0.858055811626867},{id:"cap-4",x:5216,y:1949,brightness:0.914535030893805},{id:"cap-5",x:5361,y:1874,brightness:0.9478927451017222},{id:"cap-6",x:5446,y:1769,brightness:0.8062114780928537},{id:"cap-7",x:5417,y:1778,brightness:0.9782285688357616},{id:"cap-8",x:5343,y:1781,brightness:0.8289153935701236},{id:"cap-9",x:5275,y:1787,brightness:0.8462095739611266}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,0]],set:"zodiac"},{id:"car",name:"Carina",latinName:"Carina",description:"The Keel - Part of the ancient ship Argo Navis, contains Canopus.",centerX:2383,centerY:2480,radius:100,discovered:!1,observatory:"southern",stars:[{id:"car-0",x:1657,y:2220,brightness:0.9190049123003142},{id:"car-1",x:1600,y:2378,brightness:0.8709811762078907},{id:"car-2",x:2305,y:2662,brightness:0.9117387186211627},{id:"car-3",x:2557,y:2667,brightness:0.9016813188202119},{id:"car-4",x:2679,y:2573,brightness:0.8932793013557007},{id:"car-5",x:2633,y:2528,brightness:0.8651689897440324},{id:"car-6",x:2571,y:2522,brightness:0.8830067001273134},{id:"car-7",x:2321,y:2488,brightness:0.8884351953090056},{id:"car-8",x:2094,y:2492,brightness:0.8163670115405713},{id:"car-9",x:1987,y:2383,brightness:0.9642732898264768},{id:"car-10",x:2040,y:2289,brightness:0.9777979110671973},{id:"car-11",x:2186,y:2412,brightness:0.9747051871084551},{id:"car-12",x:2777,y:2540,brightness:0.816876902891788},{id:"car-13",x:2786,y:2532,brightness:0.9186519869554013},{id:"car-14",x:2803,y:2505,brightness:0.8257720239390354},{id:"car-15",x:2786,y:2483,brightness:0.8904558617791638},{id:"car-16",x:2723,y:2481,brightness:0.8719468117833121}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,7],[4,12],[12,13],[13,14],[14,15],[15,16],[16,5]],set:"argo"},{id:"cen",name:"Centaurus",latinName:"Centaurus",description:"The Centaur - Contains Alpha Centauri, the closest star system to Earth.",centerX:3334,centerY:2312,radius:100,discovered:!1,observatory:"southern",stars:[{id:"cen-0",x:2838,y:2408,brightness:0.9529182060485837},{id:"cen-1",x:3035,y:2345,brightness:0.8354665938769875},{id:"cen-2",x:3117,y:2337,brightness:0.8005640554172874},{id:"cen-3",x:3173,y:2316,brightness:0.8695942854389714},{id:"cen-4",x:3416,y:2391,brightness:0.807600955410239},{id:"cen-5",x:3481,y:2288,brightness:0.9602006543990258},{id:"cen-6",x:3457,y:2208,brightness:0.9116743137390407},{id:"cen-7",x:3456,y:2195,brightness:0.867061708480242},{id:"cen-8",x:3528,y:2106,brightness:0.9604884328515075},{id:"cen-9",x:3648,y:2203,brightness:0.9027960003693788},{id:"cen-10",x:3747,y:2202,brightness:0.9979959418454967},{id:"cen-11",x:3336,y:2112,brightness:0.8886501680419466},{id:"cen-12",x:3665,y:2514,brightness:0.9064971952856413},{id:"cen-13",x:3516,y:2506,brightness:0.9091636787299695},{id:"cen-14",x:3049,y:2373,brightness:0.966670553852132},{id:"cen-15",x:2882,y:2491,brightness:0.9534551541539804}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[7,11],[12,4],[4,13],[2,14],[14,15]],set:"centaur"},{id:"cet",name:"Cetus",latinName:"Cetus",description:"The Sea Monster - A large constellation containing the variable star Mira.",centerX:513,centerY:1540,radius:100,discovered:!1,observatory:"southern",stars:[{id:"cet-0",x:680,y:1446,brightness:0.9584222949778624},{id:"cet-1",x:649,y:1407,brightness:0.9633448451194331},{id:"cet-2",x:617,y:1359,brightness:0.8358997443219884},{id:"cet-3",x:687,y:1331,brightness:0.9994673252568206},{id:"cet-4",x:749,y:1352,brightness:0.8154480993140443},{id:"cet-5",x:759,y:1432,brightness:0.9536168852087379},{id:"cet-6",x:665,y:1495,brightness:0.8882056423484213},{id:"cet-7",x:581,y:1550,brightness:0.8371158594541621},{id:"cet-8",x:464,y:1672,brightness:0.9150592695042697},{id:"cet-9",x:434,y:1766,brightness:0.9200801914363225},{id:"cet-10",x:182,y:1800,brightness:0.8996648146090005},{id:"cet-11",x:81,y:1647,brightness:0.8289560935569716},{id:"cet-12",x:286,y:1670,brightness:0.8856334177598822},{id:"cet-13",x:350,y:1636,brightness:0.9570069804596457}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,0],[0,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[12,13],[13,8]],set:"royal"},{id:"cha",name:"Chamaeleon",latinName:"Chamaeleon",description:"The Chameleon - A small far-southern constellation.",centerX:2698,centerY:2812,radius:100,discovered:!1,observatory:"southern",stars:[{id:"cha-0",x:2077,y:2782,brightness:0.8028822369837016},{id:"cha-1",x:2648,y:2810,brightness:0.8337916326227752},{id:"cha-2",x:2689,y:2841,brightness:0.9206365030566082},{id:"cha-3",x:3076,y:2822,brightness:0.831162838944711},{id:"cha-4",x:2998,y:2804,brightness:0.8504644338566532}],connections:[[0,1],[1,2],[2,3],[3,4],[4,1]],set:"birds"},{id:"cir",name:"Circinus",latinName:"Circinus",description:"The Compass - A small southern constellation near Centaurus.",centerX:3782,centerY:2517,radius:100,discovered:!1,observatory:"southern",stars:[{id:"cir-0",x:3823,y:2480,brightness:0.8780719899809935},{id:"cir-1",x:3677,y:2583,brightness:0.9681719909994115},{id:"cir-2",x:3847,y:2489,brightness:0.9845598250034893}],connections:[[0,1],[1,2]],set:"instruments"},{id:"col",name:"Columba",latinName:"Columba",description:"The Dove - Represents the dove that followed Noah's Ark.",centerX:1469,centerY:2105,radius:100,discovered:!1,observatory:"southern",stars:[{id:"col-0",x:1592,y:2057,brightness:0.9034320824890594},{id:"col-1",x:1462,y:2096,brightness:0.8463948714587912},{id:"col-2",x:1415,y:2068,brightness:0.9498241877799987},{id:"col-3",x:1380,y:2091,brightness:0.8820026260823091},{id:"col-4",x:1496,y:2214,brightness:0.819167225296726}],connections:[[0,1],[1,2],[2,3],[1,4]],set:"argo"},{id:"cra",name:"Corona Australis",latinName:"Corona Australis",description:"The Southern Crown - A small arc-shaped southern constellation.",centerX:4750,centerY:2166,radius:100,discovered:!1,observatory:"southern",stars:[{id:"cra-0",x:4745,y:2118,brightness:0.8524296274423773},{id:"cra-1",x:4777,y:2118,brightness:0.8437077854206082},{id:"cra-2",x:4789,y:2132,brightness:0.9845852130224653},{id:"cra-3",x:4792,y:2156,brightness:0.8626539387210301},{id:"cra-4",x:4785,y:2175,brightness:0.8750936473529185},{id:"cra-5",x:4763,y:2202,brightness:0.9125349610766809},{id:"cra-6",x:4707,y:2224,brightness:0.9004207384283534},{id:"cra-7",x:4640,y:2205,brightness:0.8229659049110912}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7]]},{id:"crv",name:"Corvus",latinName:"Corvus",description:"The Crow - A small constellation known since ancient times.",centerX:3082,centerY:1849,radius:100,discovered:!1,observatory:"southern",stars:[{id:"crv-0",x:3035,y:1912,brightness:0.9742229298966425},{id:"crv-1",x:3042,y:1877,brightness:0.9621233914755571},{id:"crv-2",x:3066,y:1792,brightness:0.8855772592726596},{id:"crv-3",x:3124,y:1775,brightness:0.9450658249155951},{id:"crv-4",x:3143,y:1890,brightness:0.9758956734604431}],connections:[[0,1],[1,2],[2,3],[3,4],[4,1]],set:"centaur"},{id:"crt",name:"Crater",latinName:"Crater",description:"The Cup - Represents a chalice in Greek mythology.",centerX:2862,centerY:1775,radius:100,discovered:!1,observatory:"southern",stars:[{id:"crt-0",x:2903,y:1663,brightness:0.8529531921161746},{id:"crt-1",x:2853,y:1681,brightness:0.9340760726219308},{id:"crt-2",x:2831,y:1746,brightness:0.8561469595855506},{id:"crt-3",x:2749,y:1805,brightness:0.9122492215370488},{id:"crt-4",x:2799,y:1880,brightness:0.8068294096814733},{id:"crt-5",x:2847,y:1813,brightness:0.8299624018956214},{id:"crt-6",x:2854,y:1795,brightness:0.9861240227754693},{id:"crt-7",x:2937,y:1806,brightness:0.9917070387884463},{id:"crt-8",x:2983,y:1786,brightness:0.8145453103965714}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[2,6]],set:"centaur"},{id:"cru",name:"Crux",latinName:"Crux",description:"The Southern Cross - The smallest constellation but most famous southern one.",centerX:3126,centerY:2495,radius:88,discovered:!1,observatory:"southern",stars:[{id:"cru-0",x:3199,y:2495,brightness:0.946912806779392},{id:"cru-1",x:3063,y:2479,brightness:0.8257223846641741},{id:"cru-2",x:3111,y:2552,brightness:0.9335650652458953},{id:"cru-3",x:3130,y:2452,brightness:0.8519228894806343}],connections:[[0,1],[2,3]],set:"centaur"},{id:"dor",name:"Dorado",latinName:"Dorado",description:"The Swordfish - Contains the Large Magellanic Cloud.",centerX:1297,centerY:2487,radius:100,discovered:!1,observatory:"southern",stars:[{id:"dor-0",x:1067,y:2358,brightness:0.8735953452782361},{id:"dor-1",x:1142,y:2417,brightness:0.8433142837765947},{id:"dor-2",x:1390,y:2541,brightness:0.8559638685653984},{id:"dor-3",x:1437,y:2596,brightness:0.9154591262263239},{id:"dor-4",x:1475,y:2551,brightness:0.812734700106251},{id:"dor-5",x:1273,y:2458,brightness:0.8474733988085627}],connections:[[0,1],[1,2],[2,3],[3,4],[4,2],[2,5],[5,1]],set:"waters"},{id:"eri",name:"Eridanus",latinName:"Eridanus",description:"The River - A long winding constellation representing a river.",centerX:869,centerY:1933,radius:100,discovered:!1,observatory:"southern",stars:[{id:"eri-0",x:1283,y:1585,brightness:0.986587756046307},{id:"eri-1",x:1190,y:1554,brightness:0.9159558345949548},{id:"eri-2",x:1151,y:1556,brightness:0.8490014435683225},{id:"eri-3",x:1049,y:1614,brightness:0.8784699682805311},{id:"eri-4",x:992,y:1725,brightness:0.9253166887706384},{id:"eri-5",x:942,y:1702,brightness:0.8333116576647752},{id:"eri-6",x:930,y:1663,brightness:0.9864281270928285},{id:"eri-7",x:887,y:1658,brightness:0.9858362036819295},{id:"eri-8",x:735,y:1648,brightness:0.8724580454344579},{id:"eri-9",x:684,y:1731,brightness:0.9903425560796062},{id:"eri-10",x:688,y:1810,brightness:0.9400283691222399},{id:"eri-11",x:760,y:1894,brightness:0.8397593651318115},{id:"eri-12",x:831,y:1863,brightness:0.8135055364470509},{id:"eri-13",x:891,y:1861,brightness:0.8525576962422255},{id:"eri-14",x:945,y:1887,brightness:0.9892423536330296},{id:"eri-15",x:1148,y:2009,brightness:0.8561125410861605},{id:"eri-16",x:1100,y:2067,brightness:0.846141964034392},{id:"eri-17",x:1075,y:2063,brightness:0.8867123550196747},{id:"eri-18",x:956,y:2103,brightness:0.8192548854393972},{id:"eri-19",x:905,y:2171,brightness:0.8618754334171634},{id:"eri-20",x:833,y:2218,brightness:0.8888902707440552},{id:"eri-21",x:743,y:2172,brightness:0.8109953955419056},{id:"eri-22",x:669,y:2164,brightness:0.9553504236350348},{id:"eri-23",x:612,y:2295,brightness:0.9645657834361625},{id:"eri-24",x:569,y:2359,brightness:0.8285526647751255},{id:"eri-25",x:483,y:2360,brightness:0.8224923038351928},{id:"eri-26",x:407,y:2454,brightness:0.9891575318606057}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[12,13],[13,14],[14,15],[15,16],[16,17],[17,18],[18,19],[19,20],[20,21],[21,22],[22,23],[23,24],[24,25],[25,26]],set:"waters"},{id:"for",name:"Fornax",latinName:"Fornax",description:"The Furnace - Contains the Fornax Cluster of galaxies.",centerX:675,centerY:2004,radius:100,discovered:!1,observatory:"southern",stars:[{id:"for-0",x:800,y:1983,brightness:0.969018464261373},{id:"for-1",x:705,y:2040,brightness:0.8437899293834585},{id:"for-2",x:519,y:1988,brightness:0.8153664767639133}],connections:[[0,1],[1,2]],set:"instruments"},{id:"gru",name:"Grus",latinName:"Grus",description:"The Crane - A graceful bird constellation in the southern sky.",centerX:5609,centerY:2247,radius:100,discovered:!1,observatory:"southern",stars:[{id:"gru-0",x:5754,y:2379,brightness:0.8114962929968351},{id:"gru-1",x:5702,y:2355,brightness:0.9930198562641788},{id:"gru-2",x:5678,y:2281,brightness:0.8392886376105706},{id:"gru-3",x:5624,y:2229,brightness:0.9585955121859653},{id:"gru-4",x:5534,y:2283,brightness:0.9931461706642244},{id:"gru-5",x:5622,y:2225,brightness:0.9389217036337492},{id:"gru-6",x:5565,y:2189,brightness:0.8338949072872027},{id:"gru-7",x:5525,y:2159,brightness:0.9650900764474216},{id:"gru-8",x:5475,y:2123,brightness:0.9379660163525186}],connections:[[0,1],[1,2],[2,3],[3,4],[4,2],[5,6],[6,7],[7,8]],set:"birds"},{id:"hor",name:"Horologium",latinName:"Horologium",description:"The Pendulum Clock - A faint southern constellation.",centerX:762,centerY:2400,radius:100,discovered:!1,observatory:"southern",stars:[{id:"hor-0",x:1058,y:2205,brightness:0.9660349312102597},{id:"hor-1",x:677,y:2347,brightness:0.8822140655715981},{id:"hor-2",x:656,y:2376,brightness:0.8753897991628091},{id:"hor-3",x:669,y:2409,brightness:0.9875515973943352},{id:"hor-4",x:765,y:2496,brightness:0.8104998720661111},{id:"hor-5",x:745,y:2568,brightness:0.9894894762586887}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5]],set:"instruments"},{id:"hya",name:"Hydra",latinName:"Hydra",description:"The Water Snake - The largest of all 88 constellations.",centerX:2609,centerY:1667,radius:100,discovered:!1,observatory:"southern",stars:[{id:"hya-0",x:2195,y:1393,brightness:0.8438772639272706},{id:"hya-1",x:2202,y:1403,brightness:0.8895648747766848},{id:"hya-2",x:2180,y:1443,brightness:0.801059473869276},{id:"hya-3",x:2161,y:1444,brightness:0.9360633009307849},{id:"hya-4",x:2157,y:1405,brightness:0.8784748868788581},{id:"hya-5",x:2231,y:1401,brightness:0.8467048735470472},{id:"hya-6",x:2310,y:1461,brightness:0.9274456747161952},{id:"hya-7",x:2416,y:1519,brightness:0.8073012727407001},{id:"hya-8",x:2365,y:1644,brightness:0.9187553399372141},{id:"hya-9",x:2464,y:1747,brightness:0.9842407186124392},{id:"hya-10",x:2544,y:1706,brightness:0.8386228172997087},{id:"hya-11",x:2609,y:1781,brightness:0.9089336101617174},{id:"hya-12",x:2707,y:1770,brightness:0.9186135662037744},{id:"hya-13",x:2888,y:2031,brightness:0.8226832628218488},{id:"hya-14",x:2970,y:2065,brightness:0.8600535558749255},{id:"hya-15",x:3329,y:1886,brightness:0.8384765850356859},{id:"hya-16",x:3527,y:1945,brightness:0.9851106057588112},{id:"hya-17",x:3710,y:1966,brightness:0.802766582247614}],connections:[[0,1],[1,2],[2,3],[3,4],[4,0],[0,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[12,13],[13,14],[14,15],[15,16],[16,17]],set:"waters"},{id:"hyi",name:"Hydrus",latinName:"Hydrus",description:"The Lesser Water Snake - A southern constellation near the pole.",centerX:547,centerY:2660,radius:100,discovered:!1,observatory:"southern",stars:[{id:"hyi-0",x:107,y:2788,brightness:0.9553002205229404},{id:"hyi-1",x:947,y:2737,brightness:0.8797623068208155},{id:"hyi-2",x:665,y:2638,brightness:0.8959008184013142},{id:"hyi-3",x:591,y:2644,brightness:0.8908351801717106},{id:"hyi-4",x:479,y:2627,brightness:0.8792239313886091},{id:"hyi-5",x:495,y:2526,brightness:0.9114317488618233}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5]],set:"waters"},{id:"ind",name:"Indus",latinName:"Indus",description:"The Indian - A southern constellation with no bright stars.",centerX:5278,centerY:2387,radius:100,discovered:!1,observatory:"southern",stars:[{id:"ind-0",x:5157,y:2288,brightness:0.912495579453082},{id:"ind-1",x:5183,y:2365,brightness:0.8240960216249114},{id:"ind-2",x:5228,y:2474,brightness:0.9931676029002048},{id:"ind-3",x:5491,y:2417,brightness:0.8963362817848801},{id:"ind-4",x:5333,y:2391,brightness:0.9926119609047146}],connections:[[0,1],[1,2],[2,3],[3,4],[4,0]],set:"centaur"},{id:"lep",name:"Lepus",latinName:"Lepus",description:"The Hare - Sits at Orion's feet in the winter sky.",centerX:1393,centerY:1789,radius:100,discovered:!1,observatory:"southern",stars:[{id:"lep-0",x:1526,y:1749,brightness:0.823995221793477},{id:"lep-1",x:1485,y:1736,brightness:0.9214787345481812},{id:"lep-2",x:1446,y:1747,brightness:0.9947324942865509},{id:"lep-3",x:1386,y:1797,brightness:0.871982092293981},{id:"lep-4",x:1304,y:1770,brightness:0.918134785055724},{id:"lep-5",x:1273,y:1873,brightness:0.9917570497261133},{id:"lep-6",x:1368,y:1846,brightness:0.8702417483630066},{id:"lep-7",x:1435,y:1874,brightness:0.87154251406142},{id:"lep-8",x:1464,y:1848,brightness:0.8966705105894466},{id:"lep-9",x:1305,y:1716,brightness:0.9323997018442531},{id:"lep-10",x:1332,y:1720,brightness:0.8635679286239603}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[9,4],[4,10]],set:"orion"},{id:"lib",name:"Libra",latinName:"Libra",description:"The Scales - The only zodiac constellation representing an object.",centerX:3836,centerY:1843,radius:100,discovered:!1,observatory:"southern",stars:[{id:"lib-0",x:3767,y:1921,brightness:0.8019840295868664},{id:"lib-1",x:3712,y:1767,brightness:0.8023575016524076},{id:"lib-2",x:3821,y:1656,brightness:0.8763335651937108},{id:"lib-3",x:3898,y:1746,brightness:0.8285292913064621},{id:"lib-4",x:3904,y:1969,brightness:0.9953848544504456},{id:"lib-5",x:3911,y:1996,brightness:0.8011630087545323}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[1,3]],set:"zodiac"},{id:"lup",name:"Lupus",latinName:"Lupus",description:"The Wolf - An ancient constellation near Centaurus.",centerX:3865,centerY:2190,radius:100,discovered:!1,observatory:"southern",stars:[{id:"lup-0",x:3962,y:2060,brightness:0.9536326555916621},{id:"lup-1",x:3916,y:2074,brightness:0.8285009285530126},{id:"lup-2",x:3841,y:2104,brightness:0.845362100328121},{id:"lup-3",x:3839,y:2177,brightness:0.8967248932388721},{id:"lup-4",x:3744,y:2219,brightness:0.8373289015904423},{id:"lup-5",x:3675,y:2290,brightness:0.8905119937437372},{id:"lup-6",x:3801,y:2368,brightness:0.9290130065781615},{id:"lup-7",x:3827,y:2298,brightness:0.849778248119906},{id:"lup-8",x:3845,y:2245,brightness:0.971251318557856},{id:"lup-9",x:3896,y:2186,brightness:0.9373754452380192},{id:"lup-10",x:4001,y:2140,brightness:0.9162229707181734},{id:"lup-11",x:4027,y:2113,brightness:0.900928428288696}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[3,9]],set:"centaur"},{id:"men",name:"Mensa",latinName:"Mensa",description:"The Table Mountain - The faintest named constellation.",centerX:1354,centerY:2739,radius:100,discovered:!1,observatory:"southern",stars:[{id:"men-0",x:1543,y:2746,brightness:0.9737937929857331},{id:"men-1",x:1383,y:2772,brightness:0.8774293268961024},{id:"men-2",x:1230,y:2749,brightness:0.8628100170287943},{id:"men-3",x:1261,y:2689,brightness:0.90624484234274}],connections:[[0,1],[1,2],[2,3]],set:"instruments"},{id:"mic",name:"Microscopium",latinName:"Microscopium",description:"The Microscope - A faint southern constellation.",centerX:5265,centerY:2110,radius:100,discovered:!1,observatory:"southern",stars:[{id:"mic-0",x:5208,y:2063,brightness:0.8241029177921925},{id:"mic-1",x:5202,y:2233,brightness:0.8340141131141351},{id:"mic-2",x:5337,y:2180,brightness:0.9167525849686031},{id:"mic-3",x:5325,y:2036,brightness:0.845313222152654},{id:"mic-4",x:5255,y:2038,brightness:0.9592812664631738}],connections:[[0,1],[1,2],[2,3],[3,4],[4,0]],set:"instruments"},{id:"mon",name:"Monoceros",latinName:"Monoceros",description:"The Unicorn - Located on the celestial equator.",centerX:1727,centerY:1504,radius:100,discovered:!1,observatory:"southern",stars:[{id:"mon-0",x:1922,y:1659,brightness:0.9249678539069481},{id:"mon-1",x:2036,y:1550,brightness:0.8016272157013731},{id:"mon-2",x:1799,y:1508,brightness:0.8166132398507328},{id:"mon-3",x:1620,y:1617,brightness:0.8899589104465746},{id:"mon-4",x:1562,y:1605,brightness:0.9088535830873855},{id:"mon-5",x:1699,y:1460,brightness:0.8828166661247425},{id:"mon-6",x:1599,y:1423,brightness:0.8377449969210018},{id:"mon-7",x:1637,y:1378,brightness:0.804194917889611},{id:"mon-8",x:1671,y:1335,brightness:0.8323112772769091}],connections:[[0,1],[1,2],[2,3],[3,4],[2,5],[5,6],[6,7],[7,8]],set:"orion"},{id:"mus",name:"Musca",latinName:"Musca",description:"The Fly - A small constellation near the Southern Cross.",centerX:3126,centerY:2654,radius:100,discovered:!1,observatory:"southern",stars:[{id:"mus-0",x:2940,y:2612,brightness:0.8705837692262992},{id:"mus-1",x:3073,y:2633,brightness:0.8777448941384363},{id:"mus-2",x:3155,y:2652,brightness:0.8928009885987804},{id:"mus-3",x:3193,y:2635,brightness:0.8701707857027359},{id:"mus-4",x:3259,y:2692,brightness:0.8672708315872804},{id:"mus-5",x:3135,y:2702,brightness:0.8794500378855553}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,2]],set:"birds"},{id:"nor",name:"Norma",latinName:"Norma",description:"The Carpenter's Square - A small southern constellation.",centerX:4059,centerY:2301,radius:69,discovered:!1,observatory:"southern",stars:[{id:"nor-0",x:4027,y:2253,brightness:0.8234881887430318},{id:"nor-1",x:4113,y:2293,brightness:0.9910659939085806},{id:"nor-2",x:4083,y:2336,brightness:0.8548705355137995},{id:"nor-3",x:4013,y:2320,brightness:0.845774791058003}],connections:[[0,1],[1,2],[2,3],[3,0]],set:"instruments"},{id:"oct",name:"Octans",latinName:"Octans",description:"The Octant - Contains the south celestial pole.",centerX:4909,centerY:2847,radius:100,discovered:!1,observatory:"southern",stars:[{id:"oct-0",x:3612,y:2894,brightness:0.9041003380280911},{id:"oct-1",x:5692,y:2856,brightness:0.8856236789533695},{id:"oct-2",x:5423,y:2790,brightness:0.8610257972213607}],connections:[[0,1],[1,2],[2,0]],set:"instruments"},{id:"oph",name:"Ophiuchus",latinName:"Ophiuchus",description:"The Serpent Bearer - A large constellation on the celestial equator.",centerX:4243,centerY:1653,radius:100,discovered:!1,observatory:"southern",stars:[{id:"oph-0",x:4496,y:1663,brightness:0.8477528310706766},{id:"oph-1",x:4450,y:1455,brightness:0.8405866056485006},{id:"oph-2",x:4431,y:1424,brightness:0.9259026661056999},{id:"oph-3",x:4396,y:1291,brightness:0.9029952488293367},{id:"oph-4",x:4240,y:1344,brightness:0.8872642137988043},{id:"oph-5",x:4129,y:1467,brightness:0.8263524872070198},{id:"oph-6",x:4060,y:1562,brightness:0.9003920830985048},{id:"oph-7",x:4076,y:1578,brightness:0.9897768751497018},{id:"oph-8",x:4155,y:1676,brightness:0.9151527726229199},{id:"oph-9",x:4293,y:1762,brightness:0.9640361761950393},{id:"oph-10",x:4130,y:1777,brightness:0.9430229492525753},{id:"oph-11",x:4113,y:1808,brightness:0.8050658218167313},{id:"oph-12",x:4100,y:1834,brightness:0.8396733417136277},{id:"oph-13",x:4107,y:1891,brightness:0.867343234263834},{id:"oph-14",x:4342,y:1917,brightness:0.9908996493924034},{id:"oph-15",x:4364,y:1998,brightness:0.850852115123909}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[4,8],[8,10],[10,11],[11,12],[12,13],[2,9],[9,14],[14,15]]},{id:"pav",name:"Pavo",latinName:"Pavo",description:"The Peacock - A southern constellation with a bright alpha star.",centerX:4866,centerY:2585,radius:100,discovered:!1,observatory:"southern",stars:[{id:"pav-0",x:5107,y:2446,brightness:0.9641164180035309},{id:"pav-1",x:5187,y:2603,brightness:0.8983906323906944},{id:"pav-2",x:5036,y:2603,brightness:0.9132626704069864},{id:"pav-3",x:4718,y:2536,brightness:0.9219236290397163},{id:"pav-4",x:4597,y:2525,brightness:0.9650733584536871},{id:"pav-5",x:4536,y:2561,brightness:0.8700477873464889},{id:"pav-6",x:4441,y:2579,brightness:0.9622715772010444},{id:"pav-7",x:4679,y:2690,brightness:0.871388130033336},{id:"pav-8",x:5002,y:2715,brightness:0.9297682298464636},{id:"pav-9",x:5360,y:2589,brightness:0.8026078545708082}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,1],[1,9]],set:"birds"},{id:"phe",name:"Phoenix",latinName:"Phoenix",description:"The Phoenix - A southern constellation representing the mythical bird.",centerX:243,centerY:2285,radius:100,discovered:!1,observatory:"southern",stars:[{id:"phe-0",x:110,y:2205,brightness:0.9996666583918903},{id:"phe-1",x:275,y:2279,brightness:0.8978880114220331},{id:"phe-2",x:368,y:2222,brightness:0.8276220407102709},{id:"phe-3",x:380,y:2318,brightness:0.9884310926678761},{id:"phe-4",x:285,y:2421,brightness:0.8888214327454655},{id:"phe-5",x:39,y:2262,brightness:0.9450652254401065}],connections:[[0,1],[1,2],[2,3],[3,4],[4,1],[1,5],[5,0]],set:"birds"},{id:"pic",name:"Pictor",latinName:"Pictor",description:"The Painter's Easel - A faint southern constellation.",centerX:1535,centerY:2440,radius:100,discovered:!1,observatory:"southern",stars:[{id:"pic-0",x:1701,y:2532,brightness:0.9919951407783277},{id:"pic-1",x:1458,y:2436,brightness:0.9574493228163747},{id:"pic-2",x:1447,y:2351,brightness:0.8398477503795707}],connections:[[0,1],[1,2]],set:"instruments"},{id:"psa",name:"Piscis Austrinus",latinName:"Piscis Austrinus",description:"The Southern Fish - Contains bright Fomalhaut.",centerX:5614,centerY:2024,radius:100,discovered:!1,observatory:"southern",stars:[{id:"psa-0",x:5669,y:1951,brightness:0.9496595484025608},{id:"psa-1",x:5740,y:1994,brightness:0.9334035317561067},{id:"psa-2",x:5733,y:2042,brightness:0.9342964049870184},{id:"psa-3",x:5719,y:2048,brightness:0.8997024281237157},{id:"psa-4",x:5631,y:2039,brightness:0.8663376659179562},{id:"psa-5",x:5535,y:2050,brightness:0.9881572926015004},{id:"psa-6",x:5437,y:2050,brightness:0.8468861317665626},{id:"psa-7",x:5449,y:2015,brightness:0.8031822362815331}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,5],[5,0]],set:"waters"},{id:"pup",name:"Puppis",latinName:"Puppis",description:"The Stern - Part of the ancient ship Argo Navis.",centerX:1927,centerY:2030,radius:100,discovered:!1,observatory:"southern",stars:[{id:"pup-0",x:1657,y:2220,brightness:0.9379951099990641},{id:"pup-1",x:1821,y:2118,brightness:0.9625776243561868},{id:"pup-2",x:1897,y:1973,brightness:0.8528253269014824},{id:"pup-3",x:1912,y:1947,brightness:0.9426124428258152},{id:"pup-4",x:1955,y:1914,brightness:0.9884424511855036},{id:"pup-5",x:1987,y:1881,brightness:0.9729259957795828},{id:"pup-6",x:2031,y:1905,brightness:0.9890811588972519},{id:"pup-7",x:2015,y:2167,brightness:0.8238656770648374},{id:"pup-8",x:2040,y:2289,brightness:0.9052982799369602},{id:"pup-9",x:1950,y:1932,brightness:0.9437998791833546},{id:"pup-10",x:1933,y:1983,brightness:0.8829312563988367}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[7,8],[4,9],[9,10],[10,2]],set:"argo"},{id:"pyx",name:"Pyxis",latinName:"Pyxis",description:"The Compass - Represents a ship's compass.",centerX:2144,centerY:2068,radius:100,discovered:!1,observatory:"southern",stars:[{id:"pyx-0",x:2015,y:2167,brightness:0.96788831716629},{id:"pyx-1",x:2167,y:2088,brightness:0.8833753126829565},{id:"pyx-2",x:2182,y:2053,brightness:0.836499349289955},{id:"pyx-3",x:2211,y:1962,brightness:0.9271306778619474}],connections:[[0,1],[1,2],[2,3]],set:"argo"},{id:"ret",name:"Reticulum",latinName:"Reticulum",description:"The Reticle - A small southern constellation.",centerX:1015,centerY:2533,radius:100,discovered:!1,observatory:"southern",stars:[{id:"ret-0",x:1060,y:2541,brightness:0.977485759581396},{id:"ret-1",x:1069,y:2488,brightness:0.8185994236307744},{id:"ret-2",x:995,y:2523,brightness:0.8398380785977514},{id:"ret-3",x:934,y:2580,brightness:0.8212925192251116}],connections:[[0,1],[1,2],[2,3],[3,0]],set:"instruments"},{id:"sgr",name:"Sagittarius",latinName:"Sagittarius",description:"The Archer - Points toward the galactic center.",centerX:4767,centerY:1961,radius:100,discovered:!1,observatory:"southern",stars:[{id:"sgr-0",x:4573,y:2113,brightness:0.8803468026254212},{id:"sgr-1",x:4601,y:2073,brightness:0.8095897303428186},{id:"sgr-2",x:4587,y:1997,brightness:0.9099359908386905},{id:"sgr-3",x:4617,y:1924,brightness:0.8105609728203123},{id:"sgr-4",x:4557,y:1851,brightness:0.9456860343107947},{id:"sgr-5",x:4844,y:2241,brightness:0.8696941362458291},{id:"sgr-6",x:4850,y:2177,brightness:0.9308962763907552},{id:"sgr-7",x:4761,y:1998,brightness:0.9988786987246079},{id:"sgr-8",x:4690,y:1950,brightness:0.8174319297759418},{id:"sgr-9",x:4980,y:2198,brightness:0.826967903090245},{id:"sgr-10",x:4999,y:2088,brightness:0.8707596513628793},{id:"sgr-11",x:4983,y:1938,brightness:0.8426071882574545},{id:"sgr-12",x:4903,y:1915,brightness:0.9493965879174144},{id:"sgr-13",x:4855,y:1908,brightness:0.9081251523593097},{id:"sgr-14",x:4815,y:1921,brightness:0.9465129153268366},{id:"sgr-15",x:4730,y:1938,brightness:0.9314217627019246},{id:"sgr-16",x:4524,y:2007,brightness:0.8967025212462056},{id:"sgr-17",x:4779,y:1961,brightness:0.915705389902804},{id:"sgr-18",x:4770,y:1862,brightness:0.9515652940423243},{id:"sgr-19",x:4791,y:1850,brightness:0.8026229212206422},{id:"sgr-20",x:4823,y:1816,brightness:0.8656438805127021},{id:"sgr-21",x:4840,y:1797,brightness:0.9970888215618494},{id:"sgr-22",x:4841,y:1766,brightness:0.9493625824279325},{id:"sgr-23",x:4741,y:1852,brightness:0.9870125047236504},{id:"sgr-24",x:4726,y:1879,brightness:0.8789035799587607}],connections:[[0,1],[1,2],[2,3],[3,4],[5,6],[6,7],[7,8],[8,3],[9,10],[10,11],[11,12],[12,13],[13,14],[14,15],[15,8],[8,2],[2,16],[16,1],[1,7],[7,17],[17,15],[15,18],[18,19],[19,20],[20,21],[21,22],[18,23],[23,24],[24,15]],set:"zodiac"},{id:"sco",name:"Scorpius",latinName:"Scorpius",description:"The Scorpion - A striking zodiac constellation with red Antares.",centerX:4215,centerY:2055,radius:100,discovered:!1,observatory:"southern",stars:[{id:"sco-0",x:3995,y:1935,brightness:0.9191774773314597},{id:"sco-1",x:4001,y:1877,brightness:0.8032006281162725},{id:"sco-2",x:4023,y:1830,brightness:0.9322153362448276},{id:"sco-3",x:4088,y:1927,brightness:0.9511836808003576},{id:"sco-4",x:4123,y:1941,brightness:0.9084795467720117},{id:"sco-5",x:4150,y:1970,brightness:0.8248953083132584},{id:"sco-6",x:4209,y:2072,brightness:0.9098950742268365},{id:"sco-7",x:4216,y:2134,brightness:0.9323117459045256},{id:"sco-8",x:4227,y:2206,brightness:0.9238286489830263},{id:"sco-9",x:4301,y:2221,brightness:0.8747200542358097},{id:"sco-10",x:4405,y:2217,brightness:0.8246520245274083},{id:"sco-11",x:4448,y:2169,brightness:0.9948484382974709},{id:"sco-12",x:4427,y:2151,brightness:0.9709273033239887},{id:"sco-13",x:4390,y:2118,brightness:0.8440572678108241}],connections:[[0,1],[1,2],[1,3],[3,4],[4,5],[5,6],[6,7],[7,8],[8,9],[9,10],[10,11],[11,12],[12,13]],set:"zodiac"},{id:"scl",name:"Sculptor",latinName:"Sculptor",description:"The Sculptor - Contains the south galactic pole.",centerX:5978,centerY:2033,radius:100,discovered:!1,observatory:"southern",stars:[{id:"scl-0",x:244,y:1989,brightness:0.8170175813006866},{id:"scl-1",x:5954,y:1969,brightness:0.9453193296731285},{id:"scl-2",x:5828,y:2042,brightness:0.9596332571799959},{id:"scl-3",x:5887,y:2130,brightness:0.896033666946441}],connections:[[0,1],[1,2],[2,3]],set:"instruments"},{id:"sct",name:"Scutum",latinName:"Scutum",description:"The Shield - A small but distinctive constellation.",centerX:4661,centerY:1653,radius:100,discovered:!1,observatory:"southern",stars:[{id:"sct-0",x:4647,y:1637,brightness:0.8416067610132602},{id:"sct-1",x:4697,y:1579,brightness:0.9585456990860669},{id:"sct-2",x:4676,y:1651,brightness:0.8651566204103037},{id:"sct-3",x:4622,y:1743,brightness:0.8697976550530743}],connections:[[0,1],[1,2],[2,3],[3,0]]},{id:"ser-2",name:"Serpens",latinName:"Serpens",description:"The Serpent - The only constellation split into two parts.",centerX:4505,centerY:1633,radius:100,discovered:!1,observatory:"southern",stars:[{id:"ser-2-0",x:4293,y:1762,brightness:0.8590511704892203},{id:"ser-2-1",x:4407,y:1757,brightness:0.898315528573863},{id:"ser-2-2",x:4496,y:1663,brightness:0.9458689008654716},{id:"ser-2-3",x:4513,y:1636,brightness:0.9270734933141783},{id:"ser-2-4",x:4589,y:1548,brightness:0.8991527468394612},{id:"ser-2-5",x:4734,y:1430,brightness:0.8462453573140938}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5]]},{id:"sex",name:"Sextans",latinName:"Sextans",description:"The Sextant - A faint equatorial constellation.",centerX:2563,centerY:1550,radius:100,discovered:!1,observatory:"southern",stars:[{id:"sex-0",x:2533,y:1506,brightness:0.8426826916889327},{id:"sex-1",x:2469,y:1635,brightness:0.9667758227166958},{id:"sex-2",x:2623,y:1546,brightness:0.9558228829554706},{id:"sex-3",x:2626,y:1511,brightness:0.9895178080638304}],connections:[[0,1],[1,2],[2,3]],set:"centaur"},{id:"tel",name:"Telescopium",latinName:"Telescopium",description:"The Telescope - A small southern constellation.",centerX:4593,centerY:2283,radius:59,discovered:!1,observatory:"southern",stars:[{id:"tel-0",x:4547,y:2266,brightness:0.9413168756583034},{id:"tel-1",x:4612,y:2266,brightness:0.8352837667583211},{id:"tel-2",x:4620,y:2318,brightness:0.9315956946150501}],connections:[[0,1],[1,2]],set:"instruments"},{id:"tra",name:"Triangulum Australe",latinName:"Triangulum Australe",description:"The Southern Triangle - A distinctive southern constellation.",centerX:4004,centerY:2617,radius:100,discovered:!1,observatory:"southern",stars:[{id:"tra-0",x:4203,y:2650,brightness:0.9667389310868187},{id:"tra-1",x:3980,y:2557,brightness:0.8390983919204051},{id:"tra-2",x:3829,y:2645,brightness:0.9423663392915564}],connections:[[0,1],[1,2],[2,0]],set:"centaur"},{id:"tuc",name:"Tucana",latinName:"Tucana",description:"The Toucan - Contains the Small Magellanic Cloud.",centerX:5872,centerY:2547,radius:100,discovered:!1,observatory:"southern",stars:[{id:"tuc-0",x:5577,y:2504,brightness:0.9179641395380415},{id:"tuc-1",x:5823,y:2471,brightness:0.9626311986326831},{id:"tuc-2",x:131,y:2549,brightness:0.8470375434153091},{id:"tuc-3",x:84,y:2581,brightness:0.9180036666935544},{id:"tuc-4",x:0,y:2593,brightness:0.960585588248384},{id:"tuc-5",x:5614,y:2583,brightness:0.9168854771759366}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,0]],set:"birds"},{id:"vel",name:"Vela",latinName:"Vela",description:"The Sails - Part of the ancient ship Argo Navis.",centerX:2372,centerY:2306,radius:100,discovered:!1,observatory:"southern",stars:[{id:"vel-0",x:2186,y:2412,brightness:0.8302401163450512},{id:"vel-1",x:2342,y:2417,brightness:0.95389019032676},{id:"vel-2",x:2487,y:2409,brightness:0.850996310239613},{id:"vel-3",x:2695,y:2324,brightness:0.9789725476399406},{id:"vel-4",x:2561,y:2202,brightness:0.8345303135326871},{id:"vel-5",x:2378,y:2174,brightness:0.9076005804447795},{id:"vel-6",x:2283,y:2224,brightness:0.9097147504996413},{id:"vel-7",x:2040,y:2289,brightness:0.8498269138811367}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7]],set:"argo"},{id:"vir",name:"Virgo",latinName:"Virgo",description:"The Maiden - The second-largest constellation with bright Spica.",centerX:3318,centerY:1506,radius:100,discovered:!1,observatory:"southern",stars:[{id:"vir-0",x:2941,y:1391,brightness:0.9321621733572834},{id:"vir-1",x:2961,y:1471,brightness:0.8342914041060577},{id:"vir-2",x:3083,y:1511,brightness:0.9074928492880081},{id:"vir-3",x:3174,y:1524,brightness:0.9114367170695223},{id:"vir-4",x:3291,y:1592,brightness:0.9787429386867073},{id:"vir-5",x:3355,y:1686,brightness:0.8976684051700952},{id:"vir-6",x:3567,y:1600,brightness:0.9600352072925542},{id:"vir-7",x:3679,y:1594,brightness:0.90223623575523},{id:"vir-8",x:3259,y:1317,brightness:0.955293237574757},{id:"vir-9",x:3232,y:1443,brightness:0.9446885513070986},{id:"vir-10",x:3395,y:1510,brightness:0.8942357495639015},{id:"vir-11",x:3507,y:1474,brightness:0.9007337692076389},{id:"vir-12",x:3693,y:1468,brightness:0.8950658389939989}],connections:[[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],[6,7],[8,9],[9,3],[4,10],[10,11],[11,12]],set:"zodiac"},{id:"vol",name:"Volans",latinName:"Volans",description:"The Flying Fish - A small southern constellation.",centerX:2001,centerY:2632,radius:100,discovered:!1,observatory:"southern",stars:[{id:"vol-0",x:2260,y:2607,brightness:0.8280919652309646},{id:"vol-1",x:2107,y:2602,brightness:0.8584351010637274},{id:"vol-2",x:2033,y:2644,brightness:0.857622474062326},{id:"vol-3",x:1820,y:2633,brightness:0.9734582143768504},{id:"vol-4",x:1786,y:2675,brightness:0.9494873285424674}],connections:[[0,1],[1,2],[2,3],[3,4],[4,2],[2,0]],set:"waters"}];function f(s){return h1.filter((i)=>i.observatory===s)}var Y={zodiac:{id:"zodiac",name:"The Zodiac",description:"The twelve constellations lying along the plane of the ecliptic.",upgradeId:"wide_angle",upgradeName:"Wide Angle Lens",upgradeDescription:"Increases the viewport field of view by 15%."},ursa:{id:"ursa",name:"The Great Bears",description:"The guardians of the North Pole.",upgradeId:"stabilizer",upgradeName:"Gyroscopic Stabilizer",upgradeDescription:"Significantly reduces telescope drift and lag."},royal:{id:"royal",name:"The Royal Family",description:"The saga of Andromeda, bringing together Queen, King, and Hero."},orion:{id:"orion",name:"The Hunter's Circle",description:"Bright constellations surrounding the mighty Orion."},waters:{id:"waters",name:"The Heavenly Waters",description:"Creatures of the celestial ocean."},argo:{id:"argo",name:"Argo Navis",description:"The great ship of Jason and the Argonauts, now split into three parts.",upgradeId:"wide_angle",upgradeName:"Wide Angle Lens",upgradeDescription:"Increases the viewport field of view by 15%."},birds:{id:"birds",name:"The Southern Birds",description:"Exotic birds of the southern skies, introduced by explorers."},instruments:{id:"instruments",name:"La Caille's Instruments",description:"Scientific tools and instruments comprising the modern constellations.",upgradeId:"stabilizer",upgradeName:"Gyroscopic Stabilizer",upgradeDescription:"Significantly improves stability and reduces drift."},centaur:{id:"centaur",name:"The Centaur's Family",description:"Dominant constellations of the southern Milky Way."}};var H=[{id:"orion_nebula",name:"Orion Nebula (M42)",x:1380,y:1510,width:64,height:56,rotation:Math.PI/12,observatory:"northern",layers:[{offsetX:32,offsetY:-3,width:150,height:135,color:"#3d1a28",opacity:0.09,shape:"cloud",blendMode:"screen"},{offsetX:30,offsetY:-2,width:130,height:120,color:"#4a2233",opacity:0.12,shape:"cloud",blendMode:"screen"},{offsetX:-22,offsetY:-20,width:75,height:60,rotation:-0.3,color:"#773355",opacity:0.16,shape:"cloud",blendMode:"screen"},{offsetX:-18,offsetY:-24,width:60,height:52,rotation:-0.25,color:"#884466",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:-12,offsetY:-28,width:48,height:45,rotation:-0.2,color:"#994477",opacity:0.19,shape:"cloud",blendMode:"screen"},{offsetX:-15,offsetY:-22,width:42,height:38,rotation:-0.18,color:"#aa5588",opacity:0.21,shape:"cloud",blendMode:"screen"},{offsetX:35,offsetY:-18,width:72,height:58,rotation:0.25,color:"#663344",opacity:0.17,shape:"cloud",blendMode:"screen"},{offsetX:42,offsetY:-14,width:62,height:50,rotation:0.22,color:"#773355",opacity:0.19,shape:"cloud",blendMode:"screen"},{offsetX:48,offsetY:-10,width:52,height:44,rotation:0.2,color:"#884466",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:40,offsetY:-12,width:45,height:40,rotation:0.18,color:"#994477",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:28,offsetY:18,width:65,height:52,rotation:0.12,color:"#884466",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:32,offsetY:22,width:55,height:45,rotation:0.1,color:"#994477",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:18,offsetY:2,width:85,height:72,color:"#884466",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:20,offsetY:0,width:72,height:62,color:"#994477",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:22,offsetY:-2,width:62,height:54,color:"#aa5577",opacity:0.24,shape:"cloud",blendMode:"screen"},{offsetX:24,offsetY:-4,width:52,height:46,color:"#bb6688",opacity:0.26,shape:"cloud",blendMode:"screen"},{offsetX:25,offsetY:-5,width:44,height:40,color:"#cc7799",opacity:0.28,shape:"cloud",blendMode:"screen"},{offsetX:26,offsetY:-6,width:36,height:34,color:"#dd88aa",opacity:0.3,shape:"cloud",blendMode:"screen"},{offsetX:10,offsetY:8,width:38,height:32,rotation:-0.22,color:"#668877",opacity:0.17,shape:"cloud",blendMode:"screen"},{offsetX:36,offsetY:6,width:35,height:30,rotation:0.2,color:"#779988",opacity:0.16,shape:"cloud",blendMode:"screen"},{offsetX:22,offsetY:-8,width:30,height:26,rotation:0.1,color:"#88aa99",opacity:0.15,shape:"cloud",blendMode:"screen"},{offsetX:24,offsetY:-8,width:7,height:7,color:"#ddeeff",opacity:0.72,shape:"ellipse",blendMode:"screen"},{offsetX:24,offsetY:-8,width:4,height:4,color:"#ffffff",opacity:0.86,shape:"ellipse",blendMode:"screen"},{offsetX:28,offsetY:-7,width:6,height:6,color:"#ddeeff",opacity:0.7,shape:"ellipse",blendMode:"screen"},{offsetX:28,offsetY:-7,width:3,height:3,color:"#ffffff",opacity:0.84,shape:"ellipse",blendMode:"screen"},{offsetX:25,offsetY:-4,width:8,height:8,color:"#ddeeff",opacity:0.74,shape:"ellipse",blendMode:"screen"},{offsetX:25,offsetY:-4,width:4,height:4,color:"#ffffff",opacity:0.88,shape:"ellipse",blendMode:"screen"},{offsetX:28,offsetY:-3,width:9,height:9,color:"#eef4ff",opacity:0.77,shape:"ellipse",blendMode:"screen"},{offsetX:28,offsetY:-3,width:5,height:5,color:"#ffffff",opacity:0.92,shape:"ellipse",blendMode:"screen"},{offsetX:26,offsetY:-5,width:22,height:20,color:"#cce4ff",opacity:0.48,shape:"ellipse",blendMode:"screen"},{offsetX:26,offsetY:-5,width:14,height:13,color:"#ddeeff",opacity:0.58,shape:"ellipse",blendMode:"screen"},{offsetX:18,offsetY:-22,width:58,height:38,rotation:0.32,color:"#0a0508",opacity:0.88,shape:"cloud",blendMode:"source-over"},{offsetX:15,offsetY:-24,width:46,height:30,rotation:0.35,color:"#050305",opacity:0.95,shape:"cloud",blendMode:"source-over"},{offsetX:13,offsetY:-26,width:36,height:24,rotation:0.38,color:"#000000",opacity:1,shape:"cloud",blendMode:"source-over"},{offsetX:20,offsetY:-18,width:32,height:22,rotation:0.25,color:"#0f0a0f",opacity:0.75,shape:"cloud",blendMode:"source-over"},{offsetX:32,offsetY:-16,width:28,height:20,rotation:-0.22,color:"#140a14",opacity:0.7,shape:"cloud",blendMode:"source-over"},{offsetX:8,offsetY:-42,width:42,height:38,color:"#884466",opacity:0.23,shape:"cloud",blendMode:"screen"},{offsetX:8,offsetY:-42,width:34,height:32,color:"#994477",opacity:0.27,shape:"cloud",blendMode:"screen"},{offsetX:8,offsetY:-42,width:26,height:25,color:"#aa5588",opacity:0.31,shape:"ellipse",blendMode:"screen"},{offsetX:8,offsetY:-42,width:17,height:16,color:"#bb6699",opacity:0.37,shape:"ellipse",blendMode:"screen"},{offsetX:8,offsetY:-42,width:10,height:9,color:"#cc7799",opacity:0.46,shape:"ellipse",blendMode:"screen"},{offsetX:8,offsetY:-42,width:6,height:5,color:"#ddaacc",opacity:0.56,shape:"ellipse",blendMode:"screen"},{offsetX:6,offsetY:-36,width:20,height:16,rotation:-0.5,color:"#663344",opacity:0.19,shape:"streak",blendMode:"screen"},{offsetX:14,offsetY:-32,width:32,height:14,rotation:0.12,color:"#0a0508",opacity:0.68,shape:"streak",blendMode:"source-over"},{offsetX:16,offsetY:24,width:44,height:13,rotation:-0.16,color:"#773355",opacity:0.15,shape:"streak",blendMode:"screen"},{offsetX:38,offsetY:26,width:42,height:12,rotation:0.18,color:"#664444",opacity:0.14,shape:"streak",blendMode:"screen"},{offsetX:8,offsetY:-20,width:36,height:11,rotation:-0.28,color:"#884466",opacity:0.14,shape:"streak",blendMode:"screen"},{offsetX:42,offsetY:-14,width:34,height:10,rotation:0.26,color:"#775544",opacity:0.13,shape:"streak",blendMode:"screen"},{offsetX:-10,offsetY:-18,width:30,height:24,rotation:-0.2,color:"#bb7788",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:50,offsetY:-8,width:32,height:26,rotation:0.22,color:"#aa6677",opacity:0.17,shape:"cloud",blendMode:"screen"}],features:[{description:"Contains dark dust lanes forming a 'Fish Mouth' shape",isPresent:!0,category:"structure"},{description:"Has a bright central star cluster (Trapezium)",isPresent:!0,category:"component"},{description:"Shows a companion nebula (M43)",isPresent:!0,category:"component"},{description:"Displays greenish OIII emission regions",isPresent:!0,category:"color"},{description:"Has a ring or shell structure",isPresent:!1,category:"structure"},{description:"Shows dark pillar structures",isPresent:!1,category:"structure"}]},{id:"ring_nebula",name:"Ring Nebula (M57)",x:3850,y:1200,width:32,height:32,rotation:Math.PI/18,observatory:"northern",layers:[{offsetX:0,offsetY:0,width:76,height:74,color:"#5a3344",opacity:0.1,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:68,height:66,color:"#6b4455",opacity:0.13,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:60,height:58,color:"#995555",opacity:0.24,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:54,height:52,color:"#aa6666",opacity:0.26,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:50,height:48,color:"#bb7777",opacity:0.22,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:46,height:44,color:"#889988",opacity:0.28,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:44,height:42,color:"#99aa99",opacity:0.24,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:40,height:38,color:"#5a9999",opacity:0.32,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:38,height:36,color:"#6baaaa",opacity:0.35,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:36,height:34,color:"#7cbbbb",opacity:0.3,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:34,height:32,color:"#8dcccc",opacity:0.38,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:24,height:22,color:"#0a0a14",opacity:0.65,shape:"ellipse",blendMode:"source-over"},{offsetX:0,offsetY:0,width:20,height:18,color:"#050508",opacity:0.75,shape:"ellipse",blendMode:"source-over"},{offsetX:0,offsetY:0,width:7,height:7,color:"#d4d4bb",opacity:0.62,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:4,height:4,color:"#e4e4cc",opacity:0.72,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:2,height:2,color:"#ffffff",opacity:0.85,shape:"ellipse",blendMode:"screen"},{offsetX:13,offsetY:-9,width:15,height:13,rotation:0.35,color:"#7aaa99",opacity:0.26,shape:"cloud",blendMode:"screen"},{offsetX:-15,offsetY:11,width:17,height:15,rotation:-0.52,color:"#6b9988",opacity:0.24,shape:"cloud",blendMode:"screen"},{offsetX:9,offsetY:13,width:14,height:12,rotation:0.8,color:"#8bbb99",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:-11,offsetY:-12,width:16,height:14,rotation:-0.7,color:"#7caa88",opacity:0.25,shape:"cloud",blendMode:"screen"},{offsetX:-10,offsetY:0,width:11,height:10,rotation:0.2,color:"#9dccbb",opacity:0.28,shape:"cloud",blendMode:"screen"},{offsetX:10,offsetY:-1,width:12,height:11,rotation:-0.3,color:"#8dbbaa",opacity:0.27,shape:"cloud",blendMode:"screen"}],features:[{description:"Has a ring or shell structure",isPresent:!0,category:"structure"},{description:"Shows a central white dwarf star",isPresent:!0,category:"component"},{description:"Displays blue-green OIII emission in the inner ring",isPresent:!0,category:"color"},{description:"Shows a red outer shell from H-alpha emission",isPresent:!0,category:"color"},{description:"Contains dark pillar structures",isPresent:!1,category:"structure"},{description:"Has a central pulsar",isPresent:!1,category:"component"}]},{id:"crab_nebula",name:"Crab Nebula (M1)",x:1250,y:1280,width:44,height:36,rotation:Math.PI/7,observatory:"northern",layers:[{offsetX:0,offsetY:0,width:92,height:76,color:"#5a3322",opacity:0.11,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:82,height:68,color:"#6b4433",opacity:0.14,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:72,height:60,color:"#7a4433",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:-4,offsetY:2,width:64,height:54,color:"#8b5544",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:-18,offsetY:-14,width:52,height:15,rotation:0.55,color:"#aa5533",opacity:0.26,shape:"streak",blendMode:"screen"},{offsetX:-16,offsetY:-12,width:46,height:13,rotation:0.6,color:"#bb6644",opacity:0.28,shape:"streak",blendMode:"screen"},{offsetX:-14,offsetY:-10,width:40,height:11,rotation:0.65,color:"#cc7755",opacity:0.24,shape:"streak",blendMode:"screen"},{offsetX:22,offsetY:-10,width:48,height:14,rotation:-0.38,color:"#995533",opacity:0.24,shape:"streak",blendMode:"screen"},{offsetX:20,offsetY:-8,width:42,height:12,rotation:-0.42,color:"#aa6644",opacity:0.26,shape:"streak",blendMode:"screen"},{offsetX:18,offsetY:-6,width:36,height:10,rotation:-0.46,color:"#bb7755",opacity:0.22,shape:"streak",blendMode:"screen"},{offsetX:-14,offsetY:18,width:44,height:13,rotation:-0.75,color:"#b85533",opacity:0.23,shape:"streak",blendMode:"screen"},{offsetX:-12,offsetY:16,width:38,height:11,rotation:-0.8,color:"#c96644",opacity:0.25,shape:"streak",blendMode:"screen"},{offsetX:-10,offsetY:14,width:32,height:9,rotation:-0.85,color:"#da7755",opacity:0.21,shape:"streak",blendMode:"screen"},{offsetX:16,offsetY:20,width:42,height:14,rotation:0.88,color:"#8b4433",opacity:0.25,shape:"streak",blendMode:"screen"},{offsetX:14,offsetY:18,width:36,height:12,rotation:0.92,color:"#9c5544",opacity:0.27,shape:"streak",blendMode:"screen"},{offsetX:12,offsetY:16,width:30,height:10,rotation:0.96,color:"#ad6655",opacity:0.23,shape:"streak",blendMode:"screen"},{offsetX:-8,offsetY:-8,width:34,height:11,rotation:0.18,color:"#cc7755",opacity:0.2,shape:"streak",blendMode:"screen"},{offsetX:10,offsetY:-4,width:32,height:10,rotation:-0.25,color:"#bb6644",opacity:0.22,shape:"streak",blendMode:"screen"},{offsetX:-6,offsetY:8,width:30,height:9,rotation:1.05,color:"#aa5533",opacity:0.21,shape:"streak",blendMode:"screen"},{offsetX:8,offsetY:6,width:28,height:9,rotation:-1.1,color:"#995544",opacity:0.19,shape:"streak",blendMode:"screen"},{offsetX:0,offsetY:-12,width:24,height:7,rotation:0,color:"#dd8866",opacity:0.18,shape:"streak",blendMode:"screen"},{offsetX:-10,offsetY:0,width:22,height:7,rotation:0.5,color:"#cc7755",opacity:0.17,shape:"streak",blendMode:"screen"},{offsetX:10,offsetY:10,width:20,height:6,rotation:-0.6,color:"#bb6644",opacity:0.16,shape:"streak",blendMode:"screen"},{offsetX:0,offsetY:0,width:28,height:24,color:"#d4aa77",opacity:0.32,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:20,height:18,color:"#e4bb88",opacity:0.38,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:14,height:12,color:"#f4cc99",opacity:0.46,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:6,height:5,color:"#ffddaa",opacity:0.68,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:3,height:2,color:"#ffffff",opacity:0.82,shape:"ellipse",blendMode:"screen"},{offsetX:-20,offsetY:-10,width:12,height:10,rotation:0.4,color:"#ee9977",opacity:0.28,shape:"cloud",blendMode:"screen"},{offsetX:18,offsetY:12,width:11,height:9,rotation:-0.5,color:"#dd8866",opacity:0.26,shape:"cloud",blendMode:"screen"},{offsetX:-8,offsetY:14,width:10,height:8,rotation:0.7,color:"#cc7755",opacity:0.24,shape:"cloud",blendMode:"screen"}],features:[{description:"Shows filamentary structure throughout",isPresent:!0,category:"structure"},{description:"Has a central pulsar",isPresent:!0,category:"component"},{description:"Displays an irregular, chaotic shape",isPresent:!0,category:"structure"},{description:"Shows orange-red emission",isPresent:!0,category:"color"},{description:"Has a ring or shell structure",isPresent:!1,category:"structure"},{description:"Contains a companion nebula",isPresent:!1,category:"component"}]},{id:"eagle_nebula",name:"Eagle Nebula (M16)",x:4200,y:1650,width:40,height:64,rotation:Math.PI/12,observatory:"southern",layers:[{offsetX:0,offsetY:0,width:102,height:138,color:"#6b3344",opacity:0.13,shape:"cloud",blendMode:"screen"},{offsetX:-6,offsetY:-12,width:88,height:118,color:"#7a4455",opacity:0.16,shape:"cloud",blendMode:"screen"},{offsetX:-4,offsetY:-8,width:72,height:96,color:"#885566",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:8,width:56,height:52,color:"#994466",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:-2,offsetY:6,width:44,height:42,color:"#aa5577",opacity:0.24,shape:"cloud",blendMode:"screen"},{offsetX:-15,offsetY:-6,width:20,height:84,rotation:-0.12,color:"#0f0a0f",opacity:0.92,shape:"streak",blendMode:"source-over"},{offsetX:-16,offsetY:-8,width:17,height:78,rotation:-0.14,color:"#0a0508",opacity:0.96,shape:"streak",blendMode:"source-over"},{offsetX:-17,offsetY:-10,width:14,height:72,rotation:-0.15,color:"#050305",opacity:1,shape:"streak",blendMode:"source-over"},{offsetX:-24,offsetY:-8,width:12,height:68,rotation:-0.1,color:"#994466",opacity:0.32,shape:"streak",blendMode:"screen"},{offsetX:-26,offsetY:-6,width:9,height:58,rotation:-0.08,color:"#aa5577",opacity:0.28,shape:"streak",blendMode:"screen"},{offsetX:0,offsetY:6,width:22,height:76,rotation:0.04,color:"#140a0f",opacity:0.9,shape:"streak",blendMode:"source-over"},{offsetX:-1,offsetY:4,width:19,height:70,rotation:0.05,color:"#0f0a0a",opacity:0.94,shape:"streak",blendMode:"source-over"},{offsetX:-2,offsetY:2,width:16,height:64,rotation:0.06,color:"#0a0508",opacity:1,shape:"streak",blendMode:"source-over"},{offsetX:9,offsetY:4,width:13,height:62,rotation:0.08,color:"#aa5566",opacity:0.34,shape:"streak",blendMode:"screen"},{offsetX:11,offsetY:6,width:10,height:52,rotation:0.1,color:"#bb6677",opacity:0.3,shape:"streak",blendMode:"screen"},{offsetX:17,offsetY:16,width:24,height:60,rotation:0.18,color:"#1a0f14",opacity:0.88,shape:"streak",blendMode:"source-over"},{offsetX:16,offsetY:14,width:21,height:56,rotation:0.2,color:"#140a0f",opacity:0.92,shape:"streak",blendMode:"source-over"},{offsetX:15,offsetY:12,width:18,height:50,rotation:0.22,color:"#0f0a0a",opacity:1,shape:"streak",blendMode:"source-over"},{offsetX:26,offsetY:16,width:12,height:48,rotation:0.16,color:"#995566",opacity:0.3,shape:"streak",blendMode:"screen"},{offsetX:28,offsetY:18,width:9,height:40,rotation:0.14,color:"#aa6677",opacity:0.26,shape:"streak",blendMode:"screen"},{offsetX:-16,offsetY:-46,width:16,height:15,color:"#cc8899",opacity:0.38,shape:"cloud",blendMode:"screen"},{offsetX:-17,offsetY:-48,width:12,height:11,color:"#ddaaaa",opacity:0.44,shape:"ellipse",blendMode:"screen"},{offsetX:-18,offsetY:-50,width:8,height:7,color:"#eeccbb",opacity:0.52,shape:"ellipse",blendMode:"screen"},{offsetX:-1,offsetY:-36,width:14,height:13,color:"#bb7788",opacity:0.4,shape:"cloud",blendMode:"screen"},{offsetX:-2,offsetY:-38,width:10,height:9,color:"#cc99aa",opacity:0.48,shape:"ellipse",blendMode:"screen"},{offsetX:16,offsetY:-22,width:12,height:11,color:"#aa6677",opacity:0.36,shape:"cloud",blendMode:"screen"},{offsetX:17,offsetY:-24,width:8,height:7,color:"#bb8899",opacity:0.42,shape:"ellipse",blendMode:"screen"},{offsetX:-32,offsetY:26,width:42,height:46,rotation:-0.28,color:"#6b3344",opacity:0.16,shape:"cloud",blendMode:"screen"},{offsetX:30,offsetY:34,width:46,height:50,rotation:0.35,color:"#774455",opacity:0.15,shape:"cloud",blendMode:"screen"},{offsetX:-18,offsetY:-54,width:28,height:24,rotation:-0.15,color:"#885566",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:22,offsetY:42,width:32,height:28,rotation:0.25,color:"#774455",opacity:0.14,shape:"cloud",blendMode:"screen"}],features:[{description:"Contains dark pillar structures (Pillars of Creation)",isPresent:!0,category:"structure"},{description:"Shows bright star-forming regions at pillar tips",isPresent:!0,category:"component"},{description:"Displays silhouetted dust columns",isPresent:!0,category:"structure"},{description:"Shows red and green emission nebulosity",isPresent:!0,category:"color"},{description:"Has a ring or shell structure",isPresent:!1,category:"structure"},{description:"Shows filamentary structure",isPresent:!1,category:"structure"}]},{id:"lagoon_nebula",name:"Lagoon Nebula (M8)",x:4550,y:1850,width:64,height:48,rotation:Math.PI/9,observatory:"southern",layers:[{offsetX:0,offsetY:0,width:138,height:98,color:"#5a2244",opacity:0.12,shape:"cloud",blendMode:"screen"},{offsetX:-4,offsetY:-2,width:118,height:84,color:"#6b3355",opacity:0.15,shape:"cloud",blendMode:"screen"},{offsetX:-8,offsetY:-16,width:88,height:42,color:"#884466",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:-6,offsetY:-18,width:72,height:36,color:"#994477",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:-4,offsetY:-20,width:58,height:30,color:"#aa5588",opacity:0.24,shape:"cloud",blendMode:"screen"},{offsetX:4,offsetY:12,width:92,height:46,color:"#7a3355",opacity:0.19,shape:"cloud",blendMode:"screen"},{offsetX:6,offsetY:14,width:76,height:38,color:"#8b4466",opacity:0.21,shape:"cloud",blendMode:"screen"},{offsetX:8,offsetY:16,width:62,height:32,color:"#9c5577",opacity:0.23,shape:"cloud",blendMode:"screen"},{offsetX:-20,offsetY:-8,width:48,height:38,color:"#bb6688",opacity:0.26,shape:"cloud",blendMode:"screen"},{offsetX:-22,offsetY:-10,width:38,height:32,color:"#cc7799",opacity:0.28,shape:"cloud",blendMode:"screen"},{offsetX:-24,offsetY:-12,width:28,height:24,color:"#dd88aa",opacity:0.32,shape:"cloud",blendMode:"screen"},{offsetX:16,offsetY:4,width:52,height:42,color:"#aa5577",opacity:0.25,shape:"cloud",blendMode:"screen"},{offsetX:18,offsetY:6,width:42,height:34,color:"#bb6688",opacity:0.27,shape:"cloud",blendMode:"screen"},{offsetX:20,offsetY:8,width:32,height:26,color:"#cc7799",opacity:0.3,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:96,height:18,rotation:0.08,color:"#0a0508",opacity:0.9,shape:"streak",blendMode:"source-over"},{offsetX:-2,offsetY:1,width:82,height:14,rotation:0.1,color:"#050305",opacity:0.95,shape:"streak",blendMode:"source-over"},{offsetX:0,offsetY:2,width:68,height:12,rotation:0.08,color:"#000000",opacity:1,shape:"streak",blendMode:"source-over"},{offsetX:12,offsetY:-4,width:44,height:10,rotation:0.15,color:"#140a14",opacity:0.75,shape:"streak",blendMode:"source-over"},{offsetX:-16,offsetY:3,width:38,height:9,rotation:-0.12,color:"#1a0f14",opacity:0.7,shape:"streak",blendMode:"source-over"},{offsetX:-26,offsetY:-10,width:20,height:18,color:"#e4ccaa",opacity:0.38,shape:"cloud",blendMode:"screen"},{offsetX:-28,offsetY:-12,width:14,height:13,color:"#f4ddbb",opacity:0.45,shape:"ellipse",blendMode:"screen"},{offsetX:22,offsetY:8,width:22,height:20,color:"#d4bbaa",opacity:0.36,shape:"cloud",blendMode:"screen"},{offsetX:24,offsetY:10,width:16,height:14,color:"#e4ccbb",opacity:0.42,shape:"ellipse",blendMode:"screen"},{offsetX:-12,offsetY:-22,width:18,height:16,rotation:0.25,color:"#cc8899",opacity:0.28,shape:"cloud",blendMode:"screen"},{offsetX:14,offsetY:18,width:20,height:18,rotation:-0.3,color:"#bb7788",opacity:0.26,shape:"cloud",blendMode:"screen"},{offsetX:-42,offsetY:-12,width:48,height:36,rotation:-0.35,color:"#663344",opacity:0.14,shape:"cloud",blendMode:"screen"},{offsetX:38,offsetY:14,width:52,height:38,rotation:0.4,color:"#774455",opacity:0.15,shape:"cloud",blendMode:"screen"}],features:[{description:"Has a dark lane bisecting the nebula",isPresent:!0,category:"structure"},{description:"Shows bright hourglass-shaped regions",isPresent:!0,category:"structure"},{description:"Contains an embedded star cluster",isPresent:!0,category:"component"},{description:"Displays pink-red emission nebulosity",isPresent:!0,category:"color"},{description:"Shows dark pillar structures",isPresent:!1,category:"structure"},{description:"Has a ring or shell structure",isPresent:!1,category:"structure"}]},{id:"horsehead_nebula",name:"Horsehead Nebula",x:1450,y:1450,width:28,height:40,rotation:Math.PI/10,observatory:"northern",layers:[{offsetX:0,offsetY:0,width:92,height:132,color:"#6b2233",opacity:0.14,shape:"cloud",blendMode:"screen"},{offsetX:-4,offsetY:-8,width:78,height:116,color:"#7a3344",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:2,offsetY:4,width:68,height:98,color:"#884455",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:-2,offsetY:0,width:56,height:82,color:"#994466",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:-4,width:48,height:70,color:"#aa5577",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:2,offsetY:12,width:42,height:38,rotation:0.08,color:"#0a0508",opacity:1,shape:"cloud",blendMode:"source-over"},{offsetX:0,offsetY:10,width:36,height:34,rotation:0.05,color:"#050305",opacity:1,shape:"cloud",blendMode:"source-over"},{offsetX:-1,offsetY:9,width:32,height:30,rotation:0.03,color:"#000000",opacity:1,shape:"cloud",blendMode:"source-over"},{offsetX:-2,offsetY:-2,width:26,height:32,rotation:-0.05,color:"#0a0508",opacity:1,shape:"cloud",blendMode:"source-over"},{offsetX:-3,offsetY:-4,width:22,height:28,rotation:-0.08,color:"#050305",opacity:1,shape:"cloud",blendMode:"source-over"},{offsetX:-5,offsetY:-13,width:20,height:22,rotation:-0.12,color:"#000000",opacity:1,shape:"cloud",blendMode:"source-over"},{offsetX:-6,offsetY:-15,width:18,height:19,rotation:-0.14,color:"#000000",opacity:1,shape:"cloud",blendMode:"source-over"},{offsetX:-11,offsetY:-17,width:16,height:15,rotation:-0.18,color:"#000000",opacity:1,shape:"ellipse",blendMode:"source-over"},{offsetX:-13,offsetY:-18,width:13,height:12,rotation:-0.2,color:"#000000",opacity:1,shape:"ellipse",blendMode:"source-over"},{offsetX:-4,offsetY:-24,width:10,height:12,rotation:-0.25,color:"#0a0508",opacity:0.98,shape:"ellipse",blendMode:"source-over"},{offsetX:-8,offsetY:-26,width:8,height:10,rotation:-0.35,color:"#050305",opacity:0.95,shape:"ellipse",blendMode:"source-over"},{offsetX:-14,offsetY:-10,width:18,height:28,rotation:-0.15,color:"#cc7766",opacity:0.18,shape:"streak",blendMode:"screen"},{offsetX:-16,offsetY:-4,width:14,height:22,rotation:-0.12,color:"#bb6655",opacity:0.16,shape:"streak",blendMode:"screen"},{offsetX:-10,offsetY:-12,width:12,height:16,rotation:-0.18,color:"#dd8877",opacity:0.14,shape:"streak",blendMode:"screen"},{offsetX:8,offsetY:20,width:36,height:42,rotation:0.25,color:"#1a0f14",opacity:0.75,shape:"cloud",blendMode:"source-over"},{offsetX:12,offsetY:24,width:28,height:34,rotation:0.3,color:"#0f0a0f",opacity:0.85,shape:"cloud",blendMode:"source-over"},{offsetX:-8,offsetY:18,width:24,height:28,rotation:-0.2,color:"#140a14",opacity:0.65,shape:"cloud",blendMode:"source-over"}],features:[{description:"Shows a horse-shaped dark cloud silhouette",isPresent:!0,category:"structure"},{description:"Has a bright ionization rim along its edge",isPresent:!0,category:"structure"},{description:"Appears as a dark absorption nebula",isPresent:!0,category:"structure"},{description:"Shows pink-red background emission",isPresent:!0,category:"color"},{description:"Contains bright star-forming pillars",isPresent:!1,category:"structure"},{description:"Has a central white dwarf",isPresent:!1,category:"component"}]},{id:"helix_nebula",name:"Helix Nebula (NGC 7293)",x:5150,y:1750,width:52,height:52,rotation:Math.PI/15,observatory:"southern",layers:[{offsetX:0,offsetY:0,width:118,height:118,color:"#5a4433",opacity:0.1,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:108,height:108,color:"#6b5544",opacity:0.13,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:100,height:100,color:"#885544",opacity:0.17,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:92,height:92,color:"#997755",opacity:0.19,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:86,height:86,color:"#aa8866",opacity:0.18,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:78,height:78,color:"#aa8866",opacity:0.22,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:72,height:72,color:"#bb9977",opacity:0.24,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:68,height:68,color:"#ccaa88",opacity:0.2,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:62,height:62,color:"#99aa99",opacity:0.26,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:58,height:58,color:"#88bb99",opacity:0.24,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:52,height:52,color:"#66aa99",opacity:0.3,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:48,height:48,color:"#77bbaa",opacity:0.32,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:44,height:44,color:"#88ccbb",opacity:0.28,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:40,height:40,color:"#99ddcc",opacity:0.34,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:28,height:28,color:"#0f1419",opacity:0.58,shape:"ellipse",blendMode:"source-over"},{offsetX:0,offsetY:0,width:22,height:22,color:"#0a0f14",opacity:0.68,shape:"ellipse",blendMode:"source-over"},{offsetX:0,offsetY:0,width:18,height:18,color:"#050a0f",opacity:0.75,shape:"ellipse",blendMode:"source-over"},{offsetX:0,offsetY:0,width:8,height:8,color:"#d4d4bb",opacity:0.68,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:5,height:5,color:"#e4e4cc",opacity:0.78,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:3,height:3,color:"#f4f4dd",opacity:0.88,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:1,height:1,color:"#ffffff",opacity:0.95,shape:"ellipse",blendMode:"screen"},{offsetX:18,offsetY:-16,width:14,height:12,rotation:0.38,color:"#88aa88",opacity:0.24,shape:"cloud",blendMode:"screen"},{offsetX:22,offsetY:-12,width:12,height:10,rotation:0.42,color:"#99bb99",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:16,offsetY:-20,width:11,height:10,rotation:0.35,color:"#779977",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:-20,offsetY:-14,width:13,height:11,rotation:-0.35,color:"#669966",opacity:0.23,shape:"cloud",blendMode:"screen"},{offsetX:-16,offsetY:-18,width:12,height:10,rotation:-0.4,color:"#77aa77",opacity:0.25,shape:"cloud",blendMode:"screen"},{offsetX:-22,offsetY:-10,width:11,height:9,rotation:-0.3,color:"#889988",opacity:0.21,shape:"cloud",blendMode:"screen"},{offsetX:20,offsetY:16,width:15,height:13,rotation:0.75,color:"#aa9977",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:16,offsetY:20,width:13,height:11,rotation:0.8,color:"#99aa88",opacity:0.24,shape:"cloud",blendMode:"screen"},{offsetX:22,offsetY:12,width:12,height:10,rotation:0.7,color:"#88bb99",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:-18,offsetY:18,width:14,height:12,rotation:-0.72,color:"#779988",opacity:0.25,shape:"cloud",blendMode:"screen"},{offsetX:-22,offsetY:14,width:12,height:11,rotation:-0.68,color:"#88aa99",opacity:0.23,shape:"cloud",blendMode:"screen"},{offsetX:-16,offsetY:22,width:13,height:10,rotation:-0.78,color:"#668877",opacity:0.21,shape:"cloud",blendMode:"screen"},{offsetX:12,offsetY:-10,width:10,height:9,rotation:0.5,color:"#99ccbb",opacity:0.26,shape:"cloud",blendMode:"screen"},{offsetX:-12,offsetY:10,width:11,height:9,rotation:-0.55,color:"#88bbaa",opacity:0.27,shape:"cloud",blendMode:"screen"},{offsetX:10,offsetY:12,width:9,height:8,rotation:0.9,color:"#77aa99",opacity:0.24,shape:"cloud",blendMode:"screen"},{offsetX:-10,offsetY:-12,width:10,height:8,rotation:-0.85,color:"#88cc99",opacity:0.25,shape:"cloud",blendMode:"screen"}],features:[{description:"Has a ring or shell structure",isPresent:!0,category:"structure"},{description:"Shows a central white dwarf star",isPresent:!0,category:"component"},{description:"Displays cometary knots texture throughout",isPresent:!0,category:"structure"},{description:"Shows blue-green inner ring emission",isPresent:!0,category:"color"},{description:"Has a horse-shaped silhouette",isPresent:!1,category:"structure"},{description:"Contains dark pillar structures",isPresent:!1,category:"structure"}]}];function b1(s){return H.filter((i)=>i.observatory===s)}var X=[{id:"pleiades",name:"The Pleiades (M45)",x:950,y:1150,starCount:50,radius:48,color:"#A0C0FF",observatory:"northern"},{id:"hyades",name:"Hyades",x:1100,y:1300,starCount:40,radius:60,color:"#FFD0A0",observatory:"northern"},{id:"beehive",name:"Beehive Cluster (M44)",x:2100,y:1400,starCount:60,radius:42,color:"#FFFFFF",observatory:"northern"},{id:"double_cluster",name:"Double Cluster (NGC 869/884)",x:650,y:950,starCount:70,radius:36,color:"#B0D0FF",observatory:"northern"},{id:"jewel_box",name:"Jewel Box (NGC 4755)",x:3300,y:2100,starCount:50,radius:30,color:"#FFA0C0",observatory:"southern"},{id:"47_tucanae",name:"47 Tucanae (NGC 104)",x:550,y:2300,starCount:120,radius:54,color:"#FFFFB0",observatory:"southern"},{id:"omega_centauri",name:"Omega Centauri (NGC 5139)",x:3500,y:2000,starCount:150,radius:66,color:"#FFFFE0",observatory:"southern"}];function d1(s){return X.filter((i)=>i.observatory===s)}var j=[{id:"andromeda",name:"Andromeda Galaxy (M31)",x:200,y:1100,width:54,height:36,rotation:Math.PI/8,galaxyType:"spiral",observatory:"northern",layers:[{offsetX:0,offsetY:0,width:130,height:88,rotation:0.3,color:"#443344",opacity:0.07,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:115,height:78,rotation:0.3,color:"#554455",opacity:0.09,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:102,height:70,rotation:0.3,color:"#665566",opacity:0.11,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:94,height:54,rotation:0.3,color:"#887788",opacity:0.16,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:86,height:50,rotation:0.3,color:"#998899",opacity:0.18,shape:"ellipse",blendMode:"screen"},{offsetX:-28,offsetY:-14,width:68,height:26,rotation:-0.35,color:"#7788aa",opacity:0.17,shape:"cloud",blendMode:"screen"},{offsetX:-32,offsetY:-12,width:58,height:22,rotation:-0.42,color:"#8899bb",opacity:0.19,shape:"cloud",blendMode:"screen"},{offsetX:-36,offsetY:-10,width:48,height:18,rotation:-0.48,color:"#99aacc",opacity:0.15,shape:"cloud",blendMode:"screen"},{offsetX:25,offsetY:11,width:64,height:24,rotation:0.48,color:"#6677aa",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:29,offsetY:13,width:54,height:20,rotation:0.55,color:"#7788bb",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:33,offsetY:15,width:44,height:16,rotation:0.62,color:"#8899cc",opacity:0.16,shape:"cloud",blendMode:"screen"},{offsetX:-26,offsetY:-10,width:11,height:9,rotation:-0.4,color:"#aaccee",opacity:0.24,shape:"cloud",blendMode:"screen"},{offsetX:24,offsetY:10,width:10,height:8,rotation:0.5,color:"#99bbdd",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:78,height:46,rotation:0.3,color:"#aa99aa",opacity:0.22,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:70,height:41,rotation:0.3,color:"#bbaaaa",opacity:0.24,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:62,height:37,rotation:0.3,color:"#ccbbaa",opacity:0.26,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:52,height:31,rotation:0.3,color:"#ccbbaa",opacity:0.28,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:44,height:26,rotation:0.3,color:"#d4ccbb",opacity:0.3,shape:"ellipse",blendMode:"screen"},{offsetX:-16,offsetY:-6,width:42,height:10,rotation:0.25,color:"#0f0a0f",opacity:0.38,shape:"streak",blendMode:"source-over"},{offsetX:-14,offsetY:-5,width:36,height:8,rotation:0.22,color:"#1a1419",opacity:0.32,shape:"streak",blendMode:"source-over"},{offsetX:18,offsetY:4,width:38,height:9,rotation:0.38,color:"#140a14",opacity:0.35,shape:"streak",blendMode:"source-over"},{offsetX:16,offsetY:3,width:32,height:7,rotation:0.42,color:"#1a1419",opacity:0.28,shape:"streak",blendMode:"source-over"},{offsetX:0,offsetY:0,width:34,height:20,rotation:0.3,color:"#d4ccbb",opacity:0.34,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:27,height:16,rotation:0.3,color:"#e4d4bb",opacity:0.38,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:21,height:13,rotation:0.3,color:"#f4e4cc",opacity:0.44,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:15,height:10,rotation:0.3,color:"#ffffdd",opacity:0.52,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:10,height:7,rotation:0.3,color:"#ffffee",opacity:0.62,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:6,height:4,rotation:0.3,color:"#ffffff",opacity:0.72,shape:"ellipse",blendMode:"screen"},{offsetX:24,offsetY:14,width:11,height:10,color:"#998899",opacity:0.22,shape:"ellipse",blendMode:"screen"},{offsetX:24,offsetY:14,width:7,height:7,color:"#bbaaaa",opacity:0.28,shape:"ellipse",blendMode:"screen"},{offsetX:24,offsetY:14,width:4,height:4,color:"#d4ccbb",opacity:0.36,shape:"ellipse",blendMode:"screen"},{offsetX:-42,offsetY:-16,width:14,height:11,color:"#887788",opacity:0.18,shape:"ellipse",blendMode:"screen"},{offsetX:-42,offsetY:-16,width:9,height:7,color:"#aa99aa",opacity:0.24,shape:"ellipse",blendMode:"screen"},{offsetX:-42,offsetY:-16,width:5,height:4,color:"#ccbbaa",opacity:0.32,shape:"ellipse",blendMode:"screen"}],features:[{description:"Has visible spiral arms",isPresent:!0,category:"structure"},{description:"Shows prominent dust lanes",isPresent:!0,category:"structure"},{description:"Has companion galaxies visible (M32, M110)",isPresent:!0,category:"component"},{description:"Displays a large central bulge",isPresent:!0,category:"structure"},{description:"Has an edge-on orientation",isPresent:!1,category:"morphology"},{description:"Shows a central bar structure",isPresent:!1,category:"structure"}]},{id:"whirlpool",name:"Whirlpool Galaxy (M51)",x:3200,y:1150,width:33,height:33,rotation:0,galaxyType:"spiral",observatory:"northern",layers:[{offsetX:0,offsetY:0,width:76,height:76,color:"#443355",opacity:0.08,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:68,height:68,color:"#554466",opacity:0.11,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:58,height:58,color:"#776688",opacity:0.15,shape:"ellipse",blendMode:"screen"},{offsetX:-6,offsetY:-16,width:32,height:13,rotation:-0.65,color:"#6677aa",opacity:0.18,shape:"cloud",blendMode:"screen"},{offsetX:4,offsetY:-18,width:28,height:11,rotation:-0.3,color:"#7788bb",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:12,offsetY:-12,width:36,height:14,rotation:0.15,color:"#7788bb",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:18,offsetY:-2,width:32,height:13,rotation:0.65,color:"#8899cc",opacity:0.21,shape:"cloud",blendMode:"screen"},{offsetX:16,offsetY:8,width:28,height:12,rotation:1.15,color:"#8899bb",opacity:0.2,shape:"cloud",blendMode:"screen"},{offsetX:6,offsetY:16,width:24,height:11,rotation:1.65,color:"#7788aa",opacity:0.19,shape:"cloud",blendMode:"screen"},{offsetX:-4,offsetY:18,width:30,height:12,rotation:2.05,color:"#6677aa",opacity:0.19,shape:"cloud",blendMode:"screen"},{offsetX:-14,offsetY:14,width:28,height:11,rotation:2.4,color:"#7788bb",opacity:0.21,shape:"cloud",blendMode:"screen"},{offsetX:-18,offsetY:4,width:34,height:13,rotation:-2.85,color:"#7788bb",opacity:0.23,shape:"cloud",blendMode:"screen"},{offsetX:-16,offsetY:-8,width:30,height:12,rotation:-2.35,color:"#8899cc",opacity:0.22,shape:"cloud",blendMode:"screen"},{offsetX:-8,offsetY:-14,width:26,height:11,rotation:-1.85,color:"#8899bb",opacity:0.21,shape:"cloud",blendMode:"screen"},{offsetX:14,offsetY:-10,width:10,height:9,rotation:0.4,color:"#99ccee",opacity:0.28,shape:"cloud",blendMode:"screen"},{offsetX:18,offsetY:2,width:9,height:8,rotation:0.8,color:"#aaddff",opacity:0.32,shape:"cloud",blendMode:"screen"},{offsetX:12,offsetY:12,width:8,height:8,rotation:1.3,color:"#88bbdd",opacity:0.26,shape:"cloud",blendMode:"screen"},{offsetX:-12,offsetY:14,width:9,height:8,rotation:2.3,color:"#99ccee",opacity:0.3,shape:"cloud",blendMode:"screen"},{offsetX:-18,offsetY:2,width:10,height:9,rotation:-2.7,color:"#aaddff",opacity:0.29,shape:"cloud",blendMode:"screen"},{offsetX:-14,offsetY:-10,width:8,height:7,rotation:-2,color:"#88bbdd",opacity:0.27,shape:"cloud",blendMode:"screen"},{offsetX:0,offsetY:0,width:32,height:32,color:"#aa9988",opacity:0.24,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:26,height:26,color:"#bbaa99",opacity:0.27,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:22,height:22,color:"#ccbbaa",opacity:0.3,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:17,height:17,color:"#d4ccbb",opacity:0.36,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:13,height:13,color:"#e4d4bb",opacity:0.42,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:9,height:9,color:"#f4e4cc",opacity:0.5,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:6,height:6,color:"#ffffee",opacity:0.6,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:3,height:3,color:"#ffffff",opacity:0.7,shape:"ellipse",blendMode:"screen"},{offsetX:27,offsetY:22,width:19,height:17,rotation:0.3,color:"#887788",opacity:0.18,shape:"ellipse",blendMode:"screen"},{offsetX:27,offsetY:22,width:14,height:13,rotation:0.3,color:"#998899",opacity:0.23,shape:"ellipse",blendMode:"screen"},{offsetX:27,offsetY:22,width:10,height:9,rotation:0.3,color:"#bbaaaa",opacity:0.28,shape:"ellipse",blendMode:"screen"},{offsetX:27,offsetY:22,width:6,height:6,rotation:0.3,color:"#d4ccbb",opacity:0.36,shape:"ellipse",blendMode:"screen"},{offsetX:27,offsetY:22,width:3,height:3,rotation:0.3,color:"#e4ddcc",opacity:0.48,shape:"ellipse",blendMode:"screen"},{offsetX:14,offsetY:11,width:20,height:16,rotation:0.75,color:"#665577",opacity:0.13,shape:"cloud",blendMode:"screen"},{offsetX:18,offsetY:14,width:16,height:13,rotation:0.8,color:"#776688",opacity:0.15,shape:"cloud",blendMode:"screen"},{offsetX:21,offsetY:16,width:14,height:11,rotation:0.9,color:"#8899aa",opacity:0.17,shape:"cloud",blendMode:"screen"}],features:[{description:"Has visible spiral arms",isPresent:!0,category:"structure"},{description:"Shows blue star-forming regions in the arms",isPresent:!0,category:"structure"},{description:"Has a companion galaxy in tidal interaction (NGC 5195)",isPresent:!0,category:"component"},{description:"Displays a face-on orientation",isPresent:!0,category:"morphology"},{description:"Has an edge-on orientation",isPresent:!1,category:"morphology"},{description:"Shows a prominent dust lane",isPresent:!1,category:"structure"}]},{id:"sombrero",name:"Sombrero Galaxy (M104)",x:3100,y:1600,width:42,height:15,rotation:Math.PI/20,galaxyType:"spiral",observatory:"southern",layers:[{offsetX:0,offsetY:0,width:96,height:48,rotation:0,color:"#443344",opacity:0.08,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:88,height:42,rotation:0,color:"#554455",opacity:0.11,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:82,height:32,rotation:0,color:"#776677",opacity:0.16,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:76,height:28,rotation:0,color:"#887788",opacity:0.18,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:70,height:24,rotation:0,color:"#998899",opacity:0.22,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:66,height:22,rotation:0,color:"#aa99aa",opacity:0.24,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:62,height:20,rotation:0,color:"#bbaaaa",opacity:0.26,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:-5,width:64,height:10,rotation:0,color:"#bbaaaa",opacity:0.2,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:-6,width:58,height:8,rotation:0,color:"#ccbbbb",opacity:0.22,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:5,width:64,height:10,rotation:0,color:"#bbaaaa",opacity:0.2,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:6,width:58,height:8,rotation:0,color:"#ccbbbb",opacity:0.22,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:76,height:8,rotation:0,color:"#0a0508",opacity:0.88,shape:"streak",blendMode:"source-over"},{offsetX:0,offsetY:0,width:70,height:6,rotation:0,color:"#050305",opacity:0.94,shape:"streak",blendMode:"source-over"},{offsetX:0,offsetY:0,width:64,height:5,rotation:0,color:"#000000",opacity:1,shape:"streak",blendMode:"source-over"},{offsetX:0,offsetY:-1,width:58,height:4,rotation:0,color:"#0f0a0f",opacity:0.75,shape:"streak",blendMode:"source-over"},{offsetX:0,offsetY:1,width:58,height:4,rotation:0,color:"#0f0a0f",opacity:0.75,shape:"streak",blendMode:"source-over"},{offsetX:0,offsetY:0,width:34,height:32,rotation:0,color:"#bbaa99",opacity:0.28,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:30,height:28,rotation:0,color:"#ccbbaa",opacity:0.32,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:26,height:24,rotation:0,color:"#d4ccbb",opacity:0.36,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:22,height:21,rotation:0,color:"#e4d4bb",opacity:0.42,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:18,height:17,rotation:0,color:"#f4e4cc",opacity:0.48,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:14,height:14,rotation:0,color:"#ffffdd",opacity:0.56,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:10,height:11,rotation:0,color:"#ffffee",opacity:0.64,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:7,height:8,rotation:0,color:"#ffffff",opacity:0.72,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:4,height:5,rotation:0,color:"#ffffff",opacity:0.82,shape:"ellipse",blendMode:"screen"},{offsetX:0,offsetY:0,width:2,height:2,rotation:0,color:"#ffffff",opacity:0.92,shape:"ellipse",blendMode:"screen"},{offsetX:-8,offsetY:0,width:12,height:18,rotation:0,color:"#d4ccbb",opacity:0.16,shape:"ellipse",blendMode:"screen"},{offsetX:8,offsetY:0,width:12,height:18,rotation:0,color:"#d4ccbb",opacity:0.16,shape:"ellipse",blendMode:"screen"}],features:[{description:"Has a prominent dust lane bisecting the disk",isPresent:!0,category:"structure"},{description:"Shows a large central bulge",isPresent:!0,category:"structure"},{description:"Has an edge-on orientation",isPresent:!0,category:"morphology"},{description:"Displays a thin extended disk",isPresent:!0,category:"structure"},{description:"Has visible spiral arms",isPresent:!1,category:"structure"},{description:"Shows a face-on orientation",isPresent:!1,category:"morphology"}]}];function y1(s){return j.filter((i)=>i.observatory===s)}class l{listElement;countElement;progressCountElement;progressFillElement;discoveries=[];totalItems=0;currentObservatory;setSections=new Map;RING_CIRCUMFERENCE=97.4;constructor(s="northern"){this.listElement=document.getElementById("discoveries-list"),this.countElement=document.querySelector(".discovery-count"),this.progressCountElement=document.querySelector(".progress-count"),this.progressFillElement=document.querySelector(".progress-fill"),this.currentObservatory=s,this.calculateTotalItems(),this.updateCount()}calculateTotalItems(){let s=f(this.currentObservatory).length,i=H.length,r=X.length,n=j.length;this.totalItems=s+i+r+n}setObservatory(s){if(this.currentObservatory=s,this.calculateTotalItems(),this.discoveries=[],this.setSections.clear(),this.listElement)this.listElement.innerHTML="";this.updateCount()}addDiscovery(s){if(this.discoveries.some((r)=>r.id===s.id))return;this.discoveries.push(s),this.updateCount(),this.addCardToSet(s);let i=document.getElementById("discoveries-toggle");if(i)i.classList.add("pulse"),setTimeout(()=>i.classList.remove("pulse"),500)}updateCount(){let s=this.discoveries.length;if(this.countElement)this.countElement.textContent=`${s}/${this.totalItems}`;if(this.progressCountElement)this.progressCountElement.textContent=String(s);if(this.progressFillElement){let i=this.totalItems>0?s/this.totalItems:0,r=this.RING_CIRCUMFERENCE*(1-i);this.progressFillElement.style.strokeDashoffset=String(r)}}getSetSection(s,i){let r=this.listElement;if(!r)throw Error("Discoveries list element not found");let n=s||"misc",e="Other Constellations",b="";if(i==="nebula")n="nebulae",e="Nebulae";else if(i==="cluster")n="clusters",e="Star Clusters";else if(i==="galaxy")n="galaxies",e="Galaxies";else if(s&&Y[s]){let u=Y[s];if(e=u.name,u.upgradeName)b=`<span class="set-upgrade-hint">${u.upgradeName}</span>`}if(this.setSections.has(n))return this.setSections.get(n);let h=document.createElement("div");h.className="discovery-set-section",h.dataset.set=n;let d=document.createElement("div");d.className="discovery-set-header",d.innerHTML=`
        <div class="set-title-row">
          <h4>${e}</h4>
          ${b}
        </div>
        <div class="set-progress-text">0 discovered</div>
    `,h.appendChild(d);let y=document.createElement("div");return y.className="discovery-set-grid",h.appendChild(y),r.appendChild(h),this.setSections.set(n,h),h}updateSetProgress(s,i,r){let n=0,e=0,b=!1;if(r==="constellation"&&s&&Y[s])n=this.discoveries.filter((d)=>d.set===s).length,e=f(this.currentObservatory).filter((d)=>d.set===s).length,b=!0;else if(r==="nebula")n=this.discoveries.filter((d)=>("layers"in d)&&!("galaxyType"in d)).length,e=H.length;else if(r==="cluster")n=this.discoveries.filter((d)=>("starCount"in d)).length,e=X.length;else if(r==="galaxy")n=this.discoveries.filter((d)=>("galaxyType"in d)).length,e=j.length;else return;let h=i.querySelector(".set-progress-text");if(h){if(h.textContent=`${n} / ${e} discovered`,n===e&&e>0)h.classList.add("completed"),h.textContent=b?"✦ Set Complete ✦":"✦ All Found ✦",i.classList.add("set-completed")}}addCardToSet(s){if(!this.listElement)return;let i="constellation",r=void 0,n="";if("connections"in s)i="constellation",r=s.set,n=s.latinName||"";else if("galaxyType"in s){i="galaxy";let y=s;n=`${y.galaxyType.charAt(0).toUpperCase()+y.galaxyType.slice(1)} Galaxy`}else if("layers"in s)i="nebula",n="Nebula";else if("starCount"in s)i="cluster",n="Star Cluster";let e=this.getSetSection(r,i),b=e.querySelector(".discovery-set-grid");if(!b)return;let h=document.createElement("div");h.className="discovery-card";let d=this.generateIcon(s);h.innerHTML=`
      <div class="discovery-icon">
        ${d}
      </div>
      <div class="discovery-info">
        <h3>${s.name}</h3>
        <p>${n}</p>
      </div>
    `,h.style.opacity="0",h.style.transform="translateY(-20px) rotate(-0.3deg)",b.prepend(h),this.updateSetProgress(r||"",e,i),requestAnimationFrame(()=>{h.style.transition="all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)",h.style.opacity="1",h.style.transform="translateY(0) rotate(-0.3deg)"})}generateIcon(s){if("connections"in s)return this.generateConstellationSVG(s);else if("galaxyType"in s)return this.generateGalaxySVG(s);else if("layers"in s)return this.generateNebulaSVG(s);else return this.generateClusterSVG(s)}generateNebulaSVG(s){let i=s.layers[0],r=s.layers[1]||i,n=i?i.color:"#8866aa",e=r?r.color:"#aabbcc";return`<svg viewBox="0 0 100 100" class="miniature">
        <filter id="blur-${s.id}">
           <feGaussianBlur in="SourceGraphic" stdDeviation="5" />
        </filter>
        <circle cx="50" cy="50" r="40" fill="${n}" filter="url(#blur-${s.id})" opacity="0.6" />
        <circle cx="50" cy="50" r="25" fill="${e}" filter="url(#blur-${s.id})" opacity="0.8" />
      </svg>`}generateClusterSVG(s){let i="";for(let r=0;r<8;r++){let n=r/8*Math.PI*2,e=20+r%3*5,b=50+Math.cos(n)*e,h=50+Math.sin(n)*e;i+=`<circle cx="${b}" cy="${h}" r="${2+r%2}" fill="#3d2e24" opacity="0.8" />`}return i+=`<circle cx="50" cy="50" r="40" fill="${s.color}" opacity="0.15" />`,i+='<circle cx="50" cy="50" r="5" fill="#3d2e24" />',`<svg viewBox="0 0 100 100" class="miniature">
         ${i}
      </svg>`}generateConstellationSVG(s){let i=Math.min(...s.stars.map((g)=>g.x)),r=Math.max(...s.stars.map((g)=>g.x)),n=Math.min(...s.stars.map((g)=>g.y)),e=Math.max(...s.stars.map((g)=>g.y)),b=50,h=r-i+100,d=e-n+100,y=(g)=>(g-i+50)/h*100,u=(g)=>(g-n+50)/d*100,o='<svg viewBox="0 0 100 100" class="constellation-miniature">';return s.connections.forEach(([g,t])=>{let T=s.stars[g],q=s.stars[t];if(T&&q)o+=`<line
          x1="${y(T.x)}" y1="${u(T.y)}"
          x2="${y(q.x)}" y2="${u(q.y)}"
          stroke="#3d2e24"
          stroke-width="1.5"
          stroke-linecap="round"
          opacity="0.5" />`}),s.stars.forEach((g)=>{let t=y(g.x),T=u(g.y),q=2.5+g.brightness*1.5;o+=`<circle cx="${t}" cy="${T}" r="${q}" fill="#1a1410" />`}),o+="</svg>",o}generateGalaxySVG(s){let i='<svg viewBox="0 0 100 100" class="miniature">';if(i+=`<defs>
      <radialGradient id="galaxy-grad-${s.id}" cx="50%" cy="50%" r="50%">
        <stop offset="0%" style="stop-color:#c4c4bb;stop-opacity:0.8" />
        <stop offset="40%" style="stop-color:#998899;stop-opacity:0.5" />
        <stop offset="100%" style="stop-color:#554455;stop-opacity:0" />
      </radialGradient>
    </defs>`,s.galaxyType==="spiral")i+=`<ellipse cx="50" cy="50" rx="45" ry="35" fill="url(#galaxy-grad-${s.id})" opacity="0.5" />`,i+=`<ellipse cx="50" cy="50" rx="30" ry="23" fill="url(#galaxy-grad-${s.id})" opacity="0.6" />`,i+='<ellipse cx="50" cy="50" rx="12" ry="10" fill="#d4ccbb" opacity="0.8" />',i+='<ellipse cx="50" cy="50" rx="6" ry="5" fill="#f4e4cc" opacity="0.9" />';else if(s.galaxyType==="elliptical")i+=`<ellipse cx="50" cy="50" rx="40" ry="40" fill="url(#galaxy-grad-${s.id})" opacity="0.6" />`,i+='<ellipse cx="50" cy="50" rx="25" ry="25" fill="#ccbbaa" opacity="0.7" />',i+='<ellipse cx="50" cy="50" rx="12" ry="12" fill="#e4d4bb" opacity="0.8" />';else i+=`<ellipse cx="50" cy="50" rx="35" ry="28" fill="url(#galaxy-grad-${s.id})" opacity="0.5" transform="rotate(15 50 50)" />`,i+='<ellipse cx="45" cy="55" rx="20" ry="18" fill="#998899" opacity="0.6" />',i+='<ellipse cx="55" cy="45" rx="15" ry="12" fill="#bbaaaa" opacity="0.5" />';return i+="</svg>",i}getDiscoveries(){return this.discoveries}}class w{activeModal=null;backdrop;container;constructor(){let s=document.getElementById("modal-backdrop");if(!s)s=document.createElement("div"),s.id="modal-backdrop",s.className="hidden",document.body.appendChild(s);this.backdrop=s;let i=document.getElementById("modal-container");if(!i)i=document.createElement("div"),i.id="modal-container",document.body.appendChild(i);this.container=i,this.backdrop.addEventListener("click",()=>this.hide())}show(s){if(this.activeModal)this.hide();this.activeModal=s,this.container.appendChild(s),this.backdrop.classList.remove("hidden"),requestAnimationFrame(()=>{this.backdrop.classList.add("active"),s.classList.add("active")})}hide(s){if(!this.activeModal){s?.();return}if(this.backdrop.classList.remove("active"),this.activeModal)this.activeModal.classList.remove("active");setTimeout(()=>{if(this.activeModal)this.container.removeChild(this.activeModal),this.activeModal=null;this.backdrop.classList.add("hidden"),s?.()},300)}isModalActive(){return this.activeModal!==null}}class c{constellation;data;canvas;ctx;modalElement;targetStars;clickedStars;decoyStars=[];onComplete;phase="study";studyTimeRemaining;studyTimer=null;bounds;scale=1;offsetX=0;offsetY=0;animationFrameId=null;animationStartTime=0;animatingConnections=new Map;audioManager;constructor(s,i,r){this.constellation=s,this.data=s.getData(),this.onComplete=i,this.audioManager=r,this.studyTimeRemaining=this.calculateStudyTime(),this.targetStars=new Set;for(let e=0;e<this.data.stars.length;e++)this.targetStars.add(e);this.clickedStars=new Set,this.modalElement=this.createModalElement(),this.canvas=this.modalElement.querySelector("canvas");let n=this.canvas.getContext("2d");if(!n)throw Error("Could not get 2D context");this.ctx=n,this.calculateBounds(),this.generateDecoyStars(),this.startStudyPhase()}createModalElement(){let s=document.createElement("div");return s.className="pattern-match-modal",s.innerHTML=`
      <div class="modal-frame">
        <div class="frame-corner tl"></div>
        <div class="frame-corner tr"></div>
        <div class="frame-corner bl"></div>
        <div class="frame-corner br"></div>

        <div class="modal-content">
          <div class="modal-header">
            <div class="header-line"></div>
            <h3 class="modal-title"></h3>
            <div class="header-line"></div>
          </div>

          <p class="modal-instruction"></p>

          <div class="countdown-container">
            <div class="hourglass">
              <div class="hourglass-top"></div>
              <div class="hourglass-bottom"></div>
              <div class="sand"></div>
            </div>
            <span class="countdown-text"></span>
          </div>

          <canvas width="600" height="300"></canvas>

          <div class="progress-container hidden">
            <div class="progress-text"></div>
          </div>
        </div>
      </div>
    `,s}calculateStudyTime(){let s=this.data.stars.length;return Math.max(5,5+(s-10)*0.3)}getConnectionKey(s,i){return s<i?`${s}-${i}`:`${i}-${s}`}calculateBounds(){let s=1/0,i=-1/0,r=1/0,n=-1/0;for(let y of this.data.stars)s=Math.min(s,y.x),i=Math.max(i,y.x),r=Math.min(r,y.y),n=Math.max(n,y.y);let e=i-s,b=n-r;this.bounds={minX:s,maxX:i,minY:r,maxY:n,width:e,height:b};let h=this.canvas.width*0.8,d=this.canvas.height*0.8;this.scale=Math.min(h/e,d/b),this.offsetX=(this.canvas.width-e*this.scale)/2,this.offsetY=(this.canvas.height-b*this.scale)/2}worldToCanvas(s,i){return{x:(s-this.bounds.minX)*this.scale+this.offsetX,y:(i-this.bounds.minY)*this.scale+this.offsetY}}generateDecoyStars(){let s=this.targetStars.size,i=Math.floor(s*2.5),r=50,n=50,e=this.canvas.width-50,b=50,h=this.canvas.height-50,d=25;for(let y=0;y<i;y++){let u=0,o=!1,g=0,t=0;while(!o&&u<50){g=50+Math.random()*(e-50),t=50+Math.random()*(h-50),o=!0;for(let T of this.data.stars){let q=this.worldToCanvas(T.x,T.y),N=g-q.x,A=t-q.y;if(Math.sqrt(N*N+A*A)<25){o=!1;break}}u++}if(o)this.decoyStars.push({x:g,y:t})}}startStudyPhase(){this.phase="study",this.updateInstructions(),this.renderStudyPhase(),this.modalElement.querySelector(".modal-content").classList.add("phase-study"),this.studyTimer=window.setInterval(()=>{this.studyTimeRemaining-=0.1,this.updateCountdown();let i=this.modalElement.querySelector(".countdown-container");if(this.studyTimeRemaining<=2&&this.studyTimeRemaining>0)i.classList.add("urgent");if(this.studyTimeRemaining<=0)this.startChallengePhase()},100)}startAnimationLoop(){this.animationStartTime=performance.now();let s=()=>{this.renderChallengePhase(),this.animationFrameId=requestAnimationFrame(s)};this.animationFrameId=requestAnimationFrame(s)}startChallengePhase(){if(this.studyTimer)clearInterval(this.studyTimer),this.studyTimer=null;let s=this.modalElement.querySelector(".modal-content");s.classList.add("phase-transitioning"),setTimeout(()=>{this.phase="challenge",this.updateInstructions(),this.renderChallengePhase(),s.classList.remove("phase-study","phase-transitioning"),s.classList.add("phase-challenge"),this.canvas.addEventListener("click",this.handleClick.bind(this)),this.startAnimationLoop()},350)}updateInstructions(){let s=this.modalElement.querySelector(".modal-title"),i=this.modalElement.querySelector(".modal-instruction");if(this.phase==="study")s.textContent=this.data.name,i.textContent="Study this pattern carefully...";else s.textContent="Reconstruct the Pattern",i.textContent="Click the stars to reconstruct the constellation",this.modalElement.querySelector(".countdown-container").classList.add("hidden"),this.modalElement.querySelector(".progress-container").classList.remove("hidden"),this.updateProgress()}updateCountdown(){let s=this.modalElement.querySelector(".countdown-text");s.textContent=`${Math.ceil(this.studyTimeRemaining)}s`;let i=1-this.studyTimeRemaining/5,r=this.modalElement.querySelector(".sand");if(r)r.style.setProperty("--progress",i.toString())}updateProgress(){let s=this.modalElement.querySelector(".progress-text"),i=this.clickedStars.size,r=this.targetStars.size,n=i/r*100;s.textContent=`${i} of ${r} stars identified`;let e=this.modalElement.querySelector(".progress-container");if(e)e.style.setProperty("--progress-percent",`${n}%`)}handleClick(s){let i=this.canvas.getBoundingClientRect(),r=s.clientX-i.left,n=s.clientY-i.top,e=15,b=!1;for(let h=0;h<this.data.stars.length;h++){if(this.clickedStars.has(h))continue;let d=this.data.stars[h],y=this.worldToCanvas(d.x,d.y),u=r-y.x,o=n-y.y;if(Math.sqrt(u*u+o*o)<15){this.clickedStars.add(h),this.onStarClicked(h,!0),b=!0;break}}if(!b)this.onStarClicked(-1,!1)}onStarClicked(s,i){if(i){if(this.audioManager){let r=this.clickedStars.size%5;this.audioManager.playStarConnectionSound(r,5)}this.canvas.classList.add("star-clicked"),setTimeout(()=>{this.canvas.classList.remove("star-clicked")},300);for(let[r,n]of this.data.connections)if((r===s||n===s)&&this.clickedStars.has(r)&&this.clickedStars.has(n)){let e=this.getConnectionKey(r,n);if(!this.animatingConnections.has(e))this.animatingConnections.set(e,0)}if(this.updateProgress(),this.checkComplete())this.completeChallenge()}else{if(this.audioManager)this.playErrorTone();this.flashIncorrect()}}playErrorTone(){if(!this.audioManager||!this.audioManager.audioContext)return;let s=this.audioManager.audioContext,i=this.audioManager.masterGain;if(!s||!i)return;let r=s.currentTime,n=s.createOscillator(),e=s.createGain();n.type="sine",n.frequency.value=150,e.gain.setValueAtTime(0,r),e.gain.linearRampToValueAtTime(0.03,r+0.01),e.gain.exponentialRampToValueAtTime(0.001,r+0.15),n.connect(e),e.connect(i),n.start(r),n.stop(r+0.15)}flashIncorrect(){this.canvas.style.filter="brightness(1.3) sepia(0.3)",setTimeout(()=>{this.canvas.style.filter="none"},150)}checkComplete(){return this.clickedStars.size===this.targetStars.size}completeChallenge(){let s=this.modalElement.querySelector(".modal-instruction");s.textContent="Pattern Complete!",s.classList.add("pattern-complete"),setTimeout(()=>{this.onComplete()},1500)}renderStudyPhase(){let s=this.ctx;s.clearRect(0,0,this.canvas.width,this.canvas.height),s.save(),s.strokeStyle="rgba(212, 168, 75, 0.8)",s.lineWidth=2,s.shadowColor="rgba(212, 168, 75, 0.5)",s.shadowBlur=8;for(let[i,r]of this.data.connections){let n=this.data.stars[i],e=this.data.stars[r],b=this.worldToCanvas(n.x,n.y),h=this.worldToCanvas(e.x,e.y);s.beginPath(),s.moveTo(b.x,b.y),s.lineTo(h.x,h.y),s.stroke()}for(let i of this.data.stars){let r=3+i.brightness*2,n=this.worldToCanvas(i.x,i.y);s.shadowColor="rgba(255, 255, 255, 0.8)",s.shadowBlur=12,s.fillStyle="#ffffff",s.beginPath(),s.arc(n.x,n.y,r,0,Math.PI*2),s.fill()}s.restore()}renderChallengePhase(){let s=this.ctx;s.clearRect(0,0,this.canvas.width,this.canvas.height),s.save();let i=performance.now()-this.animationStartTime,r=Math.sin(i/1000)*0.15+0.85;for(let[n,e]of this.data.connections)if(this.clickedStars.has(n)&&this.clickedStars.has(e)){let b=this.getConnectionKey(n,e),h=this.data.stars[n],d=this.data.stars[e],y=this.worldToCanvas(h.x,h.y),u=this.worldToCanvas(d.x,d.y),o=this.animatingConnections.get(b);if(o!==void 0&&o<1){o=Math.min(1,o+0.05),this.animatingConnections.set(b,o),s.strokeStyle="rgba(212, 168, 75, 0.9)",s.lineWidth=3,s.shadowColor="rgba(212, 168, 75, 0.8)",s.shadowBlur=12;let g=u.x-y.x,t=u.y-y.y;s.beginPath(),s.moveTo(y.x,y.y),s.lineTo(y.x+g*o,y.y+t*o),s.stroke()}else s.strokeStyle="rgba(212, 168, 75, 0.6)",s.lineWidth=2,s.shadowColor="rgba(212, 168, 75, 0.4)",s.shadowBlur=8,s.beginPath(),s.moveTo(y.x,y.y),s.lineTo(u.x,u.y),s.stroke()}s.shadowBlur=0,s.fillStyle="rgba(200, 200, 200, 0.3)";for(let n of this.decoyStars)s.beginPath(),s.arc(n.x,n.y,2,0,Math.PI*2),s.fill();for(let n=0;n<this.data.stars.length;n++){let e=this.data.stars[n],b=this.clickedStars.has(n),h=this.worldToCanvas(e.x,e.y);if(b){let d=3+e.brightness*2;s.shadowColor="rgba(255, 255, 255, 0.8)",s.shadowBlur=12,s.fillStyle="#ffffff",s.beginPath(),s.arc(h.x,h.y,d,0,Math.PI*2),s.fill()}else{let y=2.5*r,u=0.5*r;s.shadowBlur=0,s.fillStyle=`rgba(200, 200, 200, ${u})`,s.beginPath(),s.arc(h.x,h.y,y,0,Math.PI*2),s.fill()}}s.restore()}render(){return this.modalElement}destroy(){if(this.studyTimer)clearInterval(this.studyTimer);if(this.animationFrameId)cancelAnimationFrame(this.animationFrameId)}}class C{celestialObject;onComplete;audioManager;canvas;ctx;modalElement;phase="study";studyTimeRemaining;studyTimeDuration;studyTimer=null;constructor(s,i,r=5,n){this.celestialObject=s,this.onComplete=i,this.studyTimeDuration=r,this.studyTimeRemaining=r,this.audioManager=n,this.modalElement=this.createModalElement(),this.canvas=this.modalElement.querySelector("canvas");let e=this.canvas.getContext("2d");if(!e)throw Error("Could not get 2D context");this.ctx=e,this.startStudyPhase()}createModalElement(){let s=document.createElement("div");return s.className="dso-modal",s.innerHTML=`
      <div class="modal-frame">
        <div class="frame-corner tl"></div>
        <div class="frame-corner tr"></div>
        <div class="frame-corner bl"></div>
        <div class="frame-corner br"></div>

        <div class="modal-content">
          <div class="modal-header">
            <div class="header-line"></div>
            <h3 class="modal-title">${this.celestialObject.name}</h3>
            <div class="header-line"></div>
          </div>

          <p class="modal-instruction"></p>

          <div class="countdown-container">
            <div class="hourglass">
              <div class="hourglass-top"></div>
              <div class="hourglass-bottom"></div>
              <div class="sand"></div>
            </div>
            <span class="countdown-text"></span>
          </div>

          <canvas width="600" height="300"></canvas>

          <div class="challenge-container hidden"></div>
        </div>
      </div>
    `,s}startStudyPhase(){this.phase="study",this.updateInstructions(),this.renderObjectOnCanvas(),this.modalElement.querySelector(".modal-content").classList.add("phase-study"),this.studyTimer=window.setInterval(()=>{this.studyTimeRemaining-=0.1,this.updateCountdown();let i=this.modalElement.querySelector(".countdown-container");if(this.studyTimeRemaining<=2&&this.studyTimeRemaining>0)i.classList.add("urgent");if(this.studyTimeRemaining<=0)this.startChallengePhase()},100)}startChallengePhase(){if(this.studyTimer)clearInterval(this.studyTimer),this.studyTimer=null;let s=this.modalElement.querySelector(".modal-content");s.classList.add("phase-transitioning"),setTimeout(()=>{this.phase="challenge",this.updateInstructions();let i=this.modalElement.querySelector(".challenge-container");i.innerHTML="",i.appendChild(this.createChallengeContent()),i.classList.remove("hidden"),s.classList.remove("phase-study","phase-transitioning"),s.classList.add("phase-challenge"),this.modalElement.querySelector(".countdown-container").classList.add("hidden")},350)}updateInstructions(){let s=this.modalElement.querySelector(".modal-instruction");if(this.phase==="study")s.textContent=this.getStudyInstruction();else s.textContent=this.getChallengeInstruction()}updateCountdown(){let s=this.modalElement.querySelector(".countdown-text");s.textContent=`${Math.ceil(this.studyTimeRemaining)}s`;let i=1-this.studyTimeRemaining/this.studyTimeDuration,r=this.modalElement.querySelector(".sand");if(r)r.style.setProperty("--progress",i.toString())}renderObjectOnCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);let s=this.celestialObject.isDiscovered;this.celestialObject.isDiscovered=!0,this.celestialObject.render(this.ctx,this.celestialObject.x,this.celestialObject.y,this.canvas.width,this.canvas.height),this.celestialObject.isDiscovered=s}playCorrectSound(){if(this.audioManager)this.audioManager.playStarConnectionSound(0,1)}playErrorTone(){if(!this.audioManager||!this.audioManager.audioContext)return;let s=this.audioManager.audioContext,i=this.audioManager.masterGain;if(!s||!i)return;let r=s.currentTime,n=s.createOscillator(),e=s.createGain();n.type="sine",n.frequency.value=150,e.gain.setValueAtTime(0,r),e.gain.linearRampToValueAtTime(0.03,r+0.01),e.gain.exponentialRampToValueAtTime(0.001,r+0.15),n.connect(e),e.connect(i),n.start(r),n.stop(r+0.15)}flashIncorrect(){this.canvas.style.filter="brightness(1.3) sepia(0.3)",setTimeout(()=>{this.canvas.style.filter="none"},150)}completeChallenge(){let s=this.modalElement.querySelector(".modal-instruction");if(s.textContent="Discovery Complete!",s.classList.add("pattern-complete"),this.audioManager)this.audioManager.playCosmicFlash();setTimeout(()=>{this.onComplete()},1500)}render(){return this.modalElement}destroy(){if(this.studyTimer)clearInterval(this.studyTimer)}}class a extends C{nebula;challengeStatements=[];constructor(s,i,r){super(s,i,5,r);this.nebula=s}getStudyInstruction(){return"Study this nebula carefully..."}getChallengeInstruction(){return"Which features did you observe?"}generateChallengeStatements(){let i=this.nebula.getData().features||[];if(i.length===0)return setTimeout(()=>this.completeChallenge(),100),[];let r=i.filter((y)=>y.isPresent),n=i.filter((y)=>!y.isPresent),e=this.shuffleArray([...r]).slice(0,Math.min(3,r.length)),b=this.shuffleArray([...n]).slice(0,Math.min(2,n.length)),h=[...e,...b];return this.shuffleArray(h).map((y)=>({feature:y,answer:null}))}shuffleArray(s){let i=[...s];for(let r=i.length-1;r>0;r--){let n=Math.floor(Math.random()*(r+1));[i[r],i[n]]=[i[n],i[r]]}return i}createChallengeContent(){let s=document.createElement("div");if(s.className="nebula-feature-challenge",this.challengeStatements=this.generateChallengeStatements(),this.challengeStatements.length===0)return s.innerHTML='<p class="no-features">Processing discovery...</p>',s;let i=document.createElement("p");i.className="challenge-subheading",i.textContent="Mark each observation as present or absent:",s.appendChild(i);let r=document.createElement("div");r.className="feature-checklist",this.challengeStatements.forEach((e,b)=>{let h=this.createFeatureItem(e,b);r.appendChild(h)}),s.appendChild(r);let n=document.createElement("button");return n.className="submit-btn",n.textContent="Submit Observations",n.onclick=()=>this.handleSubmit(),s.appendChild(n),s}createFeatureItem(s,i){let r=document.createElement("div");r.className="feature-item",r.dataset.index=i.toString();let n=document.createElement("span");n.className="feature-text",n.textContent=s.feature.description,r.appendChild(n);let e=document.createElement("div");e.className="toggle-group";let b=document.createElement("button");b.className="toggle-btn toggle-true",b.textContent="PRESENT",b.dataset.value="true",b.onclick=()=>this.handleToggle(i,!0,r),e.appendChild(b);let h=document.createElement("button");return h.className="toggle-btn toggle-false",h.textContent="ABSENT",h.dataset.value="false",h.onclick=()=>this.handleToggle(i,!1,r),e.appendChild(h),r.appendChild(e),r}handleToggle(s,i,r){this.challengeStatements[s].answer=i,r.querySelectorAll(".toggle-btn").forEach((e)=>{if(e.dataset.value==="true"===i)e.classList.add("selected");else e.classList.remove("selected")}),this.playCorrectSound()}handleSubmit(){if(!this.challengeStatements.every((r)=>r.answer!==null)){this.flashUnansweredItems();return}if(this.challengeStatements.every((r)=>r.answer===r.feature.isPresent))this.playCorrectSound(),setTimeout(()=>{this.completeChallenge()},600);else this.flashIncorrectAnswers()}flashUnansweredItems(){this.modalElement.querySelectorAll(".feature-item").forEach((i,r)=>{if(this.challengeStatements[r].answer===null)i.classList.add("unanswered-flash"),setTimeout(()=>{i.classList.remove("unanswered-flash")},400)}),this.playErrorTone()}flashIncorrectAnswers(){this.modalElement.querySelectorAll(".feature-item").forEach((i,r)=>{let n=this.challengeStatements[r];if(n.answer!==null&&n.answer!==n.feature.isPresent)i.classList.add("incorrect-flash"),setTimeout(()=>{i.classList.remove("incorrect-flash")},800)}),this.playErrorTone()}}class s1 extends C{targetCluster;allClusters;options=[];constructor(s,i,r,n){super(s,r,4,n);if(this.targetCluster=s,this.allClusters=i,this.generateDecoys(),this.options.length<2)setTimeout(()=>this.completeChallenge(),100)}getStudyInstruction(){return"Remember this cluster's appearance..."}getChallengeInstruction(){return"Which cluster did you just observe?"}generateDecoys(){let s=this.targetCluster.getData(),i=this.allClusters.filter((e)=>e.id!==s.id&&e.getData().observatory===s.observatory);if(i.length===0){this.options=[this.targetCluster];return}let r=i.map((e)=>({cluster:e,score:this.calculateDissimilarity(s,e.getData())}));r.sort((e,b)=>b.score-e.score);let n=r.slice(0,Math.min(3,r.length)).map((e)=>e.cluster);this.options=this.shuffleArray([this.targetCluster,...n])}calculateDissimilarity(s,i){let r=0;if(r+=Math.abs(s.starCount-i.starCount),s.color!==i.color)r+=50;return r+=Math.abs(s.radius-i.radius),r}shuffleArray(s){let i=[...s];for(let r=i.length-1;r>0;r--){let n=Math.floor(Math.random()*(r+1));[i[r],i[n]]=[i[n],i[r]]}return i}createChallengeContent(){let s=document.createElement("div");if(s.className="cluster-match-challenge",this.options.length<2)return s.innerHTML='<p class="insufficient-clusters">Processing discovery...</p>',s;let i=document.createElement("p");i.className="challenge-subheading",i.textContent="Select the cluster you observed:",s.appendChild(i);let r=document.createElement("div");return r.className="cluster-options",this.options.forEach((n)=>{let e=this.createClusterOption(n);r.appendChild(e)}),s.appendChild(r),s}createClusterOption(s){let i=document.createElement("div");i.className="cluster-option",i.dataset.clusterId=s.id;let r=document.createElement("canvas");return r.width=200,r.height=200,i.appendChild(r),this.renderClusterOnCanvas(r,s),i.onclick=()=>this.handleOptionClick(s.id,i),i}renderClusterOnCanvas(s,i){let r=s.getContext("2d");if(!r)return;r.fillStyle="rgba(5, 8, 20, 1)",r.fillRect(0,0,s.width,s.height),i.render(r,i.x,i.y,s.width,s.height),r.font='12px "Cormorant Garamond", serif',r.fillStyle="rgba(200, 220, 255, 0.7)",r.textAlign="center",r.fillText(i.name,s.width/2,s.height-15)}handleOptionClick(s,i){let r=this.targetCluster.getData().id;if(s===r)i.classList.add("correct"),this.playCorrectSound(),setTimeout(()=>{this.completeChallenge()},600);else i.classList.add("incorrect"),this.playErrorTone(),this.flashIncorrect(),setTimeout(()=>{i.classList.remove("incorrect")},400)}}class i1 extends C{galaxy;selectedType=null;featureStatements=[];constructor(s,i,r){super(s,i,5,r);this.galaxy=s}getStudyInstruction(){return"Observe this galaxy's structure..."}getChallengeInstruction(){return"Classify and identify features"}generateFeatureStatements(){let i=this.galaxy.getData().features||[];if(i.length===0)return[];let r=this.shuffleArray([...i]);return r.slice(0,Math.min(3,r.length)).map((e)=>({feature:e,answer:null}))}shuffleArray(s){let i=[...s];for(let r=i.length-1;r>0;r--){let n=Math.floor(Math.random()*(r+1));[i[r],i[n]]=[i[n],i[r]]}return i}createChallengeContent(){let s=document.createElement("div");s.className="galaxy-structure-challenge",this.featureStatements=this.generateFeatureStatements();let i=this.createTypeSection();if(s.appendChild(i),this.featureStatements.length>0){let n=this.createFeatureSection();s.appendChild(n)}let r=document.createElement("button");return r.className="submit-btn",r.textContent="Submit Classification",r.onclick=()=>this.handleSubmit(),s.appendChild(r),s}createTypeSection(){let s=document.createElement("div");s.className="challenge-section type-section";let i=document.createElement("h4");i.className="section-header",i.textContent="Morphological Classification",s.appendChild(i);let r=document.createElement("p");r.className="section-question",r.textContent="What type of galaxy is this?",s.appendChild(r);let n=document.createElement("div");return n.className="type-options",[{value:"spiral",label:"Spiral"},{value:"elliptical",label:"Elliptical"},{value:"irregular",label:"Irregular"}].forEach((b)=>{let h=document.createElement("button");h.className="type-btn",h.textContent=b.label,h.dataset.type=b.value,h.onclick=()=>this.handleTypeSelection(b.value,n),n.appendChild(h)}),s.appendChild(n),s}createFeatureSection(){let s=document.createElement("div");s.className="challenge-section feature-section";let i=document.createElement("h4");i.className="section-header",i.textContent="Structural Features",s.appendChild(i);let r=document.createElement("p");r.className="section-question",r.textContent="Which features did you observe?",s.appendChild(r);let n=document.createElement("div");return n.className="feature-checklist",this.featureStatements.forEach((e,b)=>{let h=this.createFeatureItem(e,b);n.appendChild(h)}),s.appendChild(n),s}createFeatureItem(s,i){let r=document.createElement("div");r.className="feature-item",r.dataset.index=i.toString();let n=document.createElement("span");n.className="feature-text",n.textContent=s.feature.description,r.appendChild(n);let e=document.createElement("div");e.className="toggle-group";let b=document.createElement("button");b.className="toggle-btn toggle-true",b.textContent="YES",b.dataset.value="true",b.onclick=()=>this.handleFeatureToggle(i,!0,r),e.appendChild(b);let h=document.createElement("button");return h.className="toggle-btn toggle-false",h.textContent="NO",h.dataset.value="false",h.onclick=()=>this.handleFeatureToggle(i,!1,r),e.appendChild(h),r.appendChild(e),r}handleTypeSelection(s,i){this.selectedType=s,i.querySelectorAll(".type-btn").forEach((n)=>{if(n.dataset.type===s)n.classList.add("selected");else n.classList.remove("selected")}),this.playCorrectSound()}handleFeatureToggle(s,i,r){this.featureStatements[s].answer=i,r.querySelectorAll(".toggle-btn").forEach((e)=>{if(e.dataset.value==="true"===i)e.classList.add("selected");else e.classList.remove("selected")}),this.playCorrectSound()}handleSubmit(){if(this.selectedType===null){this.flashTypeSection();return}if(this.featureStatements.length>0){if(!this.featureStatements.every((e)=>e.answer!==null)){this.flashUnansweredFeatures();return}}let s=this.galaxy.getData(),i=this.selectedType===s.galaxyType,r=this.featureStatements.every((n)=>n.answer===n.feature.isPresent);if(i&&r)this.playCorrectSound(),setTimeout(()=>{this.completeChallenge()},600);else this.flashIncorrectAnswers(i)}flashTypeSection(){let s=this.modalElement.querySelector(".type-section");if(s)s.classList.add("unanswered-flash"),setTimeout(()=>{s.classList.remove("unanswered-flash")},400);this.playErrorTone()}flashUnansweredFeatures(){this.modalElement.querySelectorAll(".feature-item").forEach((i,r)=>{if(this.featureStatements[r].answer===null)i.classList.add("unanswered-flash"),setTimeout(()=>{i.classList.remove("unanswered-flash")},400)}),this.playErrorTone()}flashIncorrectAnswers(s){if(!s){let r=this.modalElement.querySelector(".type-section");if(r)r.classList.add("incorrect-flash"),setTimeout(()=>{r.classList.remove("incorrect-flash")},800)}this.modalElement.querySelectorAll(".feature-item").forEach((r,n)=>{let e=this.featureStatements[n];if(e.answer!==null&&e.answer!==e.feature.isPresent)r.classList.add("incorrect-flash"),setTimeout(()=>{r.classList.remove("incorrect-flash")},800)}),this.playErrorTone()}}class r1{audioContext=null;masterGain=null;ambientGain=null;ambientNodes=[];isAmbientPlaying=!1;initialized=!1;buildUpOscillators=[];buildUpGains=[];isBuildUpPlaying=!1;pentatonicScale=[523.25,587.33,659.25,783.99,880,1046.5];constructor(){this.initOnInteraction()}initOnInteraction(){let s=()=>{this.ensureInitialized(),document.removeEventListener("click",s),document.removeEventListener("keydown",s),document.removeEventListener("mousemove",s)};document.addEventListener("click",s),document.addEventListener("keydown",s),document.addEventListener("mousemove",s)}ensureInitialized(){if(this.initialized&&this.audioContext){if(this.audioContext.state==="suspended")this.audioContext.resume();return!0}try{if(this.audioContext=new AudioContext,this.masterGain=this.audioContext.createGain(),this.masterGain.gain.value=0.3,this.masterGain.connect(this.audioContext.destination),this.ambientGain=this.audioContext.createGain(),this.ambientGain.gain.value=0,this.ambientGain.connect(this.masterGain),this.initialized=!0,console.log("\uD83D\uDD0A Audio initialized, state:",this.audioContext.state),this.audioContext.state==="suspended")this.audioContext.resume();return!0}catch(s){return console.warn("Audio initialization failed:",s),!1}}startAmbient(){if(this.isAmbientPlaying)return;if(!this.ensureInitialized()||!this.audioContext||!this.ambientGain)return;this.isAmbientPlaying=!0;let s=[55,82.5,110,165],i=this.audioContext.currentTime;for(let r of s){let n=this.audioContext.createOscillator(),e=this.audioContext.createGain();n.type="sine",n.frequency.value=r,e.gain.value=0.02,n.connect(e),e.connect(this.ambientGain),n.start(),this.ambientNodes.push(n)}this.ambientGain.gain.linearRampToValueAtTime(0.5,i+2)}stopAmbient(){if(!this.audioContext||!this.ambientGain)return;let s=this.audioContext.currentTime;this.ambientGain.gain.linearRampToValueAtTime(0,s+1),setTimeout(()=>{for(let i of this.ambientNodes)i.stop(),i.disconnect();this.ambientNodes=[],this.isAmbientPlaying=!1},1000)}playDiscoverySound(){this.playCosmicFlash()}playCosmicFlash(){if(!this.ensureInitialized()||!this.audioContext||!this.masterGain)return;let s=this.audioContext,i=s.currentTime,r=s.createOscillator(),n=s.createGain();r.type="sine",r.frequency.setValueAtTime(50,i),r.frequency.exponentialRampToValueAtTime(30,i+0.3),n.gain.setValueAtTime(0,i),n.gain.linearRampToValueAtTime(0.5,i+0.02),n.gain.exponentialRampToValueAtTime(0.01,i+0.5),r.connect(n),n.connect(this.masterGain),r.start(i),r.stop(i+0.6);let e=s.sampleRate*0.8,b=s.createBuffer(1,e,s.sampleRate),h=b.getChannelData(0);for(let g=0;g<e;g++)h[g]=Math.random()*2-1;let d=s.createBufferSource();d.buffer=b;let y=s.createBiquadFilter();y.type="bandpass",y.frequency.setValueAtTime(200,i),y.frequency.exponentialRampToValueAtTime(3000,i+0.4),y.Q.value=1;let u=s.createGain();u.gain.setValueAtTime(0,i),u.gain.linearRampToValueAtTime(0.15,i+0.1),u.gain.linearRampToValueAtTime(0.2,i+0.3),u.gain.exponentialRampToValueAtTime(0.01,i+0.7),d.connect(y),y.connect(u),u.connect(this.masterGain),d.start(i),d.stop(i+0.8);let o=[1046.5,1318.5,1568,2093];for(let g=0;g<o.length;g++){let t=o[g];if(!t)continue;let T=s.createOscillator(),q=s.createGain();T.type="sine",T.frequency.value=t;let N=i+0.1+g*0.05;q.gain.setValueAtTime(0,N),q.gain.linearRampToValueAtTime(0.12,N+0.02),q.gain.exponentialRampToValueAtTime(0.01,N+1.2),T.connect(q),q.connect(this.masterGain),T.start(N),T.stop(N+1.5)}}playPatternCompletionChime(){if(!this.ensureInitialized()||!this.audioContext||!this.masterGain)return;let s=this.audioContext.currentTime,i=[523.25,659.25,783.99,1046.5],r=0.15;i.forEach((n,e)=>{let b=this.audioContext.createOscillator(),h=this.audioContext.createGain();b.type="sine",b.frequency.value=n;let d=s+e*0.05,y=d+0.8;h.gain.setValueAtTime(0,d),h.gain.linearRampToValueAtTime(r,d+0.02),h.gain.exponentialRampToValueAtTime(0.001,y),b.connect(h),h.connect(this.masterGain),b.start(d),b.stop(y)})}playStarConnectionSound(s,i){if(!this.ensureInitialized()||!this.audioContext||!this.masterGain)return;let r=this.audioContext,n=r.currentTime,e=s%this.pentatonicScale.length,b=this.pentatonicScale[e]||523.25,h=3,d=r.createOscillator(),y=r.createGain();d.type="sine",d.frequency.value=b-h;let u=r.createOscillator(),o=r.createGain();u.type="sine",u.frequency.value=b+h;let g=r.createOscillator(),t=r.createGain();g.type="sine",g.frequency.value=b*2;let T=0.015,q=0.6,N=0.12,A=0.04;for(let[p,m]of[[d,y],[u,o]])m.gain.setValueAtTime(0,n),m.gain.linearRampToValueAtTime(N,n+T),m.gain.exponentialRampToValueAtTime(0.001,n+q),p.connect(m),m.connect(this.masterGain),p.start(n),p.stop(n+q+0.1);t.gain.setValueAtTime(0,n),t.gain.linearRampToValueAtTime(A,n+T*2),t.gain.exponentialRampToValueAtTime(0.001,n+q*0.8),g.connect(t),t.connect(this.masterGain),g.start(n),g.stop(n+q)}playDiscoveryBuildUp(s){if(!this.ensureInitialized()||!this.audioContext||!this.masterGain)return;let i=this.audioContext;if(!this.isBuildUpPlaying){this.isBuildUpPlaying=!0;let n=i.createOscillator(),e=i.createGain();n.type="sine",n.frequency.value=80,e.gain.value=0,n.connect(e),e.connect(this.masterGain),n.start(),this.buildUpOscillators.push(n),this.buildUpGains.push(e);let b=i.createOscillator(),h=i.createGain();b.type="sine",b.frequency.value=220,h.gain.value=0,b.connect(h),h.connect(this.masterGain),b.start(),this.buildUpOscillators.push(b),this.buildUpGains.push(h);let d=i.createOscillator(),y=i.createGain();d.type="sine",d.frequency.value=440,y.gain.value=0,d.connect(y),y.connect(this.masterGain),d.start(),this.buildUpOscillators.push(d),this.buildUpGains.push(y)}let r=i.currentTime;if(this.buildUpGains[0])this.buildUpGains[0].gain.setTargetAtTime(0.03*s,r,0.1);if(this.buildUpOscillators[1]&&this.buildUpGains[1]){let n=220+s*180;this.buildUpOscillators[1].frequency.setTargetAtTime(n,r,0.1),this.buildUpGains[1].gain.setTargetAtTime(0.04*s,r,0.1)}if(this.buildUpOscillators[2]&&this.buildUpGains[2]){let n=Math.max(0,(s-0.5)*2),e=440+n*200;this.buildUpOscillators[2].frequency.setTargetAtTime(e,r,0.1),this.buildUpGains[2].gain.setTargetAtTime(0.025*n,r,0.1)}}stopDiscoveryBuildUp(){if(!this.isBuildUpPlaying||!this.audioContext)return;let s=this.audioContext.currentTime;for(let i of this.buildUpGains)i.gain.setTargetAtTime(0,s,0.15);setTimeout(()=>{for(let i of this.buildUpOscillators)try{i.stop(),i.disconnect()}catch(r){}this.buildUpOscillators=[],this.buildUpGains=[],this.isBuildUpPlaying=!1},300)}nebulaOscillators=[];nebulaGains=[];isNebulaPlaying=!1;startNebulaDrone(s){if(!this.ensureInitialized()||!this.audioContext||!this.masterGain)return;let i=this.audioContext,r=i.currentTime;if(!this.isNebulaPlaying){this.isNebulaPlaying=!0;let e=i.createOscillator(),b=i.createGain();e.type="sawtooth",e.frequency.value=65.41;let h=i.createBiquadFilter();h.type="lowpass",h.frequency.value=200,e.connect(h),h.connect(b),b.connect(this.masterGain),e.start(),b.gain.value=0,this.nebulaOscillators.push(e),this.nebulaGains.push(b);let d=i.createOscillator(),y=i.createGain();d.type="sine",d.frequency.value=98,d.connect(y),y.connect(this.masterGain),d.start(),y.gain.value=0,this.nebulaOscillators.push(d),this.nebulaGains.push(y)}let n=Math.min(0.2,s*0.2);for(let e of this.nebulaGains)e.gain.setTargetAtTime(n,r,0.2)}stopNebulaDrone(){if(!this.isNebulaPlaying||!this.audioContext)return;let s=this.audioContext.currentTime;for(let i of this.nebulaGains)i.gain.setTargetAtTime(0,s,0.5);setTimeout(()=>{this.nebulaOscillators.forEach((i)=>{try{i.stop(),i.disconnect()}catch(r){}}),this.nebulaGains=[],this.nebulaOscillators=[],this.isNebulaPlaying=!1},600)}playClusterSparkle(s){if(!this.ensureInitialized()||!this.audioContext||!this.masterGain)return;let i=this.audioContext,r=i.currentTime,n=Math.floor(3+s*5);for(let e=0;e<n;e++){let b=i.createOscillator(),h=i.createGain();b.type="sine";let d=this.pentatonicScale[Math.floor(Math.random()*this.pentatonicScale.length)]||880;b.frequency.value=d*(Math.random()>0.5?2:4);let y=Math.random()*0.1,u=0.05+Math.random()*0.1;h.gain.setValueAtTime(0,r+y),h.gain.linearRampToValueAtTime(0.05,r+y+0.01),h.gain.exponentialRampToValueAtTime(0.001,r+y+u),b.connect(h),h.connect(this.masterGain),b.start(r+y),b.stop(r+y+u+0.1)}}}class n1{canvas;ctx;telescopeOverlay;state;starField;telescope;celestialObjects=[];constellations=[];discoveriesTab;modalManager;audioManager;modalActive=!1;lastFrameTime=0;animationFrameId=0;constructor(s,i){this.canvas=s,this.telescopeOverlay=i;let r=s.getContext("2d");if(!r)throw Error("Could not get 2D context");this.ctx=r,this.state={running:!1,mouseX:window.innerWidth/2,mouseY:window.innerHeight/2,viewX:L/2,viewY:R/2,discoveredCount:0,currentObservatory:"northern"},this.starField=new S(L,R),this.telescope=new G(i),this.modalManager=new w,this.audioManager=new r1,this.discoveriesTab=new l(this.state.currentObservatory),this.loadCelestialObjects(this.state.currentObservatory),this.setupEventListeners(),this.resizeCanvas()}setupEventListeners(){window.addEventListener("mousemove",(e)=>{this.state.mouseX=e.clientX,this.state.mouseY=e.clientY}),window.addEventListener("resize",()=>this.resizeCanvas());let s=document.getElementById("discoveries-toggle"),i=document.getElementById("discoveries-panel"),r=()=>{if(i)i.classList.toggle("collapsed")};if(s&&i)s.addEventListener("click",r);let n=()=>{let e=document.getElementById("lens-case");if(e)e.addEventListener("click",(b)=>{let h=b.target.closest(".lens-slot");if(!h)return;let d=h.dataset.lens;if(d==="standard")this.setLens(1);else if(d==="wide")this.setLens(0.5);else if(d==="deep")this.setLens(3);b.preventDefault()});else setTimeout(n,500)};n(),window.addEventListener("keydown",(e)=>{if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;if(e.key==="Tab")e.preventDefault(),r();if(e.key==="1")this.setLens(1);if(e.key==="2")this.setLens(0.5);if(e.key==="3")this.setLens(3);if(e.key==="ArrowLeft")this.switchObservatory("northern");if(e.key==="ArrowRight")this.switchObservatory("southern")})}toggleLens(){let i=this.telescope.getMagnification()===1?0.5:1;this.setLens(i)}setLens(s){if(this.telescope.getMagnification()===s)return;this.telescope.setMagnification(s);let r=document.getElementById("lens-standard"),n=document.getElementById("lens-wide"),e=document.getElementById("lens-deep");if(r&&n&&e){if(r.classList.remove("active"),n.classList.remove("active"),e.classList.remove("active"),s===1)r.classList.add("active");else if(s===0.5)n.classList.add("active");else if(s===3)e.classList.add("active")}}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}loadCelestialObjects(s){this.celestialObjects=[],this.constellations=[];let i=f(s);for(let b of i){let h=new z(b);this.constellations.push(h),this.celestialObjects.push(h)}let r=b1(s);for(let b of r)this.celestialObjects.push(new _(b));let n=d1(s);for(let b of n)this.celestialObjects.push(new F(b));let e=y1(s);for(let b of e)this.celestialObjects.push(new B(b))}switchObservatory(s){if(s===this.state.currentObservatory)return;this.state.currentObservatory=s,this.state.viewX=L/2,this.state.viewY=R/2,this.state.discoveredCount=0,this.loadCelestialObjects(s),this.discoveriesTab.setObservatory(s);let i=document.getElementById("observatory-dial");if(i)i.querySelectorAll(".dial-sector").forEach((b)=>{let h=b;if(h.dataset.observatory===s)h.classList.add("active");else h.classList.remove("active")});let r=document.querySelector(".observatory-location"),n=document.querySelector(".observatory-coords");if(r&&n)if(s==="northern")r.textContent="Alpine Observatory",n.textContent="46°N · Swiss Alps";else r.textContent="Andean Observatory",n.textContent="30°S · Chilean Andes"}getCurrentObservatory(){return this.state.currentObservatory}start(){this.state.running=!0,this.lastFrameTime=performance.now(),this.audioManager.startAmbient(),this.gameLoop()}stop(){if(this.state.running=!1,this.animationFrameId)cancelAnimationFrame(this.animationFrameId);this.audioManager.stopAmbient()}gameLoop=()=>{if(!this.state.running)return;let s=performance.now(),i=(s-this.lastFrameTime)/1000;this.lastFrameTime=s,this.update(i),this.render(),this.animationFrameId=requestAnimationFrame(this.gameLoop)};getWrappedDeltaX(s,i){let r=s-i;if(r>L/2)r-=L;if(r<-L/2)r+=L;return r}update(s){if(this.modalActive)return;this.telescope.update(this.state.mouseX,this.state.mouseY,s);let i=this.telescope.getViewOffset(),r=i.x*0.5,n=i.y*0.5;if(this.state.viewX+=r*s,this.state.viewY+=n*s,this.state.viewX<0)this.state.viewX+=L;if(this.state.viewX>=L)this.state.viewX-=L;let e=400;this.state.viewY=Math.max(e,Math.min(R-e,this.state.viewY)),this.checkDiscovery(s);let b=this.state.viewX,h=this.state.viewY,d=this.telescope.getInWorldRadius();for(let y of this.celestialObjects){let u=this.getWrappedDeltaX(b,y.x),o=h-y.y,t=Math.hypot(u,o)<y.radius+d*0.6;if(y instanceof z){if(!t&&y.isAnimatingDiscovery()){if(y.cancelDiscovery(),this.state.discoveredCount>0)this.state.discoveredCount--}}y.update(s,t)}}checkDiscovery(s){if(this.modalActive)return;let i=this.telescope.getRadius(),r=this.state.viewX,n=this.state.viewY,e=!1,b=null;for(let h of this.celestialObjects){if(h.isDiscovered)continue;let d=this.getWrappedDeltaX(r,h.x),y=n-h.y;if(Math.hypot(d,y)<h.radius+i*0.3){if(e=!0,b=h,h.addHoverTime(s))this.onObjectDiscovered(h);if(h instanceof z){let o=h.discoveryProgress;this.audioManager.playDiscoveryBuildUp(o)}else if(h instanceof _){let o=h.discoveryProgress;this.audioManager.startNebulaDrone(o)}}else h.resetHoverTime()}if(!e)this.audioManager.stopDiscoveryBuildUp(),this.audioManager.stopNebulaDrone();else if(b&&!(b instanceof _))this.audioManager.stopNebulaDrone()}onObjectDiscovered(s){if(this.state.discoveredCount++,s instanceof z){this.audioManager.stopDiscoveryBuildUp();let i=s,r=i.getData();i.setOnConnectionRevealed((n,e)=>{this.audioManager.playStarConnectionSound(n,e)}),i.setOnAnimationComplete(()=>{this.audioManager.playCosmicFlash(),this.openPatternMatchModal(i)})}else if(s instanceof _){this.audioManager.stopNebulaDrone();let i=s;i.setOnAnimationComplete(()=>{this.openNebulaFeatureModal(i)})}else if(s instanceof F){this.audioManager.playClusterSparkle(1);let i=s;i.setOnAnimationComplete(()=>{this.openClusterMatchModal(i)})}else if(s instanceof B){this.audioManager.playDiscoverySound();let i=s;i.setOnAnimationComplete(()=>{this.openGalaxyStructureModal(i)})}}openPatternMatchModal(s){this.modalActive=!0;let i=new c(s,()=>{this.onPatternMatchComplete(s)},this.audioManager);this.modalManager.show(i.render())}onPatternMatchComplete(s){let i=s.getData();if(this.audioManager.playPatternCompletionChime(),this.discoveriesTab.addDiscovery(i),this.showDiscoveryNotification(i.name),i.set)this.checkSetCompletion(i.set);this.modalManager.hide(()=>{this.modalActive=!1})}openNebulaFeatureModal(s){this.modalActive=!0;let i=new a(s,()=>{this.onDSOModalComplete(s)},this.audioManager);this.modalManager.show(i.render())}openClusterMatchModal(s){this.modalActive=!0;let i=this.celestialObjects.filter((n)=>n instanceof F),r=new s1(s,i,()=>{this.onDSOModalComplete(s)},this.audioManager);this.modalManager.show(r.render())}openGalaxyStructureModal(s){this.modalActive=!0;let i=new i1(s,()=>{this.onDSOModalComplete(s)},this.audioManager);this.modalManager.show(i.render())}onDSOModalComplete(s){this.audioManager.playPatternCompletionChime(),this.discoveriesTab.addDiscovery(s.getData()),this.showDiscoveryNotification(s.name),this.modalManager.hide(()=>{this.modalActive=!1})}showDiscoveryNotification(s){let i=document.getElementById("discovery-notification"),r=i?.querySelector(".constellation-name");if(i&&r)i.classList.remove("hidden"),r.textContent=s,requestAnimationFrame(()=>{i.classList.add("visible")}),setTimeout(()=>{i.classList.remove("visible"),setTimeout(()=>{i.classList.add("hidden")},500)},3000)}render(){let{ctx:s,canvas:i}=this,{viewX:r,viewY:n}=this.state,e=s.createRadialGradient(i.width/2,i.height/2,0,i.width/2,i.height/2,i.height);e.addColorStop(0,"#0f1020"),e.addColorStop(0.6,"#0a0a18"),e.addColorStop(1,"#050510"),s.fillStyle=e,s.fillRect(0,0,i.width,i.height);let b=this.telescope.getPosition(),h=this.telescope.getRadius();s.save(),s.beginPath(),s.arc(b.x,b.y,h,0,Math.PI*2),s.clip();let d=this.telescope.getMagnification();if(d===3){let g=s.createRadialGradient(b.x,b.y,h*0.4,b.x,b.y,h);g.addColorStop(0,"rgba(0, 0, 0, 0)"),g.addColorStop(0.7,"rgba(0, 0, 0, 0.15)"),g.addColorStop(1,"rgba(0, 0, 0, 0.4)"),s.fillStyle=g,s.fillRect(0,0,i.width,i.height)}s.translate(b.x,b.y),s.scale(d,d),s.translate(-b.x,-b.y);let y=0.4+d/3*0.6,u=d===3?0.4:1,o=d===3?1.3:1;for(let g of this.celestialObjects)if(g instanceof B)g.render(s,r,n,i.width,i.height,y,o);for(let g of this.celestialObjects)if(g instanceof _)g.render(s,r,n,i.width,i.height,y,o);this.starField.render(s,r,n,i.width,i.height,b);for(let g of this.celestialObjects)if(g instanceof z)g.render(s,r,n,i.width,i.height,u);else if(g instanceof F)g.render(s,r,n,i.width,i.height,y,o);s.restore(),this.renderBackgroundStars()}renderBackgroundStars(){let{ctx:s,canvas:i}=this,r=this.telescope.getPosition(),n=this.telescope.getRadius(),e=this.starField.getBackgroundStars();s.save(),s.beginPath(),s.rect(0,0,i.width,i.height),s.arc(r.x,r.y,n+30,0,Math.PI*2,!0),s.clip();for(let b of e){let h=b.x/L*i.width,d=b.y/R*i.height;s.beginPath(),s.arc(h,d,b.size*0.5,0,Math.PI*2),s.fillStyle=`rgba(200, 210, 255, ${b.brightness*0.3})`,s.fill()}s.restore()}checkSetCompletion(s){let i=Y[s];if(!i)return;if(this.constellations.filter((e)=>e.getData().set===s).every((e)=>e.isDiscovered))if(i.upgradeId==="stabilizer")this.telescope.setDriftFactor(1),this.showUpgradeNotification(i.name,i.upgradeName);else if(i.upgradeId==="wide_angle")this.telescope.setRadiusMultiplier(1.15),this.showUpgradeNotification(i.name,i.upgradeName);else this.showDiscoveryNotification(`${i.name} Completed!`)}showUpgradeNotification(s,i){let r=document.getElementById("discovery-notification"),n=r?.querySelector(".notification-title"),e=r?.querySelector(".constellation-name");if(r&&n&&e)r.classList.remove("hidden"),n.textContent=`${s} Completed!`,e.textContent=`Unlocked: ${i}`,e.classList.add("upgrade-text"),requestAnimationFrame(()=>{r.classList.add("visible")}),setTimeout(()=>{r.classList.remove("visible"),setTimeout(()=>{r.classList.add("hidden"),n.textContent="Constellation Discovered",e.classList.remove("upgrade-text")},5000)},5000)}}class e1{dialElement;nameplateElement;game;currentObservatory;constructor(s){this.game=s,this.currentObservatory=s.getCurrentObservatory(),this.dialElement=document.getElementById("observatory-dial"),this.nameplateElement=document.getElementById("observatory-nameplate"),this.updateUI(),this.setupEventListeners()}updateUI(){if(!this.dialElement)return;this.dialElement.querySelectorAll(".dial-sector").forEach((i)=>{let r=i;if(r.dataset.observatory===this.currentObservatory)r.classList.add("active");else r.classList.remove("active")}),this.updateNameplate()}updateNameplate(){if(!this.nameplateElement)return;let s=v[this.currentObservatory],i=this.nameplateElement.querySelector(".observatory-location"),r=this.nameplateElement.querySelector(".observatory-coords");if(i)i.textContent=s.name;if(r)r.textContent=s.location}setupEventListeners(){if(!this.dialElement)return;this.dialElement.addEventListener("click",(s)=>{let i=s.target.closest(".dial-sector");if(!i)return;let r=i.dataset.observatory;if(r&&r!==this.currentObservatory)this.switchTo(r)})}switchTo(s){this.currentObservatory=s,this.game.switchObservatory(s),this.updateUI()}}document.addEventListener("DOMContentLoaded",()=>{let s=document.getElementById("sky-canvas"),i=document.getElementById("telescope-overlay"),r=document.getElementById("start-screen"),n=document.getElementById("start-button");if(!s||!i){console.error("Required elements not found");return}let e=new n1(s,i);new e1(e),n?.addEventListener("click",()=>{r.classList.add("hidden"),e.start()})});

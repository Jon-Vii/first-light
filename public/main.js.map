{
  "version": 3,
  "sources": ["../src/game/StarField.ts", "../src/game/Telescope.ts", "../src/game/Constellation.ts", "../src/ui/DiscoveriesTab.ts", "../src/audio/AudioManager.ts", "../src/data/constellations.ts", "../src/game/Game.ts", "../src/main.ts"],
  "sourcesContent": [
    "/**\n * StarField - Manages the background star rendering\n */\n\nexport interface BackgroundStar {\n  x: number;\n  y: number;\n  size: number;\n  brightness: number;\n  twinkleOffset: number;\n}\n\nexport class StarField {\n  private skyWidth: number;\n  private skyHeight: number;\n  private stars: BackgroundStar[];\n  private backgroundStars: BackgroundStar[];\n  private time: number = 0;\n\n  constructor(skyWidth: number, skyHeight: number) {\n    this.skyWidth = skyWidth;\n    this.skyHeight = skyHeight;\n    this.stars = this.generateStars(800);\n    this.backgroundStars = this.generateBackgroundStars(200);\n  }\n\n  /**\n   * Generate random stars for the detailed view\n   */\n  private generateStars(count: number): BackgroundStar[] {\n    const stars: BackgroundStar[] = [];\n\n    // Use seeded random for consistency\n    let seed = 12345;\n    const random = () => {\n      seed = (seed * 1103515245 + 12345) & 0x7fffffff;\n      return seed / 0x7fffffff;\n    };\n\n    for (let i = 0; i < count; i++) {\n      stars.push({\n        x: random() * this.skyWidth,\n        y: random() * this.skyHeight,\n        size: random() * 2 + 0.5,\n        brightness: random() * 0.5 + 0.5,\n        twinkleOffset: random() * Math.PI * 2\n      });\n    }\n\n    return stars;\n  }\n\n  /**\n   * Generate simpler background stars for the non-magnified view\n   */\n  private generateBackgroundStars(count: number): BackgroundStar[] {\n    const stars: BackgroundStar[] = [];\n\n    let seed = 67890;\n    const random = () => {\n      seed = (seed * 1103515245 + 12345) & 0x7fffffff;\n      return seed / 0x7fffffff;\n    };\n\n    for (let i = 0; i < count; i++) {\n      stars.push({\n        x: random() * this.skyWidth,\n        y: random() * this.skyHeight,\n        size: random() * 1.5 + 0.3,\n        brightness: random() * 0.6 + 0.2,\n        twinkleOffset: random() * Math.PI * 2\n      });\n    }\n\n    return stars;\n  }\n\n  /**\n   * Get background stars for rendering outside telescope\n   */\n  getBackgroundStars(): BackgroundStar[] {\n    return this.backgroundStars;\n  }\n\n  /**\n   * Render stars within the telescope view\n   */\n  render(\n    ctx: CanvasRenderingContext2D,\n    viewX: number,\n    viewY: number,\n    canvasWidth: number,\n    canvasHeight: number,\n    telescopePos: { x: number; y: number }\n  ): void {\n    this.time += 0.016;  // Approximate frame time\n\n    // Draw deep space gradient background\n    const gradient = ctx.createRadialGradient(\n      telescopePos.x, telescopePos.y, 0,\n      telescopePos.x, telescopePos.y, 400\n    );\n    gradient.addColorStop(0, '#0f1020');\n    gradient.addColorStop(0.5, '#0a0a18');\n    gradient.addColorStop(1, '#050510');\n\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n\n    // Calculate visible stars\n    for (const star of this.stars) {\n      // Convert sky coordinates to screen coordinates\n      const screenX = star.x - viewX + canvasWidth / 2;\n      const screenY = star.y - viewY + canvasHeight / 2;\n\n      // Skip stars outside visible area (with margin)\n      if (screenX < -50 || screenX > canvasWidth + 50 ||\n        screenY < -50 || screenY > canvasHeight + 50) {\n        continue;\n      }\n\n      // Calculate twinkle effect\n      const twinkle = Math.sin(this.time * 2 + star.twinkleOffset) * 0.2 + 0.8;\n      const brightness = star.brightness * twinkle;\n\n      // Draw star with glow\n      this.drawStar(ctx, screenX, screenY, star.size, brightness);\n    }\n  }\n\n  /**\n   * Draw a single star with glow effect\n   */\n  private drawStar(\n    ctx: CanvasRenderingContext2D,\n    x: number,\n    y: number,\n    size: number,\n    brightness: number\n  ): void {\n    // Outer glow\n    const glowGradient = ctx.createRadialGradient(x, y, 0, x, y, size * 4);\n    glowGradient.addColorStop(0, `rgba(200, 210, 255, ${brightness * 0.3})`);\n    glowGradient.addColorStop(0.5, `rgba(200, 210, 255, ${brightness * 0.1})`);\n    glowGradient.addColorStop(1, 'rgba(200, 210, 255, 0)');\n\n    ctx.beginPath();\n    ctx.arc(x, y, size * 4, 0, Math.PI * 2);\n    ctx.fillStyle = glowGradient;\n    ctx.fill();\n\n    // Core\n    ctx.beginPath();\n    ctx.arc(x, y, size, 0, Math.PI * 2);\n    ctx.fillStyle = `rgba(255, 255, 255, ${brightness})`;\n    ctx.fill();\n  }\n}\n",
    "/**\n * Telescope - Handles the telescope viewport (fixed at screen center)\n * Mouse movement controls view panning with smooth drift/parallax effect\n */\n\nexport class Telescope {\n  private element: HTMLDivElement;\n  private radius: number;\n\n  // View offset with drift/parallax effect\n  private currentOffsetX: number = 0;\n  private currentOffsetY: number = 0;\n  private targetOffsetX: number = 0;\n  private targetOffsetY: number = 0;\n\n  // Lag/drift parameters for smooth parallax\n  private readonly lagFactor = 0.06;  // Lower = more lag/drift\n\n  constructor(element: HTMLDivElement) {\n    this.element = element;\n    this.radius = this.calculateRadius();\n\n    // Update radius and position on resize\n    window.addEventListener('resize', () => {\n      this.radius = this.calculateRadius();\n      this.updateElementPosition();\n    });\n\n    // Position telescope at center\n    this.updateElementPosition();\n  }\n\n  private calculateRadius(): number {\n    return Math.min(window.innerWidth, window.innerHeight) * 0.425;\n  }\n\n  /**\n   * Update view offset based on mouse position with smooth drift effect\n   */\n  update(mouseX: number, mouseY: number, deltaTime: number): void {\n    // Calculate target offset from center (how far mouse is from center)\n    this.targetOffsetX = mouseX - window.innerWidth / 2;\n    this.targetOffsetY = mouseY - window.innerHeight / 2;\n\n    // Apply smooth lag/drift to create parallax feel\n    const lagAmount = 1 - Math.pow(1 - this.lagFactor, deltaTime * 60);\n\n    const dx = this.targetOffsetX - this.currentOffsetX;\n    const dy = this.targetOffsetY - this.currentOffsetY;\n\n    this.currentOffsetX += dx * lagAmount;\n    this.currentOffsetY += dy * lagAmount;\n  }\n\n  private updateElementPosition(): void {\n    // Telescope stays fixed at screen center\n    const centerX = window.innerWidth / 2;\n    const centerY = window.innerHeight / 2;\n    this.element.style.left = `${centerX}px`;\n    this.element.style.top = `${centerY}px`;\n  }\n\n  /**\n   * Get telescope center position (always screen center)\n   */\n  getPosition(): { x: number; y: number } {\n    return {\n      x: window.innerWidth / 2,\n      y: window.innerHeight / 2\n    };\n  }\n\n  /**\n   * Get current view offset with drift applied (for panning the star field)\n   */\n  getViewOffset(): { x: number; y: number } {\n    return {\n      x: this.currentOffsetX,\n      y: this.currentOffsetY\n    };\n  }\n\n  /**\n   * Get telescope viewport radius\n   */\n  getRadius(): number {\n    return this.radius;\n  }\n}\n",
    "/**\n * Constellation - Manages individual constellation state and rendering\n */\n\nimport type { ConstellationData } from '../data/constellations';\n\n\nexport class Constellation {\n  private data: ConstellationData;\n  private hoverTime: number = 0;\n  private discoveryProgress: number = 0;\n  private isAnimating: boolean = false;\n  private animationTime: number = 0;\n  private revealedConnections: number = 0;\n  private currentConnectionProgress: number = 0;  // 0-1 progress through current connection\n  private lastRevealedConnections: number = 0;  // Track for sound triggers\n  private onAnimationComplete: (() => void) | null = null;\n  private onConnectionRevealed: ((index: number, total: number) => void) | null = null;\n  private starActivationTimes: Map<number, number> = new Map();  // Star index -> activation time\n  private cosmicFlashTime: number = 0;  // When cosmic flash started\n\n  // Color palette - warm golden tones\n  private readonly colors = {\n    coreWhite: 'rgba(255, 255, 245, ',\n    innerGold: 'rgba(255, 225, 130, ',\n    midAmber: 'rgba(255, 190, 80, ',\n    outerGlow: 'rgba(220, 160, 60, ',\n    cosmicHaze: 'rgba(180, 140, 100, ',\n  };\n\n  // Discovery parameters\n  private readonly hoverTimeRequired = 2.0;  // Seconds of hover to discover\n  private readonly animationDuration = 3.5;  // Duration of discovery animation\n  private readonly starFlashDuration = 0.6;  // How long the star flash lasts\n  private readonly cosmicFlashDuration = 1.2;  // Duration of completion flash\n\n  constructor(data: ConstellationData) {\n    this.data = { ...data };\n  }\n\n  /**\n   * Get constellation data\n   */\n  getData(): ConstellationData {\n    return this.data;\n  }\n\n  /**\n   * Get animation duration for timing external events\n   */\n  getAnimationDuration(): number {\n    return this.animationDuration;\n  }\n\n  /**\n   * Set callback for when animation completes\n   */\n  setOnAnimationComplete(callback: () => void): void {\n    this.onAnimationComplete = callback;\n  }\n\n  /**\n   * Set callback for when a new connection is revealed\n   */\n  setOnConnectionRevealed(callback: (index: number, total: number) => void): void {\n    this.onConnectionRevealed = callback;\n  }\n\n\n  /**\n   * Check if constellation is discovered\n   */\n  isDiscovered(): boolean {\n    return this.data.discovered;\n  }\n\n  /**\n   * Add hover time and check for discovery\n   * Returns true if just discovered\n   */\n  addHoverTime(deltaTime: number): boolean {\n    if (this.data.discovered || this.isAnimating) return false;\n\n    this.hoverTime += deltaTime;\n    this.discoveryProgress = Math.min(1, this.hoverTime / this.hoverTimeRequired);\n\n    if (this.hoverTime >= this.hoverTimeRequired) {\n      this.discover();\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Reset hover time (when player moves away)\n   */\n  resetHoverTime(): void {\n    // Gradual decay for smoother feel\n    this.hoverTime = Math.max(0, this.hoverTime - 0.1);\n    this.discoveryProgress = this.hoverTime / this.hoverTimeRequired;\n  }\n\n  /**\n   * Trigger discovery\n   */\n  private discover(): void {\n    this.data.discovered = true;\n    this.isAnimating = true;\n    this.animationTime = 0;\n    this.revealedConnections = 0;\n    this.starActivationTimes.clear();\n    this.cosmicFlashTime = 0;\n  }\n\n  /**\n   * Update animation state (call every frame, independent of render)\n   */\n  update(deltaTime: number): void {\n    if (!this.isAnimating) return;\n\n    const wasFirstFrame = this.animationTime === 0;\n    this.animationTime += deltaTime;\n\n    // On first frame, activate the starting star and play initial sound\n    if (wasFirstFrame && this.data.connections.length > 0) {\n      const firstConnection = this.data.connections[0];\n      if (firstConnection) {\n        const [starIdx1] = firstConnection;\n        if (starIdx1 !== undefined) {\n          this.starActivationTimes.set(starIdx1, this.animationTime);\n          // Play sound for first star (-1 means \"starting star\")\n          if (this.onConnectionRevealed) {\n            this.onConnectionRevealed(-1, this.data.connections.length);\n          }\n        }\n      }\n    }\n\n    // Calculate continuous progress through all connections\n    const totalProgress = Math.min(1, this.animationTime / this.animationDuration);\n    const connectionProgress = totalProgress * this.data.connections.length;\n    const newRevealedConnections = Math.floor(connectionProgress);\n\n    // Track partial progress through current connection (0-1)\n    this.currentConnectionProgress = connectionProgress - newRevealedConnections;\n\n    // Play sound and activate stars for each newly revealed connection\n    if (newRevealedConnections > this.revealedConnections) {\n      for (let i = this.revealedConnections; i < newRevealedConnections; i++) {\n        // Play sound\n        if (this.onConnectionRevealed) {\n          this.onConnectionRevealed(i, this.data.connections.length);\n        }\n\n        // Mark the destination star as activated (for flash effect) - only if not already activated\n        const connection = this.data.connections[i];\n        if (connection) {\n          const [, starIdx2] = connection;\n          if (starIdx2 !== undefined && !this.starActivationTimes.has(starIdx2)) {\n            this.starActivationTimes.set(starIdx2, this.animationTime);\n          }\n        }\n      }\n    }\n    this.revealedConnections = newRevealedConnections;\n\n    // Check if animation is complete\n    if (this.animationTime >= this.animationDuration) {\n      this.isAnimating = false;\n      this.revealedConnections = this.data.connections.length;\n      this.currentConnectionProgress = 0;\n\n      // Trigger completion callback\n      if (this.onAnimationComplete) {\n        this.onAnimationComplete();\n        this.onAnimationComplete = null;\n        this.onConnectionRevealed = null;\n      }\n    }\n  }\n\n  /**\n   * Render the constellation\n   */\n  render(\n    ctx: CanvasRenderingContext2D,\n    viewX: number,\n    viewY: number,\n    canvasWidth: number,\n    canvasHeight: number\n  ): void {\n    // Convert constellation center to screen coordinates\n    const centerScreenX = this.data.centerX - viewX + canvasWidth / 2;\n    const centerScreenY = this.data.centerY - viewY + canvasHeight / 2;\n\n    // Skip if too far from view\n    if (Math.abs(centerScreenX - canvasWidth / 2) > canvasWidth ||\n      Math.abs(centerScreenY - canvasHeight / 2) > canvasHeight) {\n      return;\n    }\n\n    // Render based on state\n    if (this.data.discovered) {\n      this.renderDiscovered(ctx, viewX, viewY, canvasWidth, canvasHeight);\n    } else if (this.discoveryProgress > 0) {\n      this.renderHint(ctx, viewX, viewY, canvasWidth, canvasHeight);\n    }\n  }\n\n  /**\n   * Render hint when player is close to discovering\n   */\n  private renderHint(\n    ctx: CanvasRenderingContext2D,\n    viewX: number,\n    viewY: number,\n    canvasWidth: number,\n    canvasHeight: number\n  ): void {\n    const alpha = this.discoveryProgress * 0.5;\n\n    // Subtle pulsing stars\n    for (const star of this.data.stars) {\n      const screenX = star.x - viewX + canvasWidth / 2;\n      const screenY = star.y - viewY + canvasHeight / 2;\n\n      const pulse = Math.sin(Date.now() * 0.005) * 0.3 + 0.7;\n      const size = 3 + star.brightness * 2;\n\n      // Glow\n      ctx.beginPath();\n      ctx.arc(screenX, screenY, size * 3, 0, Math.PI * 2);\n      const glowGradient = ctx.createRadialGradient(screenX, screenY, 0, screenX, screenY, size * 3);\n      glowGradient.addColorStop(0, `rgba(255, 217, 61, ${alpha * pulse * 0.5})`);\n      glowGradient.addColorStop(1, 'rgba(255, 217, 61, 0)');\n      ctx.fillStyle = glowGradient;\n      ctx.fill();\n    }\n  }\n\n  /**\n   * Render discovered constellation\n   */\n  private renderDiscovered(\n    ctx: CanvasRenderingContext2D,\n    viewX: number,\n    viewY: number,\n    canvasWidth: number,\n    canvasHeight: number\n  ): void {\n    const centerScreenX = this.data.centerX - viewX + canvasWidth / 2;\n    const centerScreenY = this.data.centerY - viewY + canvasHeight / 2;\n\n    // Trigger cosmic flash when all connections are revealed\n    const justCompleted = this.isAnimating &&\n      this.revealedConnections === this.data.connections.length;\n    if (justCompleted && this.cosmicFlashTime === 0) {\n      this.cosmicFlashTime = this.animationTime;\n    }\n\n    // Calculate cosmic flash intensity\n    let cosmicFlashIntensity = 0;\n    if (this.cosmicFlashTime > 0) {\n      const timeSinceFlash = this.animationTime - this.cosmicFlashTime;\n      if (timeSinceFlash < this.cosmicFlashDuration) {\n        const progress = timeSinceFlash / this.cosmicFlashDuration;\n        cosmicFlashIntensity = Math.sin(progress * Math.PI);\n      }\n    }\n\n    const baseAlpha = this.isAnimating ? 0.8 : 0.6;\n    const lineAlpha = baseAlpha + cosmicFlashIntensity * 0.4;\n\n    // ========== COSMIC FLASH EFFECT ==========\n    if (cosmicFlashIntensity > 0) {\n      // Radial shockwave expanding from constellation center\n      const shockwaveRadius = cosmicFlashIntensity * 350;\n      const shockwaveGradient = ctx.createRadialGradient(\n        centerScreenX, centerScreenY, shockwaveRadius * 0.7,\n        centerScreenX, centerScreenY, shockwaveRadius\n      );\n      shockwaveGradient.addColorStop(0, `rgba(255, 220, 100, 0)`);\n      shockwaveGradient.addColorStop(0.5, `rgba(255, 180, 50, ${cosmicFlashIntensity * 0.4})`);\n      shockwaveGradient.addColorStop(1, `rgba(255, 140, 30, 0)`);\n\n      ctx.beginPath();\n      ctx.arc(centerScreenX, centerScreenY, shockwaveRadius, 0, Math.PI * 2);\n      ctx.fillStyle = shockwaveGradient;\n      ctx.fill();\n\n      // Central cosmic glow\n      const glowGradient = ctx.createRadialGradient(\n        centerScreenX, centerScreenY, 0,\n        centerScreenX, centerScreenY, 180\n      );\n      glowGradient.addColorStop(0, `rgba(255, 250, 220, ${cosmicFlashIntensity * 0.5})`);\n      glowGradient.addColorStop(0.4, `rgba(255, 200, 100, ${cosmicFlashIntensity * 0.3})`);\n      glowGradient.addColorStop(1, `rgba(255, 160, 50, 0)`);\n\n      ctx.beginPath();\n      ctx.arc(centerScreenX, centerScreenY, 180, 0, Math.PI * 2);\n      ctx.fillStyle = glowGradient;\n      ctx.fill();\n    }\n\n    // ========== CONNECTION LINES WITH GRADIENT GLOW ==========\n    ctx.lineCap = 'round';\n\n    const connectionsToRender = this.isAnimating\n      ? this.revealedConnections\n      : this.data.connections.length;\n\n    // Draw fully revealed connections with glow\n    for (let i = 0; i < connectionsToRender; i++) {\n      const connection = this.data.connections[i];\n      if (!connection) continue;\n\n      const [starIdx1, starIdx2] = connection;\n      const star1 = this.data.stars[starIdx1];\n      const star2 = this.data.stars[starIdx2];\n\n      if (!star1 || !star2) continue;\n\n      const x1 = star1.x - viewX + canvasWidth / 2;\n      const y1 = star1.y - viewY + canvasHeight / 2;\n      const x2 = star2.x - viewX + canvasWidth / 2;\n      const y2 = star2.y - viewY + canvasHeight / 2;\n\n      this.drawGlowingLine(ctx, x1, y1, x2, y2, lineAlpha);\n    }\n\n    // Draw the current connection being animated with spark head\n    if (this.isAnimating && this.revealedConnections < this.data.connections.length) {\n      const currentConnection = this.data.connections[this.revealedConnections];\n      if (currentConnection) {\n        const [starIdx1, starIdx2] = currentConnection;\n        const star1 = this.data.stars[starIdx1];\n        const star2 = this.data.stars[starIdx2];\n\n        if (star1 && star2) {\n          const x1 = star1.x - viewX + canvasWidth / 2;\n          const y1 = star1.y - viewY + canvasHeight / 2;\n          const x2 = star2.x - viewX + canvasWidth / 2;\n          const y2 = star2.y - viewY + canvasHeight / 2;\n\n          // If destination is already activated, draw full line immediately\n          const destAlreadyLit = starIdx2 !== undefined && this.starActivationTimes.has(starIdx2);\n\n          if (destAlreadyLit) {\n            this.drawGlowingLine(ctx, x1, y1, x2, y2, lineAlpha);\n          } else {\n            // Animate the line drawing with spark head\n            const progress = this.currentConnectionProgress;\n            const currentX = x1 + (x2 - x1) * progress;\n            const currentY = y1 + (y2 - y1) * progress;\n\n            // Draw partial glowing line\n            this.drawGlowingLine(ctx, x1, y1, currentX, currentY, lineAlpha);\n\n            // Draw spark head at leading edge\n            this.drawSparkHead(ctx, currentX, currentY);\n          }\n        }\n      }\n    }\n\n    // ========== STARS WITH MULTI-LAYERED CORONA ==========\n    for (let starIdx = 0; starIdx < this.data.stars.length; starIdx++) {\n      const star = this.data.stars[starIdx];\n      if (!star) continue;\n\n      const screenX = star.x - viewX + canvasWidth / 2;\n      const screenY = star.y - viewY + canvasHeight / 2;\n\n      const activationTime = this.starActivationTimes.get(starIdx);\n      const isActivated = activationTime !== undefined;\n\n      let size = 3 + star.brightness * 3;\n      let starAlpha = baseAlpha + cosmicFlashIntensity * 0.3;\n      let flashProgress = 0;\n\n      // During animation: activated stars flash and are bright, unactivated stay faint\n      if (this.isAnimating && !isActivated) {\n        // Render unactivated stars with simple hint-style glow (same as before discovery)\n        const hintAlpha = 0.35;\n        const hintSize = 3 + star.brightness * 2;\n        const pulse = Math.sin(Date.now() * 0.005) * 0.3 + 0.7;\n\n        ctx.beginPath();\n        ctx.arc(screenX, screenY, hintSize * 3, 0, Math.PI * 2);\n        const glowGradient = ctx.createRadialGradient(screenX, screenY, 0, screenX, screenY, hintSize * 3);\n        glowGradient.addColorStop(0, `rgba(255, 217, 61, ${hintAlpha * pulse * 0.5})`);\n        glowGradient.addColorStop(1, 'rgba(255, 217, 61, 0)');\n        ctx.fillStyle = glowGradient;\n        ctx.fill();\n        continue;  // Skip the cosmic star rendering\n      }\n\n      // Activated stars during animation can flash\n      if (this.isAnimating && isActivated) {\n        const timeSinceActivation = this.animationTime - activationTime;\n        if (timeSinceActivation < this.starFlashDuration) {\n          flashProgress = Math.sin((timeSinceActivation / this.starFlashDuration) * Math.PI);\n          size *= 1 + flashProgress * 0.4;\n          starAlpha = Math.min(1, starAlpha + flashProgress * 0.3);\n        }\n      }\n\n      // Render star with multi-layer corona (activated stars only during animation, all stars after)\n      this.renderCosmicStar(ctx, screenX, screenY, size, starAlpha, isActivated, flashProgress);\n    }\n\n    // Constellation name (when fully discovered)\n    if (!this.isAnimating) {\n      ctx.font = '16px \"Cormorant Garamond\", serif';\n      ctx.fillStyle = 'rgba(255, 220, 180, 0.7)';\n      ctx.textAlign = 'center';\n      ctx.shadowColor = 'rgba(255, 180, 80, 0.5)';\n      ctx.shadowBlur = 10;\n      ctx.fillText(this.data.name, centerScreenX, centerScreenY + this.data.radius + 35);\n      ctx.shadowBlur = 0;\n    }\n  }\n\n  /**\n   * Draw a glowing gradient line between two points\n   */\n  private drawGlowingLine(\n    ctx: CanvasRenderingContext2D,\n    x1: number, y1: number,\n    x2: number, y2: number,\n    alpha: number\n  ): void {\n    ctx.lineCap = 'round';\n\n    // Outer warm glow\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.strokeStyle = `${this.colors.outerGlow}${alpha * 0.2})`;\n    ctx.lineWidth = 12;\n    ctx.stroke();\n\n    // Mid amber glow\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.strokeStyle = `${this.colors.midAmber}${alpha * 0.4})`;\n    ctx.lineWidth = 6;\n    ctx.stroke();\n\n    // Inner gold glow\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.strokeStyle = `${this.colors.innerGold}${alpha * 0.7})`;\n    ctx.lineWidth = 3;\n    ctx.stroke();\n\n    // Hot white core\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.strokeStyle = `${this.colors.coreWhite}${alpha * 0.9})`;\n    ctx.lineWidth = 1.5;\n    ctx.stroke();\n  }\n\n  /**\n   * Draw a spark/ember at the leading edge of an animating line\n   */\n  private drawSparkHead(ctx: CanvasRenderingContext2D, x: number, y: number): void {\n    const sparkSize = 10;\n    const time = Date.now() * 0.01;\n    const flicker = 0.85 + Math.sin(time) * 0.15;\n\n    // Outer glow\n    const outerGlow = ctx.createRadialGradient(x, y, 0, x, y, sparkSize * 2.5);\n    outerGlow.addColorStop(0, `rgba(255, 160, 60, ${0.8 * flicker})`);\n    outerGlow.addColorStop(0.5, `rgba(220, 100, 40, ${0.4 * flicker})`);\n    outerGlow.addColorStop(1, 'rgba(180, 80, 60, 0)');\n\n    ctx.beginPath();\n    ctx.arc(x, y, sparkSize * 2.5, 0, Math.PI * 2);\n    ctx.fillStyle = outerGlow;\n    ctx.fill();\n\n    // Hot core\n    const coreGlow = ctx.createRadialGradient(x, y, 0, x, y, sparkSize);\n    coreGlow.addColorStop(0, `rgba(255, 255, 250, ${flicker})`);\n    coreGlow.addColorStop(0.4, `rgba(255, 230, 150, ${0.9 * flicker})`);\n    coreGlow.addColorStop(0.7, `rgba(255, 180, 80, ${0.5 * flicker})`);\n    coreGlow.addColorStop(1, 'rgba(255, 140, 50, 0)');\n\n    ctx.beginPath();\n    ctx.arc(x, y, sparkSize, 0, Math.PI * 2);\n    ctx.fillStyle = coreGlow;\n    ctx.fill();\n\n    // Brilliant white center\n    ctx.beginPath();\n    ctx.arc(x, y, sparkSize * 0.25, 0, Math.PI * 2);\n    ctx.fillStyle = `rgba(255, 255, 255, ${flicker})`;\n    ctx.fill();\n  }\n\n  /**\n   * Render a star with multi-layered corona effect\n   */\n  private renderCosmicStar(\n    ctx: CanvasRenderingContext2D,\n    x: number, y: number,\n    size: number, alpha: number,\n    isActivated: boolean, flashProgress: number\n  ): void {\n    const coronaMultiplier = isActivated ? (1 + flashProgress * 0.6) : 0.5;\n\n    // Layer 4: Outer warm haze (only for activated stars)\n    if (isActivated) {\n      const outerRadius = size * 6 * coronaMultiplier;\n      const outerHaze = ctx.createRadialGradient(x, y, size * 2, x, y, outerRadius);\n      outerHaze.addColorStop(0, `${this.colors.outerGlow}${alpha * 0.15})`);\n      outerHaze.addColorStop(0.6, `${this.colors.cosmicHaze}${alpha * 0.08})`);\n      outerHaze.addColorStop(1, 'rgba(180, 140, 100, 0)');\n\n      ctx.beginPath();\n      ctx.arc(x, y, outerRadius, 0, Math.PI * 2);\n      ctx.fillStyle = outerHaze;\n      ctx.fill();\n    }\n\n    // Layer 3: Amber glow\n    const amberRadius = size * 4 * coronaMultiplier;\n    const amberGlow = ctx.createRadialGradient(x, y, size, x, y, amberRadius);\n    amberGlow.addColorStop(0, `${this.colors.midAmber}${alpha * 0.4})`);\n    amberGlow.addColorStop(0.6, `${this.colors.outerGlow}${alpha * 0.2})`);\n    amberGlow.addColorStop(1, 'rgba(220, 160, 60, 0)');\n\n    ctx.beginPath();\n    ctx.arc(x, y, amberRadius, 0, Math.PI * 2);\n    ctx.fillStyle = amberGlow;\n    ctx.fill();\n\n    // Layer 2: Inner gold glow\n    const goldRadius = size * 2.5 * coronaMultiplier;\n    const goldGlow = ctx.createRadialGradient(x, y, 0, x, y, goldRadius);\n    goldGlow.addColorStop(0, `${this.colors.innerGold}${alpha * 0.7})`);\n    goldGlow.addColorStop(0.5, `${this.colors.midAmber}${alpha * 0.4})`);\n    goldGlow.addColorStop(1, 'rgba(255, 190, 80, 0)');\n\n    ctx.beginPath();\n    ctx.arc(x, y, goldRadius, 0, Math.PI * 2);\n    ctx.fillStyle = goldGlow;\n    ctx.fill();\n\n    // Layer 1: Hot white core\n    ctx.beginPath();\n    ctx.arc(x, y, size * 0.8, 0, Math.PI * 2);\n    ctx.fillStyle = `${this.colors.coreWhite}${Math.min(1, alpha * 1.1)})`;\n    ctx.fill();\n  }\n}\n",
    "/**\n * DiscoveriesTab - Manages the discoveries panel UI\n */\n\nimport type { ConstellationData } from '../data/constellations';\n\n\nexport class DiscoveriesTab {\n  private listElement: HTMLElement | null;\n  private countElement: HTMLElement | null;\n  private discoveries: ConstellationData[] = [];\n\n  constructor() {\n    this.listElement = document.getElementById('discoveries-list');\n    this.countElement = document.querySelector('.discovery-count');\n  }\n\n  /**\n   * Add a newly discovered constellation\n   */\n  addDiscovery(constellation: ConstellationData): void {\n    this.discoveries.push(constellation);\n    this.updateCount();\n    this.addCard(constellation);\n\n    // Flash the toggle button\n    const toggle = document.getElementById('discoveries-toggle');\n    if (toggle) {\n      toggle.classList.add('pulse');\n      setTimeout(() => toggle.classList.remove('pulse'), 500);\n    }\n  }\n\n  /**\n   * Update the discovery count badge\n   */\n  private updateCount(): void {\n    if (this.countElement) {\n      this.countElement.textContent = String(this.discoveries.length);\n    }\n  }\n\n  /**\n   * Add a discovery card to the list\n   */\n  private addCard(constellation: ConstellationData): void {\n    if (!this.listElement) return;\n\n    const card = document.createElement('div');\n    card.className = 'discovery-card';\n    card.innerHTML = `\n      <h3>${constellation.name}</h3>\n      <p>${constellation.description || constellation.latinName || ''}</p>\n    `;\n\n    // Add with animation\n    card.style.opacity = '0';\n    card.style.transform = 'translateY(-20px)';\n    this.listElement.prepend(card);\n\n    requestAnimationFrame(() => {\n      card.style.transition = 'all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)';\n      card.style.opacity = '1';\n      card.style.transform = 'translateY(0)';\n    });\n  }\n\n  /**\n   * Get all discoveries\n   */\n  getDiscoveries(): ConstellationData[] {\n    return this.discoveries;\n  }\n}\n",
    "/**\n * AudioManager - Handles all game audio\n * Uses Web Audio API for procedural sound generation\n */\n\nexport class AudioManager {\n  private audioContext: AudioContext | null = null;\n  private masterGain: GainNode | null = null;\n  private ambientGain: GainNode | null = null;\n  private ambientNodes: OscillatorNode[] = [];\n  private isAmbientPlaying: boolean = false;\n  private initialized: boolean = false;\n\n  constructor() {\n    // Audio context will be created on first user interaction\n    this.initOnInteraction();\n  }\n\n  /**\n   * Initialize audio context on first user interaction (browser requirement)\n   */\n  private initOnInteraction(): void {\n    const initAudio = () => {\n      this.ensureInitialized();\n      document.removeEventListener('click', initAudio);\n      document.removeEventListener('keydown', initAudio);\n      document.removeEventListener('mousemove', initAudio);\n    };\n\n    document.addEventListener('click', initAudio);\n    document.addEventListener('keydown', initAudio);\n    document.addEventListener('mousemove', initAudio);\n  }\n\n  /**\n   * Ensure audio context is initialized and will be running\n   * Note: Sounds scheduled on a suspended context will play when resumed\n   */\n  private ensureInitialized(): boolean {\n    // Already initialized - just try to resume if needed\n    if (this.initialized && this.audioContext) {\n      if (this.audioContext.state === 'suspended') {\n        this.audioContext.resume();\n      }\n      // Return true even if suspended - scheduled sounds will play when resumed\n      return true;\n    }\n\n    try {\n      this.audioContext = new AudioContext();\n      this.masterGain = this.audioContext.createGain();\n      this.masterGain.gain.value = 0.3;\n      this.masterGain.connect(this.audioContext.destination);\n\n      this.ambientGain = this.audioContext.createGain();\n      this.ambientGain.gain.value = 0;\n      this.ambientGain.connect(this.masterGain);\n\n      this.initialized = true;\n      console.log('ðŸ”Š Audio initialized, state:', this.audioContext.state);\n\n      // Try to resume immediately\n      if (this.audioContext.state === 'suspended') {\n        this.audioContext.resume();\n      }\n\n      return true;\n    } catch (e) {\n      console.warn('Audio initialization failed:', e);\n      return false;\n    }\n  }\n\n  /**\n   * Start ambient background sounds\n   */\n  startAmbient(): void {\n    if (this.isAmbientPlaying) return;\n    if (!this.ensureInitialized() || !this.audioContext || !this.ambientGain) return;\n    this.isAmbientPlaying = true;\n\n    // Create ethereal drone using multiple oscillators\n    const frequencies = [55, 82.5, 110, 165];  // Low harmonious frequencies\n\n    const now = this.audioContext.currentTime;\n\n    for (const freq of frequencies) {\n      const osc = this.audioContext.createOscillator();\n      const gain = this.audioContext.createGain();\n\n      osc.type = 'sine';\n      osc.frequency.value = freq;\n\n      // Very subtle volume for ambient feel\n      gain.gain.value = 0.02;\n\n      osc.connect(gain);\n      gain.connect(this.ambientGain);\n\n      osc.start();\n      this.ambientNodes.push(osc);\n    }\n\n    // Fade in ambient\n    this.ambientGain.gain.linearRampToValueAtTime(0.5, now + 2);\n  }\n\n  /**\n   * Stop ambient sounds\n   */\n  stopAmbient(): void {\n    if (!this.audioContext || !this.ambientGain) return;\n\n    const now = this.audioContext.currentTime;\n    this.ambientGain.gain.linearRampToValueAtTime(0, now + 1);\n\n    setTimeout(() => {\n      for (const osc of this.ambientNodes) {\n        osc.stop();\n        osc.disconnect();\n      }\n      this.ambientNodes = [];\n      this.isAmbientPlaying = false;\n    }, 1000);\n  }\n\n  /**\n   * Play discovery sound sequence\n   */\n  playDiscoverySound(): void {\n    if (!this.ensureInitialized() || !this.audioContext || !this.masterGain) {\n      return;\n    }\n\n    const ctx = this.audioContext;\n    const now = ctx.currentTime;\n\n    // Ascending chime sequence\n    const notes = [523.25, 659.25, 783.99, 1046.5];  // C5, E5, G5, C6\n    const noteDuration = 0.15;\n\n    for (let i = 0; i < notes.length; i++) {\n      const freq = notes[i];\n      if (!freq) continue;\n\n      const osc = ctx.createOscillator();\n      const gain = ctx.createGain();\n\n      osc.type = 'sine';\n      osc.frequency.value = freq;\n\n      const startTime = now + i * noteDuration;\n\n      gain.gain.setValueAtTime(0, startTime);\n      gain.gain.linearRampToValueAtTime(0.3, startTime + 0.02);\n      gain.gain.exponentialRampToValueAtTime(0.01, startTime + noteDuration * 2);\n\n      osc.connect(gain);\n      gain.connect(this.masterGain);\n\n      osc.start(startTime);\n      osc.stop(startTime + noteDuration * 3);\n    }\n\n    // Final resonant tone\n    const finalOsc = ctx.createOscillator();\n    const finalGain = ctx.createGain();\n\n    finalOsc.type = 'sine';\n    finalOsc.frequency.value = 523.25;  // C5\n\n    const finalStart = now + notes.length * noteDuration;\n\n    finalGain.gain.setValueAtTime(0, finalStart);\n    finalGain.gain.linearRampToValueAtTime(0.4, finalStart + 0.1);\n    finalGain.gain.exponentialRampToValueAtTime(0.01, finalStart + 1.5);\n\n    finalOsc.connect(finalGain);\n    finalGain.connect(this.masterGain);\n\n    finalOsc.start(finalStart);\n    finalOsc.stop(finalStart + 2);\n  }\n\n  /**\n   * Play a single star connection sound\n   */\n  playStarConnectionSound(index: number, total: number): void {\n    if (!this.ensureInitialized() || !this.audioContext || !this.masterGain) {\n      return;\n    }\n\n    const ctx = this.audioContext;\n    const now = ctx.currentTime;\n\n    // Ascending pitch based on progress\n    const baseFreq = 400;\n    const freq = baseFreq + (index / total) * 400;\n\n    const osc = ctx.createOscillator();\n    const gain = ctx.createGain();\n\n    osc.type = 'triangle';\n    osc.frequency.value = freq;\n\n    gain.gain.setValueAtTime(0, now);\n    gain.gain.linearRampToValueAtTime(0.15, now + 0.01);\n    gain.gain.exponentialRampToValueAtTime(0.01, now + 0.2);\n\n    osc.connect(gain);\n    gain.connect(this.masterGain);\n\n    osc.start(now);\n    osc.stop(now + 0.3);\n  }\n}\n",
    "/**\n * Constellation data definitions\n * Using simplified artistic star positions for aesthetic appeal\n */\n\nexport interface Star {\n  id: string;\n  x: number;  // Position in sky coordinates (0-1 normalized)\n  y: number;\n  brightness: number;  // 0-1, affects size and glow\n}\n\nexport interface ConstellationData {\n  id: string;\n  name: string;\n  latinName?: string;\n  stars: Star[];\n  connections: [number, number][];  // Pairs of star indices to connect\n  centerX: number;  // Center position for discovery detection\n  centerY: number;\n  radius: number;   // Detection radius\n  discovered: boolean;\n  description?: string;\n}\n\n// Sky dimensions in virtual units\nexport const SKY_WIDTH = 4000;\nexport const SKY_HEIGHT = 2000;\n\n/**\n * Initial constellation data\n * Positions are in sky coordinates (0 to SKY_WIDTH/HEIGHT)\n */\nexport const CONSTELLATIONS: ConstellationData[] = [\n  {\n    id: 'orion',\n    name: 'Orion',\n    latinName: 'Orion',\n    description: 'The Hunter - One of the most recognizable constellations in the night sky.',\n    centerX: 800,\n    centerY: 600,\n    radius: 200,\n    discovered: false,\n    stars: [\n      { id: 'betelgeuse', x: 700, y: 450, brightness: 1.0 },    // Left shoulder\n      { id: 'bellatrix', x: 900, y: 470, brightness: 0.85 },    // Right shoulder\n      { id: 'alnitak', x: 770, y: 600, brightness: 0.8 },       // Belt left\n      { id: 'alnilam', x: 800, y: 590, brightness: 0.85 },      // Belt center\n      { id: 'mintaka', x: 830, y: 580, brightness: 0.8 },       // Belt right\n      { id: 'saiph', x: 720, y: 750, brightness: 0.75 },        // Left foot\n      { id: 'rigel', x: 880, y: 770, brightness: 0.95 },        // Right foot\n    ],\n    connections: [\n      [0, 1],  // Shoulders\n      [0, 2],  // Left shoulder to belt\n      [1, 4],  // Right shoulder to belt\n      [2, 3],  // Belt\n      [3, 4],  // Belt\n      [2, 5],  // Belt to left foot\n      [4, 6],  // Belt to right foot\n    ]\n  },\n  {\n    id: 'ursa-major',\n    name: 'Ursa Major',\n    latinName: 'Ursa Major',\n    description: 'The Great Bear - Contains the famous Big Dipper asterism.',\n    centerX: 1800,\n    centerY: 400,\n    radius: 180,\n    discovered: false,\n    stars: [\n      { id: 'dubhe', x: 1650, y: 320, brightness: 0.9 },\n      { id: 'merak', x: 1680, y: 420, brightness: 0.85 },\n      { id: 'phecda', x: 1780, y: 450, brightness: 0.8 },\n      { id: 'megrez', x: 1820, y: 380, brightness: 0.7 },\n      { id: 'alioth', x: 1900, y: 360, brightness: 0.85 },\n      { id: 'mizar', x: 1970, y: 340, brightness: 0.9 },\n      { id: 'alkaid', x: 2050, y: 380, brightness: 0.88 },\n    ],\n    connections: [\n      [0, 1],  // Bowl front\n      [1, 2],  // Bowl bottom\n      [2, 3],  // Bowl back\n      [3, 0],  // Bowl top\n      [3, 4],  // Handle start\n      [4, 5],  // Handle middle\n      [5, 6],  // Handle end\n    ]\n  },\n  {\n    id: 'cassiopeia',\n    name: 'Cassiopeia',\n    latinName: 'Cassiopeia',\n    description: 'The Queen - Easily recognized by its distinctive W shape.',\n    centerX: 2800,\n    centerY: 300,\n    radius: 140,\n    discovered: false,\n    stars: [\n      { id: 'schedar', x: 2650, y: 280, brightness: 0.9 },\n      { id: 'caph', x: 2720, y: 350, brightness: 0.85 },\n      { id: 'gamma-cas', x: 2800, y: 260, brightness: 0.95 },\n      { id: 'ruchbah', x: 2880, y: 340, brightness: 0.8 },\n      { id: 'segin', x: 2950, y: 290, brightness: 0.75 },\n    ],\n    connections: [\n      [0, 1],\n      [1, 2],\n      [2, 3],\n      [3, 4],\n    ]\n  },\n  {\n    id: 'cygnus',\n    name: 'Cygnus',\n    latinName: 'Cygnus',\n    description: 'The Swan - Also known as the Northern Cross.',\n    centerX: 1200,\n    centerY: 1200,\n    radius: 160,\n    discovered: false,\n    stars: [\n      { id: 'deneb', x: 1200, y: 1050, brightness: 1.0 },       // Tail\n      { id: 'sadr', x: 1200, y: 1180, brightness: 0.85 },       // Center\n      { id: 'gienah', x: 1100, y: 1220, brightness: 0.75 },     // Left wing\n      { id: 'delta-cyg', x: 1300, y: 1230, brightness: 0.78 },  // Right wing\n      { id: 'albireo', x: 1200, y: 1350, brightness: 0.8 },     // Head\n    ],\n    connections: [\n      [0, 1],  // Body\n      [1, 4],  // Body to head\n      [1, 2],  // Left wing\n      [1, 3],  // Right wing\n    ]\n  },\n  {\n    id: 'lyra',\n    name: 'Lyra',\n    latinName: 'Lyra',\n    description: 'The Lyre - Home to Vega, one of the brightest stars.',\n    centerX: 2400,\n    centerY: 900,\n    radius: 100,\n    discovered: false,\n    stars: [\n      { id: 'vega', x: 2400, y: 820, brightness: 1.0 },\n      { id: 'sulafat', x: 2380, y: 920, brightness: 0.7 },\n      { id: 'sheliak', x: 2420, y: 930, brightness: 0.72 },\n      { id: 'delta-lyr', x: 2360, y: 990, brightness: 0.65 },\n      { id: 'zeta-lyr', x: 2440, y: 980, brightness: 0.68 },\n    ],\n    connections: [\n      [0, 1],\n      [0, 2],\n      [1, 2],\n      [1, 3],\n      [2, 4],\n      [3, 4],\n    ]\n  },\n  {\n    id: 'scorpius',\n    name: 'Scorpius',\n    latinName: 'Scorpius',\n    description: 'The Scorpion - Features the red supergiant Antares.',\n    centerX: 3200,\n    centerY: 1400,\n    radius: 200,\n    discovered: false,\n    stars: [\n      { id: 'antares', x: 3100, y: 1300, brightness: 1.0 },     // Heart\n      { id: 'graffias', x: 3000, y: 1200, brightness: 0.75 },   // Claw\n      { id: 'dschubba', x: 3050, y: 1250, brightness: 0.8 },    // Head\n      { id: 'sigma-sco', x: 3150, y: 1380, brightness: 0.7 },   // Body\n      { id: 'tau-sco', x: 3200, y: 1450, brightness: 0.72 },    // Tail\n      { id: 'sargas', x: 3280, y: 1520, brightness: 0.78 },     // Tail\n      { id: 'shaula', x: 3350, y: 1580, brightness: 0.85 },     // Stinger\n    ],\n    connections: [\n      [1, 2],  // Claw to head\n      [2, 0],  // Head to heart\n      [0, 3],  // Heart to body\n      [3, 4],  // Body to tail\n      [4, 5],  // Tail\n      [5, 6],  // To stinger\n    ]\n  },\n];\n\n/**\n * Get a constellation by ID\n */\nexport function getConstellation(id: string): ConstellationData | undefined {\n  return CONSTELLATIONS.find(c => c.id === id);\n}\n\n/**\n * Get all undiscovered constellations\n */\nexport function getUndiscoveredConstellations(): ConstellationData[] {\n  return CONSTELLATIONS.filter(c => !c.discovered);\n}\n\n/**\n * Get all discovered constellations\n */\nexport function getDiscoveredConstellations(): ConstellationData[] {\n  return CONSTELLATIONS.filter(c => c.discovered);\n}\n",
    "/**\n * Main Game class - orchestrates all game systems\n */\n\nimport { StarField } from './StarField';\nimport { Telescope } from './Telescope';\nimport { Constellation } from './Constellation';\nimport { DiscoveriesTab } from '../ui/DiscoveriesTab';\nimport { AudioManager } from '../audio/AudioManager';\nimport { CONSTELLATIONS, SKY_WIDTH, SKY_HEIGHT, type ConstellationData } from '../data/constellations';\n\n\nexport interface GameState {\n  running: boolean;\n  mouseX: number;\n  mouseY: number;\n  viewX: number;  // Current view center in sky coordinates\n  viewY: number;\n  discoveredCount: number;\n}\n\nexport class Game {\n  private canvas: HTMLCanvasElement;\n  private ctx: CanvasRenderingContext2D;\n  private telescopeOverlay: HTMLDivElement;\n\n  private state: GameState;\n  private starField: StarField;\n  private telescope: Telescope;\n  private constellations: Constellation[];\n  private discoveriesTab: DiscoveriesTab;\n  private audioManager: AudioManager;\n\n  private lastFrameTime: number = 0;\n  private animationFrameId: number = 0;\n\n  constructor(canvas: HTMLCanvasElement, telescopeOverlay: HTMLDivElement) {\n    this.canvas = canvas;\n    this.telescopeOverlay = telescopeOverlay;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      throw new Error('Could not get 2D context');\n    }\n    this.ctx = ctx;\n\n    // Initialize state - start view in center of sky\n    this.state = {\n      running: false,\n      mouseX: window.innerWidth / 2,\n      mouseY: window.innerHeight / 2,\n      viewX: SKY_WIDTH / 2,\n      viewY: SKY_HEIGHT / 2,\n      discoveredCount: 0\n    };\n\n    // Initialize subsystems\n    this.starField = new StarField(SKY_WIDTH, SKY_HEIGHT);\n    this.telescope = new Telescope(telescopeOverlay);\n    this.constellations = CONSTELLATIONS.map(data => new Constellation(data));\n    this.discoveriesTab = new DiscoveriesTab();\n    this.audioManager = new AudioManager();\n\n    // Set up event listeners\n    this.setupEventListeners();\n    this.resizeCanvas();\n  }\n\n  private setupEventListeners(): void {\n    // Mouse movement\n    window.addEventListener('mousemove', (e) => {\n      this.state.mouseX = e.clientX;\n      this.state.mouseY = e.clientY;\n    });\n\n    // Window resize\n    window.addEventListener('resize', () => this.resizeCanvas());\n\n    // Discoveries panel toggle\n    const toggle = document.getElementById('discoveries-toggle');\n    const panel = document.getElementById('discoveries-panel');\n    if (toggle && panel) {\n      toggle.addEventListener('click', () => {\n        panel.classList.toggle('collapsed');\n      });\n    }\n  }\n\n  private resizeCanvas(): void {\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n  }\n\n  /**\n   * Start the game loop\n   */\n  start(): void {\n    this.state.running = true;\n    this.lastFrameTime = performance.now();\n    this.audioManager.startAmbient();\n    this.gameLoop();\n  }\n\n  /**\n   * Stop the game loop\n   */\n  stop(): void {\n    this.state.running = false;\n    if (this.animationFrameId) {\n      cancelAnimationFrame(this.animationFrameId);\n    }\n    this.audioManager.stopAmbient();\n  }\n\n  /**\n   * Main game loop\n   */\n  private gameLoop = (): void => {\n    if (!this.state.running) return;\n\n    const currentTime = performance.now();\n    const deltaTime = (currentTime - this.lastFrameTime) / 1000;  // Convert to seconds\n    this.lastFrameTime = currentTime;\n\n    this.update(deltaTime);\n    this.render();\n\n    this.animationFrameId = requestAnimationFrame(this.gameLoop);\n  };\n\n  /**\n   * Update game state\n   */\n  private update(deltaTime: number): void {\n    // Update telescope view offset with drift effect\n    this.telescope.update(this.state.mouseX, this.state.mouseY, deltaTime);\n\n    // Update view position based on mouse offset (with smooth drift/parallax)\n    const viewOffset = this.telescope.getViewOffset();\n    const viewSpeedX = viewOffset.x * 0.5;\n    const viewSpeedY = viewOffset.y * 0.5;\n\n    this.state.viewX += viewSpeedX * deltaTime;\n    this.state.viewY += viewSpeedY * deltaTime;\n\n    // Clamp view to sky bounds\n    const margin = 400;\n    this.state.viewX = Math.max(margin, Math.min(SKY_WIDTH - margin, this.state.viewX));\n    this.state.viewY = Math.max(margin, Math.min(SKY_HEIGHT - margin, this.state.viewY));\n\n    // Check for constellation discovery\n    this.checkConstellationDiscovery(deltaTime);\n\n    // Update constellation animations (for sound sync)\n    for (const constellation of this.constellations) {\n      constellation.update(deltaTime);\n    }\n  }\n\n  /**\n   * Check if player is hovering over any undiscovered constellation\n   */\n  private checkConstellationDiscovery(deltaTime: number): void {\n    const telescopePos = this.telescope.getPosition();\n    const telescopeRadius = this.telescope.getRadius();\n\n    // Sky coordinates are simply the current view position (telescope is at center)\n    const skyX = this.state.viewX;\n    const skyY = this.state.viewY;\n\n    for (const constellation of this.constellations) {\n      if (constellation.isDiscovered()) continue;\n\n      const data = constellation.getData();\n      const distance = Math.hypot(skyX - data.centerX, skyY - data.centerY);\n\n      if (distance < data.radius + telescopeRadius * 0.3) {\n        // Player is hovering over this constellation\n        const discovered = constellation.addHoverTime(deltaTime);\n\n        if (discovered) {\n          this.onConstellationDiscovered(constellation);\n        }\n      } else {\n        constellation.resetHoverTime();\n      }\n    }\n  }\n\n  /**\n   * Handle constellation discovery\n   */\n  private onConstellationDiscovered(constellation: Constellation): void {\n    const data = constellation.getData();\n    this.state.discoveredCount++;\n\n    // Play sound for each connection as it's revealed\n    constellation.setOnConnectionRevealed((index, total) => {\n      this.audioManager.playStarConnectionSound(index, total);\n    });\n\n    // Set up callback for when path-tracing animation completes\n    constellation.setOnAnimationComplete(() => {\n      // Play completion sound\n      this.audioManager.playDiscoverySound();\n\n      // Update UI\n      this.discoveriesTab.addDiscovery(data);\n\n      // Show notification\n      this.showDiscoveryNotification(data.name);\n    });\n  }\n\n  /**\n   * Show discovery notification popup\n   */\n  private showDiscoveryNotification(name: string): void {\n    const notification = document.getElementById('discovery-notification');\n    const nameEl = notification?.querySelector('.constellation-name');\n\n    if (notification && nameEl) {\n      notification.classList.remove('hidden');\n      nameEl.textContent = name;\n\n      // Trigger animation\n      requestAnimationFrame(() => {\n        notification.classList.add('visible');\n      });\n\n      // Hide after delay\n      setTimeout(() => {\n        notification.classList.remove('visible');\n        setTimeout(() => {\n          notification.classList.add('hidden');\n        }, 500);\n      }, 3000);\n    }\n  }\n\n  /**\n   * Render the game\n   */\n  private render(): void {\n    const { ctx, canvas } = this;\n    const { viewX, viewY } = this.state;\n\n    // Clear canvas with deep space color\n    ctx.fillStyle = '#050510';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // Get telescope position and radius for clipping\n    const telescopePos = this.telescope.getPosition();\n    const telescopeRadius = this.telescope.getRadius();\n\n    // Create circular clipping region for telescope view\n    ctx.save();\n    ctx.beginPath();\n    ctx.arc(telescopePos.x, telescopePos.y, telescopeRadius, 0, Math.PI * 2);\n    ctx.clip();\n\n    // Draw star field within telescope view\n    this.starField.render(ctx, viewX, viewY, canvas.width, canvas.height, telescopePos);\n\n    // Draw constellations\n    for (const constellation of this.constellations) {\n      constellation.render(ctx, viewX, viewY, canvas.width, canvas.height);\n    }\n\n    ctx.restore();\n\n    // Draw background stars (outside telescope, faint)\n    this.renderBackgroundStars();\n  }\n\n  /**\n   * Render faint background stars visible outside the telescope\n   */\n  private renderBackgroundStars(): void {\n    const { ctx, canvas } = this;\n    const telescopePos = this.telescope.getPosition();\n    const telescopeRadius = this.telescope.getRadius();\n\n    // Use seeded random for consistent background\n    const bgStars = this.starField.getBackgroundStars();\n\n    ctx.save();\n\n    // Invert clip - draw outside telescope\n    ctx.beginPath();\n    ctx.rect(0, 0, canvas.width, canvas.height);\n    ctx.arc(telescopePos.x, telescopePos.y, telescopeRadius + 30, 0, Math.PI * 2, true);\n    ctx.clip();\n\n    for (const star of bgStars) {\n      const screenX = (star.x / SKY_WIDTH) * canvas.width;\n      const screenY = (star.y / SKY_HEIGHT) * canvas.height;\n\n      ctx.beginPath();\n      ctx.arc(screenX, screenY, star.size * 0.5, 0, Math.PI * 2);\n      ctx.fillStyle = `rgba(200, 210, 255, ${star.brightness * 0.3})`;\n      ctx.fill();\n    }\n\n    ctx.restore();\n  }\n}\n",
    "/**\n * Seeing Stars - Main Entry Point\n */\n\nimport { Game } from './game/Game';\n\n\n// Wait for DOM to be ready\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById('sky-canvas') as HTMLCanvasElement;\n  const telescopeOverlay = document.getElementById('telescope-overlay') as HTMLDivElement;\n  const startScreen = document.getElementById('start-screen') as HTMLDivElement;\n  const startButton = document.getElementById('start-button') as HTMLButtonElement;\n\n  if (!canvas || !telescopeOverlay) {\n    console.error('Required elements not found');\n    return;\n  }\n\n  // Initialize the game (but don't start yet)\n  const game = new Game(canvas, telescopeOverlay);\n\n  // Start game when button is clicked (this also unlocks audio)\n  startButton?.addEventListener('click', () => {\n    startScreen.classList.add('hidden');\n    game.start();\n  });\n});\n"
  ],
  "mappings": "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",
  "debugId": "3E83BDCE67DBE22B64756E2164756E21",
  "names": []
}